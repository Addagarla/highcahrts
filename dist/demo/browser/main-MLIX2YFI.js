var qg=Object.defineProperty,em=Object.defineProperties;var tm=Object.getOwnPropertyDescriptors;var Or=Object.getOwnPropertySymbols;var _c=Object.prototype.hasOwnProperty,kc=Object.prototype.propertyIsEnumerable;var Pc=(e,t,r)=>t in e?qg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Te=(e,t)=>{for(var r in t||={})_c.call(t,r)&&Pc(e,r,t[r]);if(Or)for(var r of Or(t))kc.call(t,r)&&Pc(e,r,t[r]);return e},At=(e,t)=>em(e,tm(t));var Ec=(e,t)=>{var r={};for(var s in e)_c.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Or)for(var s of Or(e))t.indexOf(s)<0&&kc.call(e,s)&&(r[s]=e[s]);return r};var im=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Xg=im((m_,Sa)=>{"use strict";(function(){function e(D,P){D.prototype=t(P.prototype),D.prototype.constructor=D,D.base=P.prototype}function t(D){function P(){}return P.prototype=D,new P}function r(D,P,F){return F==="millisecond"?D.setMilliseconds(D.getMilliseconds()+1*P):F==="second"?D.setSeconds(D.getSeconds()+1*P):F==="minute"?D.setMinutes(D.getMinutes()+1*P):F==="hour"?D.setHours(D.getHours()+1*P):F==="day"?D.setDate(D.getDate()+1*P):F==="week"?D.setDate(D.getDate()+7*P):F==="month"?D.setMonth(D.getMonth()+1*P):F==="year"&&D.setFullYear(D.getFullYear()+1*P),D}function s(D,P){var F=!1;for(0>D&&(F=!0,D*=-1),D=""+D,P=P||1;D.length<P;)D="0"+D;return F?"-"+D:D}function l(D){if(!D)return D;D=D.replace(/^\s\s*/,"");for(var P=/\s/,F=D.length;P.test(D.charAt(--F)););return D.slice(0,F+1)}function d(D){D.roundRect=function(P,F,$,le,he,K,Fe,qe){Fe&&(this.fillStyle=Fe),qe&&(this.strokeStyle=qe),typeof he>"u"&&(he=5),this.lineWidth=K,this.beginPath(),this.moveTo(P+he,F),this.lineTo(P+$-he,F),this.quadraticCurveTo(P+$,F,P+$,F+he),this.lineTo(P+$,F+le-he),this.quadraticCurveTo(P+$,F+le,P+$-he,F+le),this.lineTo(P+he,F+le),this.quadraticCurveTo(P,F+le,P,F+le-he),this.lineTo(P,F+he),this.quadraticCurveTo(P,F,P+he,F),this.closePath(),Fe&&this.fill(),qe&&0<K&&this.stroke()}}function y(D,P){return D-P}function w(D){var P=((D&16711680)>>16).toString(16),F=((D&65280)>>8).toString(16);return D=((D&255)>>0).toString(16),P=2>P.length?"0"+P:P,F=2>F.length?"0"+F:F,D=2>D.length?"0"+D:D,"#"+P+F+D}function E(D,P){var F=this.length>>>0,$=Number(P)||0,$=0>$?Math.ceil($):Math.floor($);for(0>$&&($+=F);$<F;$++)if($ in this&&this[$]===D)return $;return-1}function M(D){return D===null||typeof D>"u"}function j(D){return D.indexOf||(D.indexOf=E),D}function Y(D){Jt.fSDec&&D[qt("`eeDwdouMhrudods")](qt("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){Jt._fTWm&&Jt._fTWm(D)})}function re(D,P,F){F=F||"normal";var $=D+"_"+P+"_"+F,le=an[$];if(isNaN(le)){try{if(!ii){var he=document.body;ii=document.createElement("span"),ii.innerHTML="";var K=document.createTextNode("Mpgyi");ii.appendChild(K),he.appendChild(ii)}ii.style.display="",Ae(ii,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:D,fontSize:P+"px",fontWeight:F}),le=Math.round(ii.offsetHeight),ii.style.display="none"}catch{le=Math.ceil(1.1*P)}le=Math.max(le,P),an[$]=le}return le}function te(D,P){var F=[];if(F={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[D||"solid"])for(var $=0;$<F.length;$++)F[$]*=P;else F=[];return F}function de(D,P,F,$,le){return $=$||[],le=M(le)?Zi?{passive:!1,capture:!1}:!1:le,$.push([D,P,F,le]),D.addEventListener?(D.addEventListener(P,F,le),F):D.attachEvent?($=function(he){he=he||window.event,he.preventDefault=he.preventDefault||function(){he.returnValue=!1},he.stopPropagation=he.stopPropagation||function(){he.cancelBubble=!0},F.call(D,he)},D.attachEvent("on"+P,$),$):!1}function He(D){if(D._menuButton)D.exportEnabled?(Ae(D._menuButton,{backgroundColor:D.toolbar.itemBackgroundColor,color:D.toolbar.fontColor}),it(D._menuButton),ht(D,D._menuButton,"menu")):Ht(D._menuButton);else if(D.exportEnabled&&V){var P=!1;D._menuButton=document.createElement("button"),ht(D,D._menuButton,"menu"),D._toolBar.appendChild(D._menuButton),de(D._menuButton,"touchstart",function(he){P=!0},D.allDOMEventHandlers),de(D._menuButton,"click",function(){D._dropdownMenu.style.display!=="none"||D._dropDownCloseTime&&500>=new Date().getTime()-D._dropDownCloseTime.getTime()||(D._dropdownMenu.style.display="block",D._menuButton.blur(),D._dropdownMenu.focus())},D.allDOMEventHandlers,!0),de(D._menuButton,"mousemove",function(){P||(Ae(D._menuButton,{backgroundColor:D.toolbar.itemBackgroundColorOnHover,color:D.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&Ae(D._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},D.allDOMEventHandlers,!0),de(D._menuButton,"mouseout",function(){P||(Ae(D._menuButton,{backgroundColor:D.toolbar.itemBackgroundColor,color:D.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&Ae(D._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},D.allDOMEventHandlers,!0)}if(D.exportEnabled&&D._dropdownMenu){Ae(D._dropdownMenu,{backgroundColor:D.toolbar.itemBackgroundColor,color:D.toolbar.fontColor});for(var F=D._dropdownMenu.childNodes,$=[D._cultureInfo.printText,D._cultureInfo.saveJPGText,D._cultureInfo.savePNGText],le=0;le<F.length;le++)Ae(F[le],{backgroundColor:D.toolbar.itemBackgroundColor,color:D.toolbar.fontColor}),F[le].innerHTML=$[le]}else!D._dropdownMenu&&D.exportEnabled&&V&&(P=!1,D._dropdownMenu=document.createElement("div"),D._dropdownMenu.setAttribute("tabindex",-1),F=D.theme.indexOf("dark")!==-1?"black":"#888888",Ae(D._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:D.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+F}),D._dropdownMenu.style.display="none",D._toolBar.appendChild(D._dropdownMenu),de(D._dropdownMenu,"blur",function(){Ht(D._dropdownMenu),D._dropDownCloseTime=new Date},D.allDOMEventHandlers,!0),F=document.createElement("div"),Ae(F,{padding:"12px 8px 12px 8px"}),F.innerHTML=D._cultureInfo.printText,F.style.backgroundColor=D.toolbar.itemBackgroundColor,F.style.color=D.toolbar.fontColor,D._dropdownMenu.appendChild(F),de(F,"touchstart",function(he){P=!0},D.allDOMEventHandlers),de(F,"mousemove",function(){P||(this.style.backgroundColor=D.toolbar.itemBackgroundColorOnHover,this.style.color=D.toolbar.fontColorOnHover)},D.allDOMEventHandlers,!0),de(F,"mouseout",function(){P||(this.style.backgroundColor=D.toolbar.itemBackgroundColor,this.style.color=D.toolbar.fontColor)},D.allDOMEventHandlers,!0),de(F,"click",function(){D.print(),Ht(D._dropdownMenu)},D.allDOMEventHandlers,!0),F=document.createElement("div"),Ae(F,{padding:"12px 8px 12px 8px"}),F.innerHTML=D._cultureInfo.saveJPGText,F.style.backgroundColor=D.toolbar.itemBackgroundColor,F.style.color=D.toolbar.fontColor,D._dropdownMenu.appendChild(F),de(F,"touchstart",function(he){P=!0},D.allDOMEventHandlers),de(F,"mousemove",function(){P||(this.style.backgroundColor=D.toolbar.itemBackgroundColorOnHover,this.style.color=D.toolbar.fontColorOnHover)},D.allDOMEventHandlers,!0),de(F,"mouseout",function(){P||(this.style.backgroundColor=D.toolbar.itemBackgroundColor,this.style.color=D.toolbar.fontColor)},D.allDOMEventHandlers,!0),de(F,"click",function(){D.exportChart({format:"jpeg",fileName:D.exportFileName}),Ht(D._dropdownMenu)},D.allDOMEventHandlers,!0),F=document.createElement("div"),Ae(F,{padding:"12px 8px 12px 8px"}),F.innerHTML=D._cultureInfo.savePNGText,F.style.backgroundColor=D.toolbar.itemBackgroundColor,F.style.color=D.toolbar.fontColor,D._dropdownMenu.appendChild(F),de(F,"touchstart",function(he){P=!0},D.allDOMEventHandlers),de(F,"mousemove",function(){P||(this.style.backgroundColor=D.toolbar.itemBackgroundColorOnHover,this.style.color=D.toolbar.fontColorOnHover)},D.allDOMEventHandlers,!0),de(F,"mouseout",function(){P||(this.style.backgroundColor=D.toolbar.itemBackgroundColor,this.style.color=D.toolbar.fontColor)},D.allDOMEventHandlers,!0),de(F,"click",function(){D.exportChart({format:"png",fileName:D.exportFileName}),Ht(D._dropdownMenu)},D.allDOMEventHandlers,!0))}function Tt(D,P,F){for(D*=Rt,P*=Rt,D=F.getImageData(D,P,2,2).data,P=!0,F=0;4>F;F++)if(D[F]!==D[F+4]|D[F]!==D[F+8]|D[F]!==D[F+12]){P=!1;break}return P?D[0]<<16|D[1]<<8|D[2]:0}function be(D,P,F){return D in P?P[D]:F[D]}function Ct(D,P,F,$){V&&Ic?($=!M($)&&$?D.getContext("2d",{willReadFrequently:!0}):D.getContext("2d"),Rr=$.webkitBackingStorePixelRatio||$.mozBackingStorePixelRatio||$.msBackingStorePixelRatio||$.oBackingStorePixelRatio||$.backingStorePixelRatio||1,Rt=Pa/Rr,D.width=P*Rt,D.height=F*Rt,Pa!==Rr&&(D.style.width=P+"px",D.style.height=F+"px",$.scale(Rt,Rt))):(D.width=P,D.height=F)}function Yt(D){if(!Qg){var P=!1,F=!1;typeof fi.Chart.creditHref>"u"?(D.creditHref=qt("iuuqr;..b`ow`rkr/bnl."),D.creditText=qt("B`ow`rKR/bnl")):(P=D.updateOption("creditText"),F=D.updateOption("creditHref")),D.creditHref&&D.creditText&&(D._creditLink||(D._creditLink=document.createElement("a"),D._creditLink.setAttribute("class","canvasjs-chart-credit"),D._creditLink.setAttribute("title","JavaScript Charts"),Ae(D._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:D.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),D._creditLink.setAttribute("tabIndex",-1),D._creditLink.setAttribute("target","_blank")),(D.renderCount===0||P||F)&&(D._creditLink.setAttribute("href",D.creditHref),D._creditLink.innerHTML=D.creditText),D._creditLink&&D.creditHref&&D.creditText?(D._creditLink.parentElement||D._canvasJSContainer.appendChild(D._creditLink),D._creditLink.style.top=D.height-14+"px"):D._creditLink.parentElement&&D._canvasJSContainer.removeChild(D._creditLink))}}function xt(D,P,F){Dn&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var $=document.createElement("canvas");return $.setAttribute("class","canvasjs-chart-canvas"),Ct($,D,P,F),V||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement($),$}function Ae(D,P){for(var F in P)D.style[F]=P[F]}function ht(D,P,F){P.getAttribute("state")||(P.style.backgroundColor=D.toolbar.itemBackgroundColor,P.style.color=D.toolbar.fontColor,P.style.border="none",Ae(P,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),P.getAttribute("state")!==F&&(P.setAttribute("state",F),P.setAttribute("type","button"),Ae(P,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),P.innerHTML="<img src='"+Jg[F].image+"' alt='"+D._cultureInfo[F+"Text"]+"' />",Ae(P.childNodes[0],{height:"95%",pointerEvents:"none"})),P.setAttribute("title",D._cultureInfo[F+"Text"])}function it(){for(var D=null,P=0;P<arguments.length;P++)D=arguments[P],D.style&&(D.style.display="inline")}function Ht(){for(var D=null,P=0;P<arguments.length;P++)(D=arguments[P])&&D.style&&(D.style.display="none")}function $i(D,P,F,$,le){return D===null||typeof D>"u"?typeof F>"u"?P:F:(D=parseFloat(D.toString())*(0<=D.toString().indexOf("%")?P/100:1),typeof $<"u"&&(D=Math.min($,D),typeof le<"u"&&(D=Math.max(le,D))),!isNaN(D)&&D<=P&&0<=D?D:typeof F>"u"?P:F)}function ut(D,P,F,$,le){this._defaultsKey=D,this._themeOptionsKey=P,this._index=$,this.parent=le,this._eventListeners=[],D={},this.theme&&M(this.parent)&&M(P)&&M($)?D=M(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[P]&&($===null?D=this.parent.themeOptions[P]:0<this.parent.themeOptions[P].length&&($=Math.min(this.parent.themeOptions[P].length-1,$),D=this.parent.themeOptions[P][$])),this.themeOptions=D,this.options=F||{_isPlaceholder:!0},this.setOptions(this.options,D)}function rn(D,P,F,$,le){typeof le>"u"&&(le=0),this._padding=le,this._x1=D,this._y1=P,this._x2=F,this._y2=$,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function je(D,P){je.base.constructor.call(this,"TextBlock",null,P,null,null),this.ctx=D,this._isDirty=!0,this._wrappedText=null,this._initialize()}function Ri(D,P){Ri.base.constructor.call(this,"Toolbar","toolbar",P,null,D),this.chart=D,this.canvas=D.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function Ni(D,P){if(Ni.base.constructor.call(this,"Title","title",P,null,D),this.chart=D,this.canvas=D.canvas,this.ctx=this.chart.ctx,this.optionsName="title",M(this.options.margin)&&D.options.subtitles){for(var F=D.options.subtitles,$=0;$<F.length;$++)if((M(F[$].horizontalAlign)&&this.horizontalAlign==="center"||F[$].horizontalAlign===this.horizontalAlign)&&(M(F[$].verticalAlign)&&this.verticalAlign==="top"||F[$].verticalAlign===this.verticalAlign)&&!F[$].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function on(D,P,F){on.base.constructor.call(this,"Subtitle","subtitles",P,F,D),this.chart=D,this.canvas=D.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Gi(){this.pool=[]}function Oi(D){var P;D&&Ce[D]&&(P=Ce[D]),Oi.base.constructor.call(this,"CultureInfo",null,P,null,null)}var Dn=!1,Jt={},V=!!document.createElement("canvas").getContext,fi={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:V?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:V?"transparent":null,borderColor:V?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:V?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:V?"transparent":null,titleBorderColor:V?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:V?"transparent":null,labelBorderColor:V?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:V?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:V?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:V?"grey":null,labelBorderColor:V?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:V?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:V?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:V?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Ce={en:{}},A=V?"Trebuchet MS, Helvetica, sans-serif":"Arial",H=V?"Impact, Charcoal, sans-serif":"Arial",Q={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},J,ae,oe,we,Xe;ae="#333333",oe="#000000",J="#666666",Xe=we="#000000";var De=20,pe=14,Dt={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:H,fontSize:32,fontColor:ae,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:H,fontSize:pe,fontColor:ae,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:A,indexLabelFontSize:pe,indexLabelFontColor:ae,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:A,titleFontSize:De,titleFontColor:ae,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:0,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:ae,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:0,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:A,titleFontSize:De,titleFontColor:ae,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:1,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:ae,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:1,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:A,fontSize:14,fontColor:ae,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:A,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};oe=ae="#F5F5F5",J="#FFFFFF",we="#40BAF1",Xe="#F5F5F5";var De=20,pe=14,Ne={colorSet:"colorSet2",title:{fontFamily:A,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:A,fontSize:pe,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:A,indexLabelFontSize:pe,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:A,titleFontSize:De,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:A,titleFontSize:De,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:A,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:A,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};oe=ae="#F5F5F5",J="#FFFFFF",we="#40BAF1",Xe="#F5F5F5",De=20,pe=14,H={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:H,fontSize:32,fontColor:ae,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:H,fontSize:pe,fontColor:ae,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:A,indexLabelFontSize:pe,indexLabelFontColor:oe,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:0,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:0,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:1,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:1,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:A,fontSize:14,fontColor:ae,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:A,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:oe,backgroundColor:"rgba(0, 0, 0, .7)"}},J="#FFFFFF",oe=ae="#FAFAFA",we="#40BAF1",Xe="#F5F5F5";var De=20,pe=14,yt={light1:Dt,light2:Ne,dark1:H,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:A,fontSize:32,fontColor:ae,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:A,fontSize:pe,fontColor:ae,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:A,indexLabelFontSize:pe,indexLabelFontColor:oe,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:0,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:1,lineColor:J,tickThickness:1,tickColor:J,gridThickness:0,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:0,lineColor:J,tickThickness:1,tickColor:J,gridThickness:1,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:A,titleFontSize:De,titleFontColor:oe,titleFontWeight:"normal",labelFontFamily:A,labelFontSize:pe,labelFontColor:oe,labelFontWeight:"normal",lineThickness:0,lineColor:J,tickThickness:1,tickColor:J,gridThickness:1,gridColor:J,stripLines:[{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:A,labelFontSize:pe,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Xe,color:we,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:A,fontSize:14,fontColor:ae,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:A,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:oe,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Dt,theme2:Ne,theme3:Dt},Pe={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};(function(){Jt.fSDec=function(D){for(var P="",F=0;F<D.length;F++)P+=String.fromCharCode(Math.ceil(D.length/57/5)^D.charCodeAt(F));return P},delete fi[Jt.fSDec("Bi`su")][Jt.fSDec("bsdehuIsdg")],Jt.pro={sCH:fi[Jt.fSDec("Bi`su")][Jt.fSDec("bsdehuIsdg")]}})();var Zi=function(){var D=!1;try{var P=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return D=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,P),window.removeEventListener("test",null,P))}catch{D=!1}return D}(),an={},ii=null,Ia=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},ln=function(D){D.width=1,D.height=1,D.getContext("2d")&&D.getContext("2d").clearRect(0,0,1,1)},Zg=function(D,P,F){return P=Math.min(this.width,this.height),Math.max(this.theme==="theme4"?0:300<=P?12:11,Math.round(P*(D/400)))},Sn=function(){var D=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,P="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),F="Sun Mon Tue Wed Thu Fri Sat".split(" "),$="January February March April May June July August September October November December".split(" "),le="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),he=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,K=/[^-+\dA-Z]/g;return function(Fe,qe,Se){var $t=Se?Se.days:P,vt=Se?Se.months:$,Et=Se?Se.shortDays:F,Je=Se?Se.shortMonths:le;Se="";var ei=!1;if(Fe=Fe&&Fe.getTime?Fe:Fe?new Date(Fe):new Date,isNaN(Fe))throw SyntaxError("invalid date");qe.slice(0,4)==="UTC:"&&(qe=qe.slice(4),ei=!0),Se=ei?"getUTC":"get";var Gt=Fe[Se+"Date"](),ve=Fe[Se+"Day"](),ct=Fe[Se+"Month"](),i=Fe[Se+"FullYear"](),h=Fe[Se+"Hours"](),o=Fe[Se+"Minutes"](),n=Fe[Se+"Seconds"](),a=Fe[Se+"Milliseconds"](),u=ei?0:Fe.getTimezoneOffset();return Se=qe.replace(D,function(f){switch(f){case"D":return Gt;case"DD":return s(Gt,2);case"DDD":return Et[ve];case"DDDD":return $t[ve];case"M":return ct+1;case"MM":return s(ct+1,2);case"MMM":return Je[ct];case"MMMM":return vt[ct];case"Y":return parseInt(String(i).slice(-2));case"YY":return s(String(i).slice(-2),2);case"YYY":return s(String(i).slice(-3),3);case"YYYY":return s(i,4);case"h":return h%12||12;case"hh":return s(h%12||12,2);case"H":return h;case"HH":return s(h,2);case"m":return o;case"mm":return s(o,2);case"s":return n;case"ss":return s(n,2);case"f":return s(String(a),3).slice(0,1);case"ff":return s(String(a),3).slice(0,2);case"fff":return s(String(a),3).slice(0,3);case"t":return 12>h?"a":"p";case"tt":return 12>h?"am":"pm";case"T":return 12>h?"A":"P";case"TT":return 12>h?"AM":"PM";case"K":return ei?"UTC":(String(Fe).match(he)||[""]).pop().replace(K,"");case"z":return(0<u?"-":"+")+Math.floor(Math.abs(u)/60);case"zz":return(0<u?"-":"+")+s(Math.floor(Math.abs(u)/60),2);case"zzz":return(0<u?"-":"+")+s(Math.floor(Math.abs(u)/60),2)+s(Math.abs(u)%60,2);default:return f.slice(1,f.length-1)}})}}(),Kg=function(D){var P=0>D;if(1>Math.abs(D)){var F=parseInt(D.toString().split("e-")[1]);F&&(D=(P?-1*D:D)*Math.pow(10,F-1),D="0."+Array(F).join("0")+D.toString().substring(2),D=P?"-"+D:D)}else F=parseInt(D.toString().split("+")[1]),20<F&&(F-=20,D/=Math.pow(10,F),D=D.toString()+Array(F+1).join("0"));return String(D)},St=function(D,P,F){if(D===null)return"";if(!isFinite(D))return D;D=Number(D);var $=0>D;$&&(D*=-1);var le=F?F.decimalSeparator:".",he=F?F.digitGroupSeparator:",",K="";P=String(P);var K=1,Gt=F="",Fe=-1,qe=[],Se=[],$t=0,vt=0,Et=0,Je=!1,ei=0,Gt=P.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);P=null;for(var ve=0;Gt&&ve<Gt.length;ve++)if(P=Gt[ve],P==="."&&0>Fe)Fe=ve;else{if(P==="%")K*=100;else if(P==="\u2030"){K*=1e3;continue}else if(P[0]===","&&P[P.length-1]==="."){K/=Math.pow(1e3,P.length-1),Fe=ve+P.length-1;continue}else P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||(Je=!0);0>Fe?(qe.push(P),P==="#"||P==="0"?$t++:P===","&&Et++):(Se.push(P),P!=="#"&&P!=="0"||vt++)}for(Je&&(P=Math.floor(D),Gt=-Math.floor(Math.log(D)/Math.LN10+1),ei=D===0?0:P===0?-($t+Gt):Kg(P).length-$t,K/=Math.pow(10,ei)),0>Fe&&(Fe=ve),K=(D*K).toFixed(vt),P=K.split("."),K=(P[0]+"").split(""),D=(P[1]+"").split(""),K&&K[0]==="0"&&K.shift(),Je=Gt=ve=vt=Fe=0;0<qe.length;)if(P=qe.pop(),P==="#"||P==="0")if(Fe++,Fe===$t){var ct=K,K=[];if(P==="0")for(P=$t-vt-(ct?ct.length:0);0<P;)ct.unshift("0"),P--;for(;0<ct.length;)F=ct.pop()+F,Je++,Je%Gt===0&&ve===Et&&0<ct.length&&(F=he+F)}else 0<K.length?(F=K.pop()+F,vt++,Je++):P==="0"&&(F="0"+F,vt++,Je++),Je%Gt===0&&ve===Et&&0<K.length&&(F=he+F);else P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||!/[eE][+-]*[0]+/.test(P)?P===","?(ve++,Gt=Je,Je=0,0<K.length&&(F=he+F)):F=1<P.length&&(P[0]==='"'&&P[P.length-1]==='"'||P[0]==="'"&&P[P.length-1]==="'")?P.slice(1,P.length-1)+F:P+F:(P=0>ei?P.replace("+","").replace("-",""):P.replace("-",""),F+=P.replace(/[0]+/,function(i){return s(ei,i.length)}));for(he="",qe=!1;0<Se.length;)P=Se.shift(),P==="#"||P==="0"?0<D.length&&Number(D.join(""))!==0?(he+=D.shift(),qe=!0):P==="0"&&(he+="0",qe=!0):1<P.length&&(P[0]==='"'&&P[P.length-1]==='"'||P[0]==="'"&&P[P.length-1]==="'")?he+=P.slice(1,P.length-1):P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||!/[eE][+-]*[0]+/.test(P)?he+=P:(P=0>ei?P.replace("+","").replace("-",""):P.replace("-",""),he+=P.replace(/[0]+/,function(i){return s(ei,i.length)}));return F+=(qe?le:"")+he,$?"-"+F:F},Lr=function(D){var P=0,F=0;return D=D||window.event,D.offsetX||D.offsetX===0?(P=D.offsetX,F=D.offsetY):D.layerX||D.layerX==0?(P=D.layerX,F=D.layerY):(P=D.pageX-D.target.offsetLeft,F=D.pageY-D.target.offsetTop),{x:P,y:F}},Ic=!0,Pa=window.devicePixelRatio||1,Rr=1,Rt=Ic?Pa/Rr:1,wt=function(D,P,F,$,le,he,K,Fe,qe,Se,$t,vt,Et){typeof Et>"u"&&(Et=1),K=K||0,Fe=Fe||"black";var Je=15<$-P&&15<le-F?8:.35*Math.min($-P,le-F);D.beginPath(),D.moveTo(P,F),D.save(),D.fillStyle=he,D.globalAlpha=Et,D.fillRect(P,F,$-P,le-F),D.globalAlpha=1,0<K&&(Et=K%2===0?0:.5,D.beginPath(),D.lineWidth=K,D.strokeStyle=Fe,D.moveTo(P,F),D.rect(P-Et,F-Et,$-P+2*Et,le-F+2*Et),D.stroke()),D.restore(),qe===!0&&(D.save(),D.beginPath(),D.moveTo(P,F),D.lineTo(P+Je,F+Je),D.lineTo($-Je,F+Je),D.lineTo($,F),D.closePath(),K=D.createLinearGradient(($+P)/2,F+Je,($+P)/2,F),K.addColorStop(0,he),K.addColorStop(1,"rgba(255, 255, 255, .4)"),D.fillStyle=K,D.fill(),D.restore()),Se===!0&&(D.save(),D.beginPath(),D.moveTo(P,le),D.lineTo(P+Je,le-Je),D.lineTo($-Je,le-Je),D.lineTo($,le),D.closePath(),K=D.createLinearGradient(($+P)/2,le-Je,($+P)/2,le),K.addColorStop(0,he),K.addColorStop(1,"rgba(255, 255, 255, .4)"),D.fillStyle=K,D.fill(),D.restore()),$t===!0&&(D.save(),D.beginPath(),D.moveTo(P,F),D.lineTo(P+Je,F+Je),D.lineTo(P+Je,le-Je),D.lineTo(P,le),D.closePath(),K=D.createLinearGradient(P+Je,(le+F)/2,P,(le+F)/2),K.addColorStop(0,he),K.addColorStop(1,"rgba(255, 255, 255, 0.1)"),D.fillStyle=K,D.fill(),D.restore()),vt===!0&&(D.save(),D.beginPath(),D.moveTo($,F),D.lineTo($-Je,F+Je),D.lineTo($-Je,le-Je),D.lineTo($,le),K=D.createLinearGradient($-Je,(le+F)/2,$,(le+F)/2),K.addColorStop(0,he),K.addColorStop(1,"rgba(255, 255, 255, 0.1)"),D.fillStyle=K,K.addColorStop(0,he),K.addColorStop(1,"rgba(255, 255, 255, 0.1)"),D.fillStyle=K,D.fill(),D.closePath(),D.restore())},qt=function(D){for(var P="",F=0;F<D.length;F++)P+=String.fromCharCode(Math.ceil(D.length/57/5)^D.charCodeAt(F));return P},Qg=window&&window[qt("mnb`uhno")]&&window[qt("mnb`uhno")].href&&window[qt("mnb`uhno")].href.indexOf&&(window[qt("mnb`uhno")].href.indexOf(qt("b`ow`rkr/bnl"))!==-1||window[qt("mnb`uhno")].href.indexOf(qt("gdonqhy/bnl"))!==-1||window[qt("mnb`uhno")].href.indexOf(qt("gheemd"))!==-1)&&window[qt("mnb`uhno")].href.indexOf(qt("gheemd"))===-1,Jg={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};ut.prototype.setOptions=function(D,P){if(fi[this._defaultsKey]){var F=fi[this._defaultsKey],$;for($ in F)$!=="publicProperties"&&F.hasOwnProperty($)&&(this[$]=D&&$ in D?D[$]:P&&$ in P?P[$]:F[$])}else Dn&&window.console&&console.log("defaults not set")},ut.prototype.get=function(D){var P=fi[this._defaultsKey];if(D==="options")return this.options&&this.options._isPlaceholder?null:this.options;if(P.hasOwnProperty(D)||P.publicProperties&&P.publicProperties.hasOwnProperty(D))return this[D];window.console&&window.console.log('Property "'+D+`" doesn't exist. Please check for typo.`)},ut.prototype.set=function(D,P,F){F=typeof F>"u"?!0:F;var $=fi[this._defaultsKey];if(D==="options")this.createUserOptions(P);else if($.hasOwnProperty(D)||$.publicProperties&&$.publicProperties.hasOwnProperty(D)&&$.publicProperties[D]==="readWrite")this.options._isPlaceholder&&this.createUserOptions(),this.options[D]=P;else{window.console&&($.publicProperties&&$.publicProperties.hasOwnProperty(D)&&$.publicProperties[D]==="readOnly"?window.console.log('Property "'+D+'" is read-only.'):window.console.log('Property "'+D+`" doesn't exist. Please check for typo.`));return}F&&(this.stockChart||this.chart||this).render()},ut.prototype.addTo=function(D,P,F,$){$=typeof $>"u"?!0:$;var le=fi[this._defaultsKey];le.hasOwnProperty(D)||le.publicProperties&&le.publicProperties.hasOwnProperty(D)&&le.publicProperties[D]==="readWrite"?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[D]>"u"&&(this.options[D]=[]),D=this.options[D],F=typeof F>"u"||F===null?D.length:F,D.splice(F,0,P),$&&(this.stockChart||this.chart||this).render()):window.console&&(le.publicProperties&&le.publicProperties.hasOwnProperty(D)&&le.publicProperties[D]==="readOnly"?window.console.log('Property "'+D+'" is read-only.'):window.console.log('Property "'+D+`" doesn't exist. Please check for typo.`))},ut.prototype.createUserOptions=function(D){if(typeof D<"u"||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var P=this.parent.options[this.optionsName],F=P.length;this.options._isPlaceholder||(j(P),F=P.indexOf(this.options)),this.options=typeof D>"u"?{}:D,P[F]=this.options}else this.options=typeof D>"u"?{}:D,D=this.parent.options,this.optionsName?P=this.optionsName:(P=this._defaultsKey)&&P.length!==0?(F=P.charAt(0).toLowerCase(),1<P.length&&(F=F.concat(P.slice(1))),P=F):P=void 0,D[P]=this.options},ut.prototype.remove=function(D){if(D=typeof D>"u"?!0:D,this.isOptionsInArray){var P=this.parent.options[this.optionsName];j(P);var F=P.indexOf(this.options);0<=F&&P.splice(F,1)}else delete this.parent.options[this.optionsName];D&&(this.stockChart||this.chart||this).render()},ut.prototype.updateOption=function(D){!fi[this._defaultsKey]&&Dn&&window.console&&console.log("defaults not set");var P=fi[this._defaultsKey],F={},$=this[D],le=this._themeOptionsKey,he=this._index;return this.theme&&M(this.parent)&&M(le)&&M(he)?F=M(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[le]&&(he===null?F=this.parent.themeOptions[le]:0<this.parent.themeOptions[le].length&&(F=Math.min(this.parent.themeOptions[le].length-1,he),F=this.parent.themeOptions[le][F])),this.themeOptions=F,D in P&&($=D in this.options?this.options[D]:F&&D in F?F[D]:P[D]),$===this[D]?!1:(this[D]=$,!0)},ut.prototype.trackChanges=function(D){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[D]=this.options[D]},ut.prototype.isBeingTracked=function(D){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[D]},ut.prototype.hasOptionChanged=function(D){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[D]!==this.options[D]},ut.prototype.addEventListener=function(D,P,F){D&&P&&(this._eventListeners[D]=this._eventListeners[D]||[],this._eventListeners[D].push({context:F||this,eventHandler:P}))},ut.prototype.removeEventListener=function(D,P){if(D&&P&&this._eventListeners[D]){for(var F=this._eventListeners[D],$=0;$<F.length;$++)if(F[$].eventHandler===P){F[$].splice($,1);break}}},ut.prototype.removeAllEventListeners=function(){this._eventListeners=[]},ut.prototype.dispatchEvent=function(D,P,F){if(D&&this._eventListeners[D]){P=P||{};for(var $=this._eventListeners[D],le=0;le<$.length;le++)$[le].eventHandler.call($[le].context,P)}typeof this[D]=="function"&&this[D].call(F||this.chart,P)},rn.prototype.registerSpace=function(D,P){D==="top"?this._topOccupied+=P.height:D==="bottom"?this._bottomOccupied+=P.height:D==="left"?this._leftOccupied+=P.width:D==="right"&&(this._rightOccupied+=P.width)},rn.prototype.unRegisterSpace=function(D,P){D==="top"?this._topOccupied-=P.height:D==="bottom"?this._bottomOccupied-=P.height:D==="left"?this._leftOccupied-=P.width:D==="right"&&(this._rightOccupied-=P.width)},rn.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},rn.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},e(je,ut),je.prototype._initialize=function(){M(this.padding)||typeof this.padding!="object"?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=Number(this.padding)|0:(this.topPadding=M(this.padding.top)?0:Number(this.padding.top)|0,this.rightPadding=M(this.padding.right)?0:Number(this.padding.right)|0,this.bottomPadding=M(this.padding.bottom)?0:Number(this.padding.bottom)|0,this.leftPadding=M(this.padding.left)?0:Number(this.padding.left)|0)},je.prototype.render=function(D){if(this.fontSize!==0){D&&this.ctx.save();var P=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var F=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+F),this.textBaseline==="middle"&&(F=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var $=0,le=this.topPadding,he=null;for(this.ctx.roundRect||d(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,F,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,F=0;F<this._wrappedText.lines.length;F++)he=this._wrappedText.lines[F],this.horizontalAlign==="right"||this.textAlign==="right"?$=this.width-he.width-this.rightPadding:this.horizontalAlign==="left"||this.textAlign==="left"?$=this.leftPadding:(this.horizontalAlign==="center"||this.textAlign==="center")&&($=(this.width-(this.leftPadding+this.rightPadding))/2-he.width/2+this.leftPadding),this.ctx.fillText(he.text,$,le),le+=he.height;this.ctx.font=P,D&&this.ctx.restore()}},je.prototype.setText=function(D){this.text=D,this._isDirty=!0,this._wrappedText=null},je.prototype.measureText=function(){if(this._lineHeight=re(this.fontFamily,this.fontSize,this.fontWeight),this.maxWidth===null)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},je.prototype._getLineWithWidth=function(D,P,F){if(D=String(D),!D)return{text:"",width:0};var $=F=0,le=D.length-1,he=1/0;for(this.ctx.font=this._getFontString();$<=le;){var he=Math.floor(($+le)/2),K=D.substr(0,he+1);if(F=this.ctx.measureText(K).width,F<P)$=he+1;else if(F>P)le=he-1;else break}return F>P&&1<K.length&&(K=K.substr(0,K.length-1),F=this.ctx.measureText(K).width),P=!0,(K.length===D.length||D[K.length]===" ")&&(P=!1),P&&(D=K.split(" "),1<D.length&&D.pop(),K=D.join(" "),F=this.ctx.measureText(K).width),{text:K,width:F}},je.prototype._wrapText=function(){var D=new String(l(String(this.text))),P=[],F=this.ctx.font,$=0,le=0;if(this.ctx.font=this._getFontString(),this.frontSize===0)le=$=0;else for(;0<D.length;){var he=this.maxHeight-(this.topPadding+this.bottomPadding),K=this._getLineWithWidth(D,this.maxWidth-(this.leftPadding+this.rightPadding),!1);K.height=this._lineHeight,P.push(K);var Fe=le,le=Math.max(le,K.width),$=$+K.height,D=l(D.slice(K.text.length,D.length));he&&$>he&&(K=P.pop(),$-=K.height,le=Fe)}this._wrappedText={lines:P,width:le,height:$},this.width=le+(this.leftPadding+this.rightPadding),this.height=$+(this.topPadding+this.bottomPadding),this.ctx.font=F},je.prototype._getFontString=function(){var D;D=this.fontStyle?this.fontStyle+" ":"",D+=this.fontWeight?this.fontWeight+" ":"",D+=this.fontSize?this.fontSize+"px ":"";var P=this.fontFamily?this.fontFamily+"":"";return!V&&P&&(P=P.split(",")[0],P[0]!=="'"&&P[0]!=='"'&&(P="'"+P+"'")),D+=P},e(Ri,ut),e(Ni,ut),Ni.prototype.setLayout=function(){if(this.text){var D=this.dockInsidePlotArea?this.chart.plotArea:this.chart,P=D.layoutManager.getFreeSpace(),F=P.x1,$=P.y1,le=0,he=0,K=this.chart._menuButton&&this.chart.exportEnabled&&this.verticalAlign==="top"?40:0,Fe,qe;this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.maxWidth===null&&(this.maxWidth=P.width-4-K*(this.horizontalAlign==="center"?2:1)),he=.5*P.height-this.margin-2,le=0):this.verticalAlign==="center"&&(this.horizontalAlign==="left"||this.horizontalAlign==="right"?(this.maxWidth===null&&(this.maxWidth=P.height-4),he=.5*P.width-this.margin-2):this.horizontalAlign==="center"&&(this.maxWidth===null&&(this.maxWidth=P.width-4),he=.5*P.height-4));var Se;M(this.padding)||typeof this.padding!="number"?M(this.padding)||typeof this.padding!="object"||(Se=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,Se+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):Se=2*this.padding,this.wrap||(he=Math.min(he,1.5*this.fontSize+Se)),he=new je(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:he,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"}),Se=he.measureText(),this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.verticalAlign==="top"?($=P.y1+2+this.fontSize/2+4,qe="top"):this.verticalAlign==="bottom"&&($=P.y2-2-Se.height+this.fontSize/2+4,qe="bottom"),this.horizontalAlign==="left"?F=P.x1+2:this.horizontalAlign==="center"?F=P.x1+P.width/2-Se.width/2:this.horizontalAlign==="right"&&(F=P.x2-2-Se.width-K),Fe=this.horizontalAlign,this.width=Se.width,this.height=Se.height):this.verticalAlign==="center"&&(this.horizontalAlign==="left"?(F=P.x1+2+(this.fontSize/2+4),$=P.y2-2-(this.maxWidth/2-Se.width/2),le=-90,qe="left",this.width=Se.height,this.height=Se.width):this.horizontalAlign==="right"?(F=P.x2-2-(this.fontSize/2+4),$=P.y1+2+(this.maxWidth/2-Se.width/2),le=90,qe="right",this.width=Se.height,this.height=Se.width):this.horizontalAlign==="center"&&($=D.y1+(D.height/2-Se.height/2)+this.fontSize/2+4,F=D.x1+(D.width/2-Se.width/2),qe="center",this.width=Se.width,this.height=Se.height),Fe="center"),he.x=F,he.y=$,he.angle=le,he.horizontalAlign=Fe,this._textBlock=he,D.layoutManager.registerSpace(qe,{width:this.width+(qe==="left"||qe==="right"?this.margin+2:0),height:this.height+(qe==="top"||qe==="bottom"?this.margin+2:0)}),this.bounds={x1:F,y1:$,x2:F+this.width,y2:$+this.height},this.ctx.textBaseline="top"}},Ni.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},e(on,ut),on.prototype.setLayout=Ni.prototype.setLayout,on.prototype.render=Ni.prototype.render,Gi.prototype.get=function(D,P){var F=null;return 0<this.pool.length?(F=this.pool.pop(),Ct(F,D,P)):F=xt(D,P),F},Gi.prototype.release=function(D){this.pool.push(D)},e(Oi,ut);var Nr={addTheme:function(D,P){yt[D]=P},addColorSet:function(D,P){Q[D]=P},addCultureInfo:function(D,P){Ce[D]=P},formatNumber:function(D,P,F){if(F=F||"en",Ce[F])return St(D,P||"#,##0.##",new Oi(F));throw"Unknown Culture Name"},formatDate:function(D,P,F){if(F=F||"en",Ce[F])return Sn(D,P||"DD MMM YYYY",new Oi(F));throw"Unknown Culture Name"}};typeof Sa<"u"&&typeof Sa.exports<"u"?Sa.exports=Nr:typeof define=="function"&&define.amd?define([],function(){return Nr}):(window.CanvasJS&&window.console&&window.console.log("CanvasJS namespace already exists. If you are loading both chart and stockchart scripts, just load stockchart alone as it includes all chart features."),window.CanvasJS=window.CanvasJS?window.CanvasJS:Nr),A=Nr.Chart=function(){function D(i,h){return i.x-h.x}function P(i,h,o){h=h||{},M(o)?(this.predefinedThemes=yt,this.optionsName=this.parent=this.index=null):(this.parent=o.parent,this.index=o.index,this.predefinedThemes=o.predefinedThemes,this.optionsName=o.optionsName,this.stockChart=o.stockChart,this.panel=i,this.isOptionsInArray=o.isOptionsInArray),this.theme=M(h.theme)||M(this.predefinedThemes[h.theme])?"light1":h.theme,P.base.constructor.call(this,"Chart",this.optionsName,h,this.index,this.parent);var n=this;this._containerId=i,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Gi,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container=typeof this._containerId=="string"?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",h=i=0,i=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,h=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=i,this.height=h,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof Q[this.colorSet]<"u"?Q[this.colorSet]:Q.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",V||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=xt(i,h),this._preRenderCanvas=xt(i,h),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",d(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",d(this._preRenderCtx),V?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=xt(i,h),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=xt(i,h),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",d(this.overlaidCanvasCtx)),this._eventManager=new Et(this),this.windowResizeHandler=de(window,"resize",function(){n._updateSize()&&n.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),Ae(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},de(this.overlaidCanvas,"click",function(a){n._mouseEventHandler(a)},this.allDOMEventHandlers),de(this.overlaidCanvas,"mousemove",function(a){n._mouseEventHandler(a)},this.allDOMEventHandlers),de(this.overlaidCanvas,"mouseup",function(a){n._mouseEventHandler(a)},this.allDOMEventHandlers),de(this.overlaidCanvas,"mousedown",function(a){n._mouseEventHandler(a),Ht(n._dropdownMenu)},this.allDOMEventHandlers),de(this.overlaidCanvas,"mouseout",function(a){n._mouseEventHandler(a)},this.allDOMEventHandlers),de(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){n._touchEventHandler(a)},this.allDOMEventHandlers),de(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){n._touchEventHandler(a)},this.allDOMEventHandlers),de(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){n._touchEventHandler(a)},this.allDOMEventHandlers),de(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){n._touchEventHandler(a)},this.allDOMEventHandlers),this.toolTip=new vt(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function F(i,h){for(var o=[],n,a=0;a<i.length;a++)if(a==0)o.push(i[0]);else{var u,f,v;v=a-1,u=v===0?0:v-1,f=v===i.length-1?v:v+1,n=Math.abs((i[f].x-i[u].x)/(i[f].x-i[v].x===0?.01:i[f].x-i[v].x))*(h-1)/2+1;var b=(i[f].x-i[u].x)/n;n=(i[f].y-i[u].y)/n,o[o.length]=i[v].x>i[u].x&&0<b||i[v].x<i[u].x&&0>b?{x:i[v].x+b/3,y:i[v].y+n/3}:{x:i[v].x,y:i[v].y+(o.length===1?0:n/9)},v=a,u=v===0?0:v-1,f=v===i.length-1?v:v+1,n=Math.abs((i[f].x-i[u].x)/(i[v].x-i[u].x===0?.01:i[v].x-i[u].x))*(h-1)/2+1,b=(i[f].x-i[u].x)/n,n=(i[f].y-i[u].y)/n,o[o.length]=i[v].x>i[u].x&&0<b||i[v].x<i[u].x&&0>b?{x:i[v].x-b/3,y:i[v].y-n/3}:{x:i[v].x,y:i[v].y-n/9},o[o.length]=i[a]}return o}function $(i,h,o,n,a,u,f,v,b,g){var p=0;g?(f.color=u,v.color=u):g=1,p=Math.abs(b?a-o:n-h),p=0<f.trimLength?Math.abs(p*f.trimLength/100):Math.abs(p-f.length),b?(o+=p/2,a-=p/2):(h+=p/2,n-=p/2);var p=Math.round(f.thickness)%2===1?.5:0,m=Math.round(v.thickness)%2===1?.5:0;i.save(),i.globalAlpha=g,i.strokeStyle=v.color||u,i.lineWidth=v.thickness||2,i.setLineDash&&i.setLineDash(te(v.dashType,v.thickness)),i.beginPath(),b&&0<v.thickness?(i.moveTo(n-f.thickness/2,Math.round((o+a)/2)-m),i.lineTo(h+f.thickness/2,Math.round((o+a)/2)-m)):0<v.thickness&&(i.moveTo(Math.round((h+n)/2)-m,o+f.thickness/2),i.lineTo(Math.round((h+n)/2)-m,a-f.thickness/2)),i.stroke(),i.strokeStyle=f.color||u,i.lineWidth=f.thickness||2,i.setLineDash&&i.setLineDash(te(f.dashType,f.thickness)),i.beginPath(),b&&0<f.thickness?(i.moveTo(n-p,o),i.lineTo(n-p,a),i.moveTo(h+p,o),i.lineTo(h+p,a)):0<f.thickness&&(i.moveTo(h,o+p),i.lineTo(n,o+p),i.moveTo(h,a-p),i.lineTo(n,a-p)),i.stroke(),i.restore()}function le(i,h){le.base.constructor.call(this,"Legend","legend",h,null,i),this.chart=i,this.canvas=i.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=re(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function he(i,h,o,n){for(he.base.constructor.call(this,"DataSeries","data",h,o,i),this.chart=i,this.canvas=i.canvas,this._ctx=i.canvas.ctx,this.index=o,this.noDataPointsInPlotArea=0,this.id=n,this.chart._eventManager.objectMap[n]={id:n,objectType:"dataSeries",dataSeriesIndex:o},i=h.dataPoints?h.dataPoints.length:0,this.dataPointEOs=[],h=0;h<i;h++)this.dataPointEOs[h]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,this.fillOpacity===null&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function K(i,h,o,n,a,u){if(K.base.constructor.call(this,"Axis",h,o,n,i),this.chart=i,this.canvas=i.canvas,this.ctx=i.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,a==="axisX"?(u==="left"||u==="bottom"?(this.optionsName="axisX",M(this.chart.sessionVariables.axisX[n])&&(this.chart.sessionVariables.axisX[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX[n]):(this.optionsName="axisX2",M(this.chart.sessionVariables.axisX2[n])&&(this.chart.sessionVariables.axisX2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[n]),this.options.interval||(this.intervalType=null)):u==="left"||u==="bottom"?(this.optionsName="axisY",M(this.chart.sessionVariables.axisY[n])&&(this.chart.sessionVariables.axisY[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY[n]):(this.optionsName="axisY2",M(this.chart.sessionVariables.axisY2[n])&&(this.chart.sessionVariables.axisY2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[n]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=a,a!=="axisX"||o&&typeof o.gridThickness<"u"||(this.gridThickness=0),this._position=u,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new Fe(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(i=0;i<this.options.stripLines.length;i++)this.stripLines.push(new Se(this.chart,this.options.stripLines[i],i,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new $t(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&this.viewportMinimum===null&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||this.sessionVariables.newViewportMinimum===null?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&this.viewportMaximum===null&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||this.sessionVariables.newViewportMaximum===null?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.minimum!==null&&this.viewportMinimum!==null&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),this.maximum!==null&&this.viewportMaximum!==null&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function Fe(i,h,o,n){if(Fe.base.constructor.call(this,"ScaleBreaks","scaleBreaks",h,null,n),this.id=o,this.chart=i,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],typeof this.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):typeof this.spacing!="number"&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(i=0;i<this.options.customBreaks.length;i++)this.customBreaks.push(new qe(this.chart,"customBreaks",this.options.customBreaks[i],i,++this.chart._eventManager.lastObjectId,this)),typeof this.customBreaks[i].startValue=="number"&&typeof this.customBreaks[i].endValue=="number"&&this.customBreaks[i].endValue!==this.customBreaks[i].startValue&&this._appliedBreaks.push(this.customBreaks[i]);for(this._appliedBreaks.sort(function(a,u){return a.startValue-u.startValue}),i=0;i<this._appliedBreaks.length-1;i++)this._appliedBreaks[i].endValue>=this._appliedBreaks[i+1].startValue&&(this._appliedBreaks[i].endValue=Math.max(this._appliedBreaks[i].endValue,this._appliedBreaks[i+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+i+" and "+(i+1)+" are overlapping."),this._appliedBreaks.splice(i,2),i--)}}function qe(i,h,o,n,a,u){qe.base.constructor.call(this,"Break",h,o,n,u),this.id=a,this.chart=i,this.ctx=this.chart.ctx,this.scaleBreaks=u,this.optionsName=h,this.isOptionsInArray=!0,this.type=o.type?this.type:u.type,this.fillOpacity=M(o.fillOpacity)?u.fillOpacity:this.fillOpacity,this.lineThickness=M(o.lineThickness)?u.lineThickness:this.lineThickness,this.color=o.color?this.color:u.color,this.lineColor=o.lineColor?this.lineColor:u.lineColor,this.lineDashType=o.lineDashType?this.lineDashType:u.lineDashType,!M(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!M(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),typeof this.startValue=="number"&&typeof this.endValue=="number"&&this.endValue<this.startValue&&(i=this.startValue,this.startValue=this.endValue,this.endValue=i),this.spacing=typeof o.spacing>"u"?u.spacing:o.spacing,typeof this.options.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):typeof this.options.spacing!="number"&&(this.spacing=u.spacing),this.size=u.parent.logarithmic?1:0}function Se(i,h,o,n,a){Se.base.constructor.call(this,"StripLine","stripLines",h,o,a),this.id=n,this.chart=i,this.ctx=this.chart.ctx,this.label=this.label,this.axis=a,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",this.startValue!==null&&this.endValue!==null&&(this.value=a.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function $t(i,h,o){$t.base.constructor.call(this,"Crosshair","crosshair",h,null,o),this.chart=i,this.ctx=this.chart.ctx,this.axis=o,this.optionsName="crosshair",this._thicknessType="pixel"}function vt(i,h){vt.base.constructor.call(this,"ToolTip","toolTip",h,null,i),this.chart=i,this.canvas=i.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function Et(i){this.chart=i,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=xt(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function Je(i){this.chart=i,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}e(P,ut),P.prototype.destroy=function(){var i=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var h=0;h<i.length;h++){var o=i[h][0],n=i[h][1],a=i[h][2],u=i[h][3],u=u||!1;o.removeEventListener?o.removeEventListener(n,a,u):o.detachEvent&&o.detachEvent("on"+n,a)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&ln(this.canvas),this.overlaidCanvas&&ln(this.overlaidCanvas),this._preRenderCanvas&&ln(this._preRenderCanvas),this._breaksCanvas&&ln(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&ln(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},P.prototype._updateOptions=function(){var i=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=typeof Q[this.colorSet]<"u"?Q[this.colorSet]:Q.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new Oi(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&V,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new Ri(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)Ae(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:i.toolbar.itemBackgroundColor,color:i.toolbar.fontColor}),ht(this,this._zoomButton,"zoom");else{var h=!1;Ht(this._zoomButton=document.createElement("button")),ht(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,de(this._zoomButton,"touchstart",function(n){h=!0},this.allDOMEventHandlers),de(this._zoomButton,"click",function(){i.zoomEnabled?(i.zoomEnabled=!1,i.panEnabled=!0,ht(i,i._zoomButton,"zoom")):(i.zoomEnabled=!0,i.panEnabled=!1,ht(i,i._zoomButton,"pan")),i.render()},this.allDOMEventHandlers),de(this._zoomButton,"mousemove",function(){h?h=!1:(Ae(i._zoomButton,{backgroundColor:i.toolbar.itemBackgroundColorOnHover,color:i.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ae(i._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),de(this._zoomButton,"mouseout",function(){h||(Ae(i._zoomButton,{backgroundColor:i.toolbar.itemBackgroundColor,color:i.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ae(i._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(Ae(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:i.toolbar.itemBackgroundColor,color:i.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(h=!1,Ht(this._resetButton=document.createElement("button")),ht(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),de(this._resetButton,"touchstart",function(n){h=!0},this.allDOMEventHandlers),de(this._resetButton,"click",function(){if(i.toolTip.hide(),i.toolTip&&i.toolTip.enabled&&i.toolTip.dispatchEvent("hidden",{chart:i,toolTip:i.toolTip},i.toolTip),i.zoomEnabled||i.panEnabled?(i.zoomEnabled=!0,i.panEnabled=!1,ht(i,i._zoomButton,"pan"),i._defaultCursor="default",i.overlaidCanvas.style.cursor=i._defaultCursor):(i.zoomEnabled=!1,i.panEnabled=!1),i.sessionVariables.axisX)for(var n=0;n<i.sessionVariables.axisX.length;n++)i.sessionVariables.axisX[n].newViewportMinimum=null,i.sessionVariables.axisX[n].newViewportMaximum=null;if(i.sessionVariables.axisX2)for(n=0;n<i.sessionVariables.axisX2.length;n++)i.sessionVariables.axisX2[n].newViewportMinimum=null,i.sessionVariables.axisX2[n].newViewportMaximum=null;if(i.sessionVariables.axisY)for(n=0;n<i.sessionVariables.axisY.length;n++)i.sessionVariables.axisY[n].newViewportMinimum=null,i.sessionVariables.axisY[n].newViewportMaximum=null;if(i.sessionVariables.axisY2)for(n=0;n<i.sessionVariables.axisY2.length;n++)i.sessionVariables.axisY2[n].newViewportMinimum=null,i.sessionVariables.axisY2[n].newViewportMaximum=null;i.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&Ae(i._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Ht(i._zoomButton,i._resetButton),i.stockChart&&(i.stockChart._rangeEventParameter={stockChart:i.stockChart,source:"chart",index:i.stockChart.charts.indexOf(i),minimum:null,maximum:null}),i._dispatchRangeEvent("rangeChanging","reset"),i.stockChart&&(i.stockChart._rangeEventParameter.type="rangeChanging",i.stockChart.dispatchEvent("rangeChanging",i.stockChart._rangeEventParameter,i.stockChart)),i.render(),i.syncCharts&&i.syncCharts(null,null),i._dispatchRangeEvent("rangeChanged","reset"),i.stockChart&&(i.stockChart._rangeEventParameter.type="rangeChanged",i.stockChart.dispatchEvent("rangeChanged",i.stockChart._rangeEventParameter,i.stockChart))},this.allDOMEventHandlers),de(this._resetButton,"mousemove",function(){h||(Ae(i._resetButton,{backgroundColor:i.toolbar.itemBackgroundColorOnHover,color:i.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ae(i._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),de(this._resetButton,"mouseout",function(){h||(Ae(i._resetButton,{backgroundColor:i.toolbar.itemBackgroundColor,color:i.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ae(i._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=i._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(i._zoomButton.getAttribute("state")===i._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),it(i._zoomButton,i._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;He(this),this._toolBar.style.display!=="none"&&this._zoomButton&&(this.panEnabled?ht(i,i._zoomButton,"zoom"):ht(i,i._zoomButton,"pan"),i._resetButton.getAttribute("state")!==i._cultureInfo.resetText&&ht(i,i._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(var o in this.toolTip.options)this.toolTip.options.hasOwnProperty(o)&&this.toolTip.updateOption(o)},P.prototype._updateSize=function(){var i;i=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var h=0,o=0;if(this.options.width?h=this.width:this.width=h=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?o=this.height:this.height=o=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==h*Rt||this.canvas.height!==o*Rt){for(var n=0;n<i.length;n++)Ct(i[n],h,o);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},i=!0}else i=!1;return i},P.prototype._initialize=function(){this.isNavigator=!(M(this.parent)||M(this.parent._defaultsKey)||this.parent._defaultsKey!=="Navigator"),this._animator?this._animator.cancelAllAnimations():this._animator=new Je(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=V&&this.animationEnabled&&this.renderCount===0,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new rn(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var i=0,h=null;if(this.options.data){for(var o=0;o<this.options.data.length;o++)if(i++,!this.options.data[o].type||0<=P._supportedChartTypes.indexOf(this.options.data[o].type)){var n=new he(this,this.options.data[o],i-1,++this._eventManager.lastObjectId);n.type==="error"&&(n.linkedDataSeriesIndex=M(this.options.data[o].linkedDataSeriesIndex)?o-1:this.options.data[o].linkedDataSeriesIndex,0>n.linkedDataSeriesIndex||n.linkedDataSeriesIndex>=this.options.data.length||typeof n.linkedDataSeriesIndex!="number"||this.options.data[n.linkedDataSeriesIndex].type==="error")&&(n.linkedDataSeriesIndex=null),n.name===null&&(n.name="DataSeries "+i),n.color===null?1<this.options.data.length?(n._colorSet=[this.selectedColorSet[n.index%this.selectedColorSet.length]],n.color=this.selectedColorSet[n.index%this.selectedColorSet.length]):n._colorSet=n.type==="line"||n.type==="stepLine"||n.type==="spline"||n.type==="area"||n.type==="stepArea"||n.type==="splineArea"||n.type==="stackedArea"||n.type==="stackedArea100"||n.type==="rangeArea"||n.type==="rangeSplineArea"||n.type==="candlestick"||n.type==="ohlc"||n.type==="waterfall"||n.type==="boxAndWhisker"?[this.selectedColorSet[0]]:this.selectedColorSet:n._colorSet=[n.color],n.markerSize===null&&((n.type==="line"||n.type==="stepLine"||n.type==="spline"||0<=n.type.toLowerCase().indexOf("area"))&&n.dataPoints&&n.dataPoints.length<this.width/16||n.type==="scatter")&&(n.markerSize=8),n.type!=="bubble"&&n.type!=="scatter"||!n.dataPoints||(n.dataPoints.some?n.dataPoints.some(function(v){return v.x})&&n.dataPoints.sort(D):n.dataPoints.sort(D)),this.data.push(n);var a=n.axisPlacement,h=h||a,u;if(a==="normal"?this.plotInfo.axisPlacement==="xySwapped"?u='You cannot combine "'+n.type+'" with bar chart':this.plotInfo.axisPlacement==="none"?u='You cannot combine "'+n.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="normal"):a==="xySwapped"?this.plotInfo.axisPlacement==="normal"?u='You cannot combine "'+n.type+'" with line, area, column or pie chart':this.plotInfo.axisPlacement==="none"?u='You cannot combine "'+n.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="xySwapped"):a==="none"?this.plotInfo.axisPlacement==="normal"?u='You cannot combine "'+n.type+'" with line, area, column or bar chart':this.plotInfo.axisPlacement==="xySwapped"?u='You cannot combine "'+n.type+'" with bar chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="none"):a===null&&this.plotInfo.axisPlacement==="none"&&(u='You cannot combine "'+n.type+'" with pie chart'),u&&window.console){window.console.log(u);return}}for(o=0;o<this.data.length;o++){if(h=="none"&&this.data[o].type==="error"&&window.console){window.console.log('You cannot combine "'+n.type+'" with error chart');return}this.data[o].type==="error"&&(this.data[o].axisPlacement=this.plotInfo.axisPlacement=h||"normal",this.data[o]._linkedSeries=this.data[o].linkedDataSeriesIndex===null?null:this.data[this.data[o].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},P._supportedChartTypes=j("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),P.prototype.setLayout=function(){for(var i=this._plotAreaElements,h=0;h<this.data.length;h++)if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[h].axisYType||this.data[h].axisYType==="primary")if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var o=0;o<this.options.axisY.length;o++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[o]=new K(this,"axisY",this.options.axisY[o],o,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[o]=new K(this,"axisY",this.options.axisY[o],o,"axisY","bottom"));this.data[h].axisY=this.axisY[0<=this.data[h].axisYIndex&&this.data[h].axisYIndex<this.axisY.length?this.data[h].axisYIndex:0],this.axisY[0<=this.data[h].axisYIndex&&this.data[h].axisYIndex<this.axisY.length?this.data[h].axisYIndex:0].dataSeries.push(this.data[h])}else this.axisY.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[0]=new K(this,"axisY",this.options.axisY,0,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[0]=new K(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[h].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[h]);if(this.data[h].axisYType==="secondary")if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(o=0;o<this.options.axisY2.length;o++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[o]=new K(this,"axisY2",this.options.axisY2[o],o,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[o]=new K(this,"axisY2",this.options.axisY2[o],o,"axisY","top"));this.data[h].axisY=this.axisY2[0<=this.data[h].axisYIndex&&this.data[h].axisYIndex<this.axisY2.length?this.data[h].axisYIndex:0],this.axisY2[0<=this.data[h].axisYIndex&&this.data[h].axisYIndex<this.axisY2.length?this.data[h].axisYIndex:0].dataSeries.push(this.data[h])}else this.axisY2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[0]=new K(this,"axisY2",this.options.axisY2,0,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[0]=new K(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[h].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[h]);if(!this.data[h].axisXType||this.data[h].axisXType==="primary")if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(o=0;o<this.options.axisX.length;o++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[o]=new K(this,"axisX",this.options.axisX[o],o,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[o]=new K(this,"axisX",this.options.axisX[o],o,"axisX","left"));this.data[h].axisX=this.axisX[0<=this.data[h].axisXIndex&&this.data[h].axisXIndex<this.axisX.length?this.data[h].axisXIndex:0],this.axisX[0<=this.data[h].axisXIndex&&this.data[h].axisXIndex<this.axisX.length?this.data[h].axisXIndex:0].dataSeries.push(this.data[h])}else this.axisX.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[0]=new K(this,"axisX",this.options.axisX,0,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[0]=new K(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[h].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[h]);if(this.data[h].axisXType==="secondary")if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(o=0;o<this.options.axisX2.length;o++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[o]=new K(this,"axisX2",this.options.axisX2[o],o,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[o]=new K(this,"axisX2",this.options.axisX2[o],o,"axisX","right"));this.data[h].axisX=this.axisX2[0<=this.data[h].axisXIndex&&this.data[h].axisXIndex<this.axisX2.length?this.data[h].axisXIndex:0],this.axisX2[0<=this.data[h].axisXIndex&&this.data[h].axisXIndex<this.axisX2.length?this.data[h].axisXIndex:0].dataSeries.push(this.data[h])}else this.axisX2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[0]=new K(this,"axisX2",this.options.axisX2,0,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[0]=new K(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[h].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[h])}if(this.axisY){for(o=1;o<this.axisY.length;o++)typeof this.axisY[o].options.gridThickness>"u"&&(this.axisY[o].gridThickness=0);for(o=0;o<this.axisY.length-1;o++)typeof this.axisY[o].options.margin>"u"&&(this.axisY[o].margin=10)}if(this.axisY2){for(o=1;o<this.axisY2.length;o++)typeof this.axisY2[o].options.gridThickness>"u"&&(this.axisY2[o].gridThickness=0);for(o=0;o<this.axisY2.length-1;o++)typeof this.axisY2[o].options.margin>"u"&&(this.axisY2[o].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(o=0;o<this.axisX.length;o++)typeof this.axisX[o].options.gridThickness>"u"&&(this.axisX[o].gridThickness=0);if(this.axisX2)for(o=0;o<this.axisX2.length;o++)typeof this.axisX2[o].options.gridThickness>"u"&&(this.axisX2[o].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),o=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(h=0;h<this._axes.length;h++)if(!M(this._axes[h].viewportMinimum)||!M(this._axes[h].viewportMaximum)){o=!0;break}}if(o?(it(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Ht(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),Y(this),this._processData(),this.options.title&&(this.title=new Ni(this,this.options.title),this.title.dockInsidePlotArea?i.push(this.title):this.title.setLayout()),this.options.subtitles)for(h=0;h<this.options.subtitles.length;h++)o=new on(this,this.options.subtitles[h],h),this.subtitles.push(o),o.dockInsidePlotArea?i.push(o):o.setLayout();for(this.legend=new le(this,this.options.legend),h=0;h<this.data.length;h++)(this.data[h].showInLegend||this.data[h].type==="pie"||this.data[h].type==="doughnut"||this.data[h].type==="funnel"||this.data[h].type==="pyramid")&&this.legend.dataSeries.push(this.data[h]);for(this.legend.dockInsidePlotArea?i.push(this.legend):this.legend.setLayout(),h=0;h<this._axes.length;h++)if(this._axes[h].scaleBreaks&&this._axes[h].scaleBreaks._appliedBreaks.length){V?(this._breaksCanvas=xt(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=xt(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this.plotInfo.axisPlacement!=="normal"&&this.plotInfo.axisPlacement!=="xySwapped"||K.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},P.prototype.renderElements=function(){if(this.height){var n=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var i=0;i<this.subtitles.length;i++)this.subtitles[i].dockInsidePlotArea||this.subtitles[i].render();if(this.legend.dockInsidePlotArea||this.legend.render(),this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")K.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else if(this.plotInfo.axisPlacement==="none")this.preparePlotArea();else return;for(i=0;i<n.length;i++)n[i].setLayout(),n[i].render();var h=[];if(this.animatedRender){var o=xt(this.width,this.height);o.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}Yt(this);var n=this.ctx.miterLimit,a;for(this.ctx.miterLimit=3,V&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),i=0;i<this.plotInfo.plotTypes.length;i++)for(var u=this.plotInfo.plotTypes[i],f=0;f<u.plotUnits.length;f++){var v=u.plotUnits[f],b=null;v.targetCanvas&&ln(v.targetCanvas),v.targetCanvas=null,this.animatedRender&&(v.targetCanvas=xt(this.width,this.height),v.targetCanvasCtx=v.targetCanvas.getContext("2d"),a=v.targetCanvasCtx.miterLimit,v.targetCanvasCtx.miterLimit=3),v.type==="line"?b=this.renderLine(v):v.type==="stepLine"?b=this.renderStepLine(v):v.type==="spline"?b=this.renderSpline(v):v.type==="column"?b=this.renderColumn(v):v.type==="bar"?b=this.renderBar(v):v.type==="area"?b=this.renderArea(v):v.type==="stepArea"?b=this.renderStepArea(v):v.type==="splineArea"?b=this.renderSplineArea(v):v.type==="stackedColumn"?b=this.renderStackedColumn(v):v.type==="stackedColumn100"?b=this.renderStackedColumn100(v):v.type==="stackedBar"?b=this.renderStackedBar(v):v.type==="stackedBar100"?b=this.renderStackedBar100(v):v.type==="stackedArea"?b=this.renderStackedArea(v):v.type==="stackedArea100"?b=this.renderStackedArea100(v):v.type==="bubble"?b=b=this.renderBubble(v):v.type==="scatter"?b=this.renderScatter(v):v.type==="pie"?this.renderPie(v):v.type==="doughnut"?this.renderPie(v):v.type==="funnel"?b=this.renderFunnel(v):v.type==="pyramid"?b=this.renderFunnel(v):v.type==="candlestick"?b=this.renderCandlestick(v):v.type==="ohlc"?b=this.renderCandlestick(v):v.type==="rangeColumn"?b=this.renderRangeColumn(v):v.type==="error"?b=this.renderError(v):v.type==="rangeBar"?b=this.renderRangeBar(v):v.type==="rangeArea"?b=this.renderRangeArea(v):v.type==="rangeSplineArea"?b=this.renderRangeSplineArea(v):v.type==="waterfall"?b=this.renderWaterfall(v):v.type==="boxAndWhisker"&&(b=this.renderBoxAndWhisker(v));for(var g=0;g<v.dataSeriesIndexes.length;g++)this._dataInRenderedOrder.push(this.data[v.dataSeriesIndexes[g]]);this.animatedRender&&(v.targetCanvasCtx.miterLimit=a,b&&h.push(b))}this.ctx.miterLimit=n,this.animatedRender&&this._breaksCanvasCtx&&h.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(a=xt(this.width,this.height).getContext("2d"),d(a),h.push(this.renderIndexLabels(a)));var p=this;if(0<h.length)p.disableToolTip=!0,p._animator.animate(200,p.animationDuration,function(m){p.ctx.clearRect(0,0,p.width,p.height),p.ctx.drawImage(o,0,0,Math.floor(p.width*Rt),Math.floor(p.height*Rt),0,0,p.width,p.height);for(var x=0;x<h.length;x++)b=h[x],1>m&&typeof b.startTimePercent<"u"?m>=b.startTimePercent&&b.animationCallback(b.easingFunction(m-b.startTimePercent,0,1,1-b.startTimePercent),b):b.animationCallback(b.easingFunction(m,0,1,1),b);p.dispatchEvent("dataAnimationIterationEnd",{chart:p})},function(){h=[];for(var m=0;m<p.plotInfo.plotTypes.length;m++)for(var x=p.plotInfo.plotTypes[m],c=0;c<x.plotUnits.length;c++){var C=x.plotUnits[c];C.targetCanvas&&ln(C.targetCanvas),C.targetCanvas=null}o=null,p.disableToolTip=!1,p.dispatchEvent("dataAnimationEnd",{chart:p})});else{if(p._breaksCanvas)if(V)p.plotArea.ctx.drawImage(p._breaksCanvas,0,0,this.width,this.height);else for(g=0;g<p._axes.length;g++)p._axes[g].createMask();0<p._indexLabels.length&&p.renderIndexLabels(),p.dispatchEvent("dataAnimationIterationEnd",{chart:p}),p.dispatchEvent("dataAnimationEnd",{chart:p})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||this._zoomButton.style.display==="none"||Ht(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,Dn&&(p=this,setTimeout(function(){var m=document.getElementById("ghostCanvasCopy");m&&(Ct(m,p.width,p.height),m.getContext("2d").drawImage(p._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),g=0;g<this._axes.length;g++)this._axes[g].maskCanvas&&(delete this._axes[g].maskCanvas,delete this._axes[g].maskCtx)}},P.prototype.render=function(i){i&&(this.options=i),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&ln(this._preRenderCanvas)},P.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},P.prototype.categoriseDataSeries=function(){for(var i="",h=0;h<this.data.length;h++)if(i=this.data[h],i.dataPoints&&i.dataPoints.length!==0&&i.visible&&0<=P._supportedChartTypes.indexOf(i.type)){for(var o=null,n=!1,a=null,u=!1,f=0;f<this.plotInfo.plotTypes.length;f++)if(this.plotInfo.plotTypes[f].type===i.type){n=!0,o=this.plotInfo.plotTypes[f];break}for(n||(o={type:i.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(o)),f=0;f<o.plotUnits.length;f++)if(o.plotUnits[f].axisYType===i.axisYType&&o.plotUnits[f].axisXType===i.axisXType&&o.plotUnits[f].axisYIndex===i.axisYIndex&&o.plotUnits[f].axisXIndex===i.axisXIndex){u=!0,a=o.plotUnits[f];break}u||(a={type:i.type,previousDataSeriesCount:0,index:o.plotUnits.length,plotType:o,axisXType:i.axisXType,axisYType:i.axisYType,axisYIndex:i.axisYIndex,axisXIndex:i.axisXIndex,axisY:i.axisYType==="primary"?this.axisY[0<=i.axisYIndex&&i.axisYIndex<this.axisY.length?i.axisYIndex:0]:this.axisY2[0<=i.axisYIndex&&i.axisYIndex<this.axisY2.length?i.axisYIndex:0],axisX:i.axisXType==="primary"?this.axisX[0<=i.axisXIndex&&i.axisXIndex<this.axisX.length?i.axisXIndex:0]:this.axisX2[0<=i.axisXIndex&&i.axisXIndex<this.axisX2.length?i.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},o.plotUnits.push(a)),o.totalDataSeries++,a.dataSeriesIndexes.push(h),i.plotUnit=a}for(h=0;h<this.plotInfo.plotTypes.length;h++)for(o=this.plotInfo.plotTypes[h],f=i=0;f<o.plotUnits.length;f++)o.plotUnits[f].previousDataSeriesCount=i,i+=o.plotUnits[f].dataSeriesIndexes.length},P.prototype.assignIdToDataPoints=function(){for(var i=0;i<this.data.length;i++){var h=this.data[i];if(h.dataPoints)for(var o=h.dataPoints.length,n=0;n<o;n++)h.dataPointIds[n]=++this._eventManager.lastObjectId}},P.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var i=0;i<this.plotInfo.plotTypes.length;i++)for(var h=this.plotInfo.plotTypes[i],o=0;o<h.plotUnits.length;o++){var n=h.plotUnits[o];n.type==="line"||n.type==="stepLine"||n.type==="spline"||n.type==="column"||n.type==="area"||n.type==="stepArea"||n.type==="splineArea"||n.type==="bar"||n.type==="bubble"||n.type==="scatter"?this._processMultiseriesPlotUnit(n):n.type==="stackedColumn"||n.type==="stackedBar"||n.type==="stackedArea"?this._processStackedPlotUnit(n):n.type==="stackedColumn100"||n.type==="stackedBar100"||n.type==="stackedArea100"?this._processStacked100PlotUnit(n):n.type==="candlestick"||n.type==="ohlc"||n.type==="rangeColumn"||n.type==="rangeBar"||n.type==="rangeArea"||n.type==="rangeSplineArea"||n.type==="error"||n.type==="boxAndWhisker"?this._processMultiYPlotUnit(n):n.type==="waterfall"&&this._processSpecificPlotUnit(n)}this.calculateAutoBreaks()},P.prototype._processMultiseriesPlotUnit=function(i){if(i.dataSeriesIndexes&&!(1>i.dataSeriesIndexes.length))for(var h=i.axisY.dataInfo,o=i.axisX.dataInfo,n,a,u=!1,f=0;f<i.dataSeriesIndexes.length;f++){var v=this.data[i.dataSeriesIndexes[f]],b=0,g=!1,p=!1,m;if(v.axisPlacement==="normal"||v.axisPlacement==="xySwapped")var x=i.axisX.sessionVariables.newViewportMinimum?i.axisX.sessionVariables.newViewportMinimum:i.axisX.options&&i.axisX.options.viewportMinimum?i.axisX.options.viewportMinimum:i.axisX.options&&i.axisX.options.minimum?i.axisX.options.minimum:i.axisX.logarithmic?0:-1/0,c=i.axisX.sessionVariables.newViewportMaximum?i.axisX.sessionVariables.newViewportMaximum:i.axisX.options&&i.axisX.options.viewportMaximum?i.axisX.options.viewportMaximum:i.axisX.options&&i.axisX.options.maximum?i.axisX.options.maximum:1/0;for((v.dataPoints[b].x&&v.dataPoints[b].x.getTime||v.xValueType==="dateTime")&&(u=!0),b=0;b<v.dataPoints.length;b++){if(typeof v.dataPoints[b].x>"u"&&(v.dataPoints[b].x=b+(i.axisX.logarithmic?1:0)),v.dataPoints[b].x.getTime?(u=!0,n=v.dataPoints[b].x.getTime()):n=v.dataPoints[b].x,a=v.dataPoints[b].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),a<h.min&&typeof a=="number"&&(h.min=a),a>h.max&&typeof a=="number"&&(h.max=a),0<b){if(i.axisX.logarithmic){var C=n/v.dataPoints[b-1].x;1>C&&(C=1/C),o.minDiff>C&&C!==1&&(o.minDiff=C)}else C=n-v.dataPoints[b-1].x,0>C&&(C*=-1),o.minDiff>C&&C!==0&&(o.minDiff=C);a!==null&&v.dataPoints[b-1].y!==null&&(i.axisY.logarithmic?(C=a/v.dataPoints[b-1].y,1>C&&(C=1/C),h.minDiff>C&&C!==1&&(h.minDiff=C)):(C=a-v.dataPoints[b-1].y,0>C&&(C*=-1),h.minDiff>C&&C!==0&&(h.minDiff=C)))}if(n<x&&!g)a!==null&&(m=n);else{if(!g&&(g=!0,0<b)){b-=2;continue}if(n>c&&!p)p=!0;else if(n>c&&p)continue;v.dataPoints[b].label&&(i.axisX.labels[n]=v.dataPoints[b].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),a===null?o.viewPortMin===n&&m<n&&(o.viewPortMin=m):(a<h.viewPortMin&&typeof a=="number"&&(h.viewPortMin=a),a>h.viewPortMax&&typeof a=="number"&&(h.viewPortMax=a))}}v.axisX.valueType=v.xValueType=u?"dateTime":"number"}},P.prototype._processStackedPlotUnit=function(i){if(i.dataSeriesIndexes&&!(1>i.dataSeriesIndexes.length)){for(var h=i.axisY.dataInfo,o=i.axisX.dataInfo,n,a,u=!1,f=[],v=[],b=1/0,g=-1/0,p=0;p<i.dataSeriesIndexes.length;p++){var m=this.data[i.dataSeriesIndexes[p]],x=0,c=!1,C=!1,S;if(m.axisPlacement==="normal"||m.axisPlacement==="xySwapped")var I=i.axisX.sessionVariables.newViewportMinimum?i.axisX.sessionVariables.newViewportMinimum:i.axisX.options&&i.axisX.options.viewportMinimum?i.axisX.options.viewportMinimum:i.axisX.options&&i.axisX.options.minimum?i.axisX.options.minimum:-1/0,T=i.axisX.sessionVariables.newViewportMaximum?i.axisX.sessionVariables.newViewportMaximum:i.axisX.options&&i.axisX.options.viewportMaximum?i.axisX.options.viewportMaximum:i.axisX.options&&i.axisX.options.maximum?i.axisX.options.maximum:1/0;for((m.dataPoints[x].x&&m.dataPoints[x].x.getTime||m.xValueType==="dateTime")&&(u=!0),x=0;x<m.dataPoints.length;x++){if(typeof m.dataPoints[x].x>"u"&&(m.dataPoints[x].x=x+(i.axisX.logarithmic?1:0)),m.dataPoints[x].x.getTime?(u=!0,n=m.dataPoints[x].x.getTime()):n=m.dataPoints[x].x,a=M(m.dataPoints[x].y)?0:m.dataPoints[x].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<x){if(i.axisX.logarithmic){var _=n/m.dataPoints[x-1].x;1>_&&(_=1/_),o.minDiff>_&&_!==1&&(o.minDiff=_)}else _=n-m.dataPoints[x-1].x,0>_&&(_*=-1),o.minDiff>_&&_!==0&&(o.minDiff=_);a!==null&&m.dataPoints[x-1].y!==null&&(i.axisY.logarithmic?0<a&&(_=a/m.dataPoints[x-1].y,1>_&&(_=1/_),h.minDiff>_&&_!==1&&(h.minDiff=_)):(_=a-m.dataPoints[x-1].y,0>_&&(_*=-1),h.minDiff>_&&_!==0&&(h.minDiff=_)))}if(n<I&&!c)m.dataPoints[x].y!==null&&(S=n);else{if(!c&&(c=!0,0<x)){x-=2;continue}if(n>T&&!C)C=!0;else if(n>T&&C)continue;m.dataPoints[x].label&&(i.axisX.labels[n]=m.dataPoints[x].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),m.dataPoints[x].y===null?o.viewPortMin===n&&S<n&&(o.viewPortMin=S):(i.yTotals[n]=(i.yTotals[n]?i.yTotals[n]:0)+a,i.yAbsTotals[n]=(i.yAbsTotals[n]?i.yAbsTotals[n]:0)+Math.abs(a),0<=a?f[n]?f[n]+=a:(f[n]=a,b=Math.min(a,b)):v[n]?v[n]+=a:(v[n]=a,g=Math.max(a,g)))}}i.axisY.scaleBreaks&&i.axisY.scaleBreaks.autoCalculate&&1<=i.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(h.dataPointYPositiveSums?(h.dataPointYPositiveSums.push.apply(h.dataPointYPositiveSums,f),h.dataPointYNegativeSums.push.apply(h.dataPointYPositiveSums,v)):(h.dataPointYPositiveSums=f,h.dataPointYNegativeSums=v)),m.axisX.valueType=m.xValueType=u?"dateTime":"number"}for(x in f)f.hasOwnProperty(x)&&!isNaN(x)&&(i=f[x],i<h.min&&(h.min=Math.min(i,b)),i>h.max&&(h.max=i),x<o.viewPortMin||x>o.viewPortMax||(i<h.viewPortMin&&(h.viewPortMin=Math.min(i,b)),i>h.viewPortMax&&(h.viewPortMax=i)));for(x in v)v.hasOwnProperty(x)&&!isNaN(x)&&(i=v[x],i<h.min&&(h.min=i),i>h.max&&(h.max=Math.max(i,g)),x<o.viewPortMin||x>o.viewPortMax||(i<h.viewPortMin&&(h.viewPortMin=i),i>h.viewPortMax&&(h.viewPortMax=Math.max(i,g))))}},P.prototype._processStacked100PlotUnit=function(i){if(i.dataSeriesIndexes&&!(1>i.dataSeriesIndexes.length)){for(var h=i.axisY.dataInfo,o=i.axisX.dataInfo,n,a,u=!1,f=!1,v=!1,b=[],g=0;g<i.dataSeriesIndexes.length;g++){var p=this.data[i.dataSeriesIndexes[g]],m=0,x=!1,c=!1,C;if(p.axisPlacement==="normal"||p.axisPlacement==="xySwapped")var S=i.axisX.sessionVariables.newViewportMinimum?i.axisX.sessionVariables.newViewportMinimum:i.axisX.options&&i.axisX.options.viewportMinimum?i.axisX.options.viewportMinimum:i.axisX.options&&i.axisX.options.minimum?i.axisX.options.minimum:-1/0,I=i.axisX.sessionVariables.newViewportMaximum?i.axisX.sessionVariables.newViewportMaximum:i.axisX.options&&i.axisX.options.viewportMaximum?i.axisX.options.viewportMaximum:i.axisX.options&&i.axisX.options.maximum?i.axisX.options.maximum:1/0;for((p.dataPoints[m].x&&p.dataPoints[m].x.getTime||p.xValueType==="dateTime")&&(u=!0),m=0;m<p.dataPoints.length;m++){if(typeof p.dataPoints[m].x>"u"&&(p.dataPoints[m].x=m+(i.axisX.logarithmic?1:0)),p.dataPoints[m].x.getTime?(u=!0,n=p.dataPoints[m].x.getTime()):n=p.dataPoints[m].x,a=M(p.dataPoints[m].y)?null:p.dataPoints[m].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<m){if(i.axisX.logarithmic){var T=n/p.dataPoints[m-1].x;1>T&&(T=1/T),o.minDiff>T&&T!==1&&(o.minDiff=T)}else T=n-p.dataPoints[m-1].x,0>T&&(T*=-1),o.minDiff>T&&T!==0&&(o.minDiff=T);M(a)||p.dataPoints[m-1].y===null||(i.axisY.logarithmic?0<a&&(T=a/p.dataPoints[m-1].y,1>T&&(T=1/T),h.minDiff>T&&T!==1&&(h.minDiff=T)):(T=a-p.dataPoints[m-1].y,0>T&&(T*=-1),h.minDiff>T&&T!==0&&(h.minDiff=T)))}if(n<S&&!x)a!==null&&(C=n);else{if(!x&&(x=!0,0<m)){m-=2;continue}if(n>I&&!c)c=!0;else if(n>I&&c)continue;p.dataPoints[m].label&&(i.axisX.labels[n]=p.dataPoints[m].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),a===null?o.viewPortMin===n&&C<n&&(o.viewPortMin=C):(i.yTotals[n]=(i.yTotals[n]?i.yTotals[n]:0)+a,i.yAbsTotals[n]=(i.yAbsTotals[n]?i.yAbsTotals[n]:0)+Math.abs(a),0<=a?f=!0:0>a&&(v=!0),b[n]=b[n]?b[n]+Math.abs(a):Math.abs(a))}}p.axisX.valueType=p.xValueType=u?"dateTime":"number"}i.axisY.logarithmic?(h.max=M(h.viewPortMax)?99*Math.pow(i.axisY.logarithmBase,-.05):Math.max(h.viewPortMax,99*Math.pow(i.axisY.logarithmBase,-.05)),h.min=M(h.viewPortMin)?1:Math.min(h.viewPortMin,1)):f&&!v?(h.max=M(h.viewPortMax)?99:Math.max(h.viewPortMax,99),h.min=M(h.viewPortMin)?1:Math.min(h.viewPortMin,1)):f&&v?(h.max=M(h.viewPortMax)?99:Math.max(h.viewPortMax,99),h.min=M(h.viewPortMin)?-99:Math.min(h.viewPortMin,-99)):!f&&v&&(h.max=M(h.viewPortMax)?-1:Math.max(h.viewPortMax,-1),h.min=M(h.viewPortMin)?-99:Math.min(h.viewPortMin,-99)),h.viewPortMin=h.min,h.viewPortMax=h.max,i.dataPointYSums=b}},P.prototype._processMultiYPlotUnit=function(i){if(i.dataSeriesIndexes&&!(1>i.dataSeriesIndexes.length))for(var h=i.axisY.dataInfo,o=i.axisX.dataInfo,n,a,u,f,v=!1,b=0;b<i.dataSeriesIndexes.length;b++){var g=this.data[i.dataSeriesIndexes[b]],p=0,m=!1,x=!1,c,C,S;if(g.axisPlacement==="normal"||g.axisPlacement==="xySwapped")var I=i.axisX.sessionVariables.newViewportMinimum?i.axisX.sessionVariables.newViewportMinimum:i.axisX.options&&i.axisX.options.viewportMinimum?i.axisX.options.viewportMinimum:i.axisX.options&&i.axisX.options.minimum?i.axisX.options.minimum:i.axisX.logarithmic?0:-1/0,T=i.axisX.sessionVariables.newViewportMaximum?i.axisX.sessionVariables.newViewportMaximum:i.axisX.options&&i.axisX.options.viewportMaximum?i.axisX.options.viewportMaximum:i.axisX.options&&i.axisX.options.maximum?i.axisX.options.maximum:1/0;for((g.dataPoints[p].x&&g.dataPoints[p].x.getTime||g.xValueType==="dateTime")&&(v=!0),p=0;p<g.dataPoints.length;p++){if(typeof g.dataPoints[p].x>"u"&&(g.dataPoints[p].x=p+(i.axisX.logarithmic?1:0)),g.dataPoints[p].x.getTime?(v=!0,n=g.dataPoints[p].x.getTime()):n=g.dataPoints[p].x,(a=g.dataPoints[p].y)&&a.length){u=Math.min.apply(null,a),f=Math.max.apply(null,a),C=!0;for(var _=0;_<a.length;_++)a.k===null&&(C=!1);C&&(m||(S=c),c=n)}if(n<o.min&&(o.min=n),n>o.max&&(o.max=n),u<h.min&&(h.min=u),f>h.max&&(h.max=f),0<p&&(i.axisX.logarithmic?(C=n/g.dataPoints[p-1].x,1>C&&(C=1/C),o.minDiff>C&&C!==1&&(o.minDiff=C)):(C=n-g.dataPoints[p-1].x,0>C&&(C*=-1),o.minDiff>C&&C!==0&&(o.minDiff=C)),a&&a[0]!==null&&g.dataPoints[p-1].y&&g.dataPoints[p-1].y[0]!==null&&(i.axisY.logarithmic?(C=a[0]/g.dataPoints[p-1].y[0],1>C&&(C=1/C),h.minDiff>C&&C!==1&&(h.minDiff=C)):(C=a[0]-g.dataPoints[p-1].y[0],0>C&&(C*=-1),h.minDiff>C&&C!==0&&(h.minDiff=C)))),!(n<I)||m){if(!m&&(m=!0,0<p)){p-=2,c=S;continue}if(n>T&&!x)x=!0;else if(n>T&&x)continue;if(g.dataPoints[p].label&&(i.axisX.labels[n]=g.dataPoints[p].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),o.viewPortMin===n&&a){for(_=0;_<a.length;_++)if(a[_]===null&&c<n){o.viewPortMin=c;break}}a===null?o.viewPortMin===n&&c<n&&(o.viewPortMin=c):(u<h.viewPortMin&&(h.viewPortMin=u),f>h.viewPortMax&&(h.viewPortMax=f))}}g.axisX.valueType=g.xValueType=v?"dateTime":"number"}},P.prototype._processSpecificPlotUnit=function(i){if(i.type==="waterfall"&&i.dataSeriesIndexes&&!(1>i.dataSeriesIndexes.length))for(var h=i.axisY.dataInfo,o=i.axisX.dataInfo,n,a,u=!1,f=0;f<i.dataSeriesIndexes.length;f++){var v=this.data[i.dataSeriesIndexes[f]],b=0,g=!1,p=!1,m=n=0;if(v.axisPlacement==="normal"||v.axisPlacement==="xySwapped")var x=i.axisX.sessionVariables.newViewportMinimum?i.axisX.sessionVariables.newViewportMinimum:i.axisX.options&&i.axisX.options.viewportMinimum?i.axisX.options.viewportMinimum:i.axisX.options&&i.axisX.options.minimum?i.axisX.options.minimum:i.axisX.logarithmic?0:-1/0,c=i.axisX.sessionVariables.newViewportMaximum?i.axisX.sessionVariables.newViewportMaximum:i.axisX.options&&i.axisX.options.viewportMaximum?i.axisX.options.viewportMaximum:i.axisX.options&&i.axisX.options.maximum?i.axisX.options.maximum:1/0;for((v.dataPoints[b].x&&v.dataPoints[b].x.getTime||v.xValueType==="dateTime")&&(u=!0),b=0;b<v.dataPoints.length;b++)typeof v.dataPoints[b].isCumulativeSum<"u"&&v.dataPoints[b].isCumulativeSum===!0?(v.dataPointEOs[b].cumulativeSumYStartValue=0,v.dataPointEOs[b].cumulativeSum=b===0?0:v.dataPointEOs[b-1].cumulativeSum,v.dataPoints[b].y=b===0?0:v.dataPointEOs[b-1].cumulativeSum):typeof v.dataPoints[b].isIntermediateSum<"u"&&v.dataPoints[b].isIntermediateSum===!0?(v.dataPointEOs[b].cumulativeSumYStartValue=m,v.dataPointEOs[b].cumulativeSum=b===0?0:v.dataPointEOs[b-1].cumulativeSum,v.dataPoints[b].y=b===0?0:n,m=b===0?0:v.dataPointEOs[b-1].cumulativeSum,n=0):(a=typeof v.dataPoints[b].y!="number"?0:v.dataPoints[b].y,v.dataPointEOs[b].cumulativeSumYStartValue=b===0?0:v.dataPointEOs[b-1].cumulativeSum,v.dataPointEOs[b].cumulativeSum=b===0?a:v.dataPointEOs[b-1].cumulativeSum+a,n+=a);for(b=0;b<v.dataPoints.length;b++)if(typeof v.dataPoints[b].x>"u"&&(v.dataPoints[b].x=b+(i.axisX.logarithmic?1:0)),v.dataPoints[b].x.getTime?(u=!0,n=v.dataPoints[b].x.getTime()):n=v.dataPoints[b].x,a=v.dataPoints[b].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),v.dataPointEOs[b].cumulativeSum<h.min&&(h.min=v.dataPointEOs[b].cumulativeSum),v.dataPointEOs[b].cumulativeSum>h.max&&(h.max=v.dataPointEOs[b].cumulativeSum),0<b&&(i.axisX.logarithmic?(m=n/v.dataPoints[b-1].x,1>m&&(m=1/m),o.minDiff>m&&m!==1&&(o.minDiff=m)):(m=n-v.dataPoints[b-1].x,0>m&&(m*=-1),o.minDiff>m&&m!==0&&(o.minDiff=m)),a!==null&&v.dataPoints[b-1].y!==null&&(i.axisY.logarithmic?(a=v.dataPointEOs[b].cumulativeSum/v.dataPointEOs[b-1].cumulativeSum,1>a&&(a=1/a),h.minDiff>a&&a!==1&&(h.minDiff=a)):(a=v.dataPointEOs[b].cumulativeSum-v.dataPointEOs[b-1].cumulativeSum,0>a&&(a*=-1),h.minDiff>a&&a!==0&&(h.minDiff=a)))),!(n<x)||g){if(!g&&(g=!0,0<b)){b-=2;continue}if(n>c&&!p)p=!0;else if(n>c&&p)continue;v.dataPoints[b].label&&(i.axisX.labels[n]=v.dataPoints[b].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),0<b&&(v.dataPointEOs[b-1].cumulativeSum<h.viewPortMin&&(h.viewPortMin=v.dataPointEOs[b-1].cumulativeSum),v.dataPointEOs[b-1].cumulativeSum>h.viewPortMax&&(h.viewPortMax=v.dataPointEOs[b-1].cumulativeSum)),v.dataPointEOs[b].cumulativeSum<h.viewPortMin&&(h.viewPortMin=v.dataPointEOs[b].cumulativeSum),v.dataPointEOs[b].cumulativeSum>h.viewPortMax&&(h.viewPortMax=v.dataPointEOs[b].cumulativeSum)}v.axisX.valueType=v.xValueType=u?"dateTime":"number"}},P.prototype.calculateAutoBreaks=function(){function i(C,S,I,T){return T?(I=Math.pow(Math.min(I*C/S,S/C),.2),1>=I&&(I=Math.pow(1>C?1/C:Math.min(S/C,C),.25)),{startValue:C*I,endValue:S/I}):(I=.2*Math.min(I-S+C,S-C),0>=I&&(I=.25*Math.min(S-C,Math.abs(C))),{startValue:C+I,endValue:S-I})}function h(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)){var S=C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks,I=C.axisY.scaleBreaks&&C.axisY.scaleBreaks.autoCalculate&&1<=C.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(S||I)for(var G=C.axisY.dataInfo,R=C.axisX.dataInfo,T,_=R.min,k=R.max,L=G.min,O=G.max,R=R._dataRanges,G=G._dataRanges,q,U=0,z=0;z<C.dataSeriesIndexes.length;z++){var X=a.data[C.dataSeriesIndexes[z]];if(!(4>X.dataPoints.length)){for(U=0;U<X.dataPoints.length;U++)if(S&&(q=(k+1-_)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,T=X.dataPoints[U].x.getTime?X.dataPoints[U].x.getTime():X.dataPoints[U].x,q=Math.floor((T-_)/q),T<R[q].min&&(R[q].min=T),T>R[q].max&&(R[q].max=T)),I){var W=(O+1-L)*Math.max(parseFloat(C.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((T=C.type==="waterfall"?X.dataPointEOs[U].cumulativeSum:X.dataPoints[U].y)&&T.length)for(var N=0;N<T.length;N++)q=Math.floor((T[N]-L)/W),T[N]<G[q].min&&(G[q].min=T[N]),T[N]>G[q].max&&(G[q].max=T[N]);else M(T)||(q=Math.floor((T-L)/W),T<G[q].min&&(G[q].min=T),T>G[q].max&&(G[q].max=T))}}}}}function o(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)&&C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var S=C.axisX.dataInfo,I=S.min,T=S.max,_=S._dataRanges,k,L=0,O=0;O<C.dataSeriesIndexes.length;O++){var R=a.data[C.dataSeriesIndexes[O]];if(!(4>R.dataPoints.length))for(L=0;L<R.dataPoints.length;L++)k=(T+1-I)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,S=R.dataPoints[L].x.getTime?R.dataPoints[L].x.getTime():R.dataPoints[L].x,k=Math.floor((S-I)/k),S<_[k].min&&(_[k].min=S),S>_[k].max&&(_[k].max=S)}}for(var n,a=this,u=!1,f=0;f<this._axes.length;f++)if(this._axes[f].scaleBreaks&&this._axes[f].scaleBreaks.autoCalculate&&1<=this._axes[f].scaleBreaks.maxNumberOfAutoBreaks){u=!0,this._axes[f].dataInfo._dataRanges=[];for(var v=0;v<100/Math.max(parseFloat(this._axes[f].scaleBreaks.collapsibleThreshold)||10,10);v++)this._axes[f].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(u){for(f=0;f<this.plotInfo.plotTypes.length;f++)for(u=this.plotInfo.plotTypes[f],v=0;v<u.plotUnits.length;v++)n=u.plotUnits[v],n.type==="line"||n.type==="stepLine"||n.type==="spline"||n.type==="column"||n.type==="area"||n.type==="stepArea"||n.type==="splineArea"||n.type==="bar"||n.type==="bubble"||n.type==="scatter"||n.type==="candlestick"||n.type==="ohlc"||n.type==="rangeColumn"||n.type==="rangeBar"||n.type==="rangeArea"||n.type==="rangeSplineArea"||n.type==="waterfall"||n.type==="error"||n.type==="boxAndWhisker"?h(n):0<=n.type.indexOf("stacked")&&o(n);for(f=0;f<this._axes.length;f++)if(this._axes[f].dataInfo._dataRanges){var b=this._axes[f].dataInfo.min;n=(this._axes[f].dataInfo.max+1-b)*Math.max(parseFloat(this._axes[f].scaleBreaks.collapsibleThreshold)||10,10)/100;var g=this._axes[f].dataInfo._dataRanges,p,m,u=[];if(this._axes[f].dataInfo.dataPointYPositiveSums){var x=this._axes[f].dataInfo.dataPointYPositiveSums;p=g;for(v in x)if(x.hasOwnProperty(v)&&!isNaN(v)&&(m=x[v],!M(m))){var c=Math.floor((m-b)/n);m<p[c].min&&(p[c].min=m),m>p[c].max&&(p[c].max=m)}delete this._axes[f].dataInfo.dataPointYPositiveSums}if(this._axes[f].dataInfo.dataPointYNegativeSums){x=this._axes[f].dataInfo.dataPointYNegativeSums,p=g;for(v in x)x.hasOwnProperty(v)&&!isNaN(v)&&(m=-1*x[v],M(m)||(c=Math.floor((m-b)/n),m<p[c].min&&(p[c].min=m),m>p[c].max&&(p[c].max=m)));delete this._axes[f].dataInfo.dataPointYNegativeSums}for(v=0;v<g.length-1;v++)if(p=g[v].max,isFinite(p))for(;v<g.length-1;)if(b=g[v+1].min,isFinite(b)){m=b-p,m>n&&u.push({diff:m,start:p,end:b});break}else v++;if(this._axes[f].scaleBreaks.customBreaks)for(v=0;v<this._axes[f].scaleBreaks.customBreaks.length;v++)for(n=0;n<u.length;n++)(this._axes[f].scaleBreaks.customBreaks[v].startValue<=u[n].start&&u[n].start<=this._axes[f].scaleBreaks.customBreaks[v].endValue||this._axes[f].scaleBreaks.customBreaks[v].startValue<=u[n].start&&u[n].start<=this._axes[f].scaleBreaks.customBreaks[v].endValue||u[n].start<=this._axes[f].scaleBreaks.customBreaks[v].startValue&&this._axes[f].scaleBreaks.customBreaks[v].startValue<=u[n].end||u[n].start<=this._axes[f].scaleBreaks.customBreaks[v].endValue&&this._axes[f].scaleBreaks.customBreaks[v].endValue<=u[n].end)&&(u.splice(n,1),n--);for(u.sort(function(S,I){return I.diff-S.diff}),v=0;v<Math.min(u.length,this._axes[f].scaleBreaks.maxNumberOfAutoBreaks);v++)n=i(u[v].start,u[v].end,this._axes[f].logarithmic?this._axes[f].dataInfo.max/this._axes[f].dataInfo.min:this._axes[f].dataInfo.max-this._axes[f].dataInfo.min,this._axes[f].logarithmic),this._axes[f].scaleBreaks.autoBreaks.push(new qe(this,"autoBreaks",n,v,++this._eventManager.lastObjectId,this._axes[f].scaleBreaks)),this._axes[f].scaleBreaks._appliedBreaks.push(this._axes[f].scaleBreaks.autoBreaks[this._axes[f].scaleBreaks.autoBreaks.length-1]);this._axes[f].scaleBreaks._appliedBreaks.sort(function(S,I){return S.startValue-I.startValue})}}},P.prototype.renderCrosshairs=function(i){for(var h=0;h<this.axisX.length;h++)this.axisX[h]!=i&&this.axisX[h].crosshair&&this.axisX[h].crosshair.enabled&&!this.axisX[h].crosshair._hidden&&this.axisX[h].showCrosshair(this.axisX[h].crosshair._updatedValue);for(h=0;h<this.axisX2.length;h++)this.axisX2[h]!=i&&this.axisX2[h].crosshair&&this.axisX2[h].crosshair.enabled&&!this.axisX2[h].crosshair._hidden&&this.axisX2[h].showCrosshair(this.axisX2[h].crosshair._updatedValue);for(h=0;h<this.axisY.length;h++)this.axisY[h]!=i&&this.axisY[h].crosshair&&this.axisY[h].crosshair.enabled&&!this.axisY[h].crosshair._hidden&&this.axisY[h].showCrosshair(this.axisY[h].crosshair._updatedValue);for(h=0;h<this.axisY2.length;h++)this.axisY2[h]!=i&&this.axisY2[h].crosshair&&this.axisY2[h].crosshair.enabled&&!this.axisY2[h].crosshair._hidden&&this.axisY2[h].showCrosshair(this.axisY2[h].crosshair._updatedValue)},P.prototype.getDataPointAtXY=function(i,h,o){o=o||!1;for(var n=[],a=this._dataInRenderedOrder.length-1;0<=a;a--){var u=null;(u=this._dataInRenderedOrder[a].getDataPointAtXY(i,h,o))&&n.push(u)}for(i=null,h=!1,o=0;o<n.length;o++)if((n[o].dataSeries.type==="line"||n[o].dataSeries.type==="stepLine"||n[o].dataSeries.type==="area"||n[o].dataSeries.type==="stepArea")&&(a=be("markerSize",n[o].dataPoint,n[o].dataSeries)||8,n[o].distance<=a/2)){h=!0;break}for(o=0;o<n.length;o++)h&&n[o].dataSeries.type!=="line"&&n[o].dataSeries.type!=="stepLine"&&n[o].dataSeries.type!=="area"&&n[o].dataSeries.type!=="stepArea"||(i?n[o].distance<=i.distance&&(i=n[o]):i=n[o]);return i},P.prototype.getObjectAtXY=function(i,h,o){var n=null;if(o=this.getDataPointAtXY(i,h,o||!1))n=o.dataSeries.dataPointIds[o.dataPointIndex];else if(V)n=Tt(i,h,this._eventManager.ghostCtx);else for(o=0;o<this.legend.items.length;o++){var a=this.legend.items[o];i>=a.x1&&i<=a.x2&&h>=a.y1&&h<=a.y2&&(n=a.id)}return n},P.prototype.getAutoFontSize=Zg,P.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},P.prototype.clearCanvas=Ia,P.prototype.attachEvent=function(i){this._events.push(i)},P.prototype._touchEventHandler=function(i){if(i.changedTouches&&this.interactivityEnabled){var h=[],o=i.changedTouches,n=o?o[0]:i,a=null;switch(i.type){case"touchstart":case"MSPointerDown":h=["mousemove","mousedown"],this._lastTouchData=Lr(n),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":h=["mousemove"];break;case"touchend":case"MSPointerUp":var u=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,h=this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown"||300>u?["mouseup","click"]:["mouseup"];break;default:return}if(!(o&&1<o.length)){a=Lr(n),a.time=new Date;try{var f=a.y-this._lastTouchData.y,u=a.time-this._lastTouchData.time;(1<Math.abs(f)&&this._lastTouchData.scroll||5<Math.abs(f)&&250>u)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=i.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(o=0;o<h.length;o++)a=h[o],f=document.createEvent("MouseEvent"),f.initMouseEvent(a,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(f),(!M(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<u||a==="click")&&(i.preventManipulation&&i.preventManipulation(),i.preventDefault&&i.cancelable&&i.preventDefault())}}},P.prototype._dispatchRangeEvent=function(i,h){var o={chart:this};o.type=i,o.trigger=h;var n=[];this.axisX&&0<this.axisX.length&&n.push("axisX"),this.axisX2&&0<this.axisX2.length&&n.push("axisX2"),this.axisY&&0<this.axisY.length&&n.push("axisY"),this.axisY2&&0<this.axisY2.length&&n.push("axisY2");for(var a=0;a<n.length;a++)if(M(o[n[a]])&&(o[n[a]]=[]),n[a]==="axisY")for(var u=0;u<this.axisY.length;u++)o[n[a]].push({viewportMinimum:this[n[a]][u].sessionVariables.newViewportMinimum,viewportMaximum:this[n[a]][u].sessionVariables.newViewportMaximum});else if(n[a]==="axisY2")for(u=0;u<this.axisY2.length;u++)o[n[a]].push({viewportMinimum:this[n[a]][u].sessionVariables.newViewportMinimum,viewportMaximum:this[n[a]][u].sessionVariables.newViewportMaximum});else if(n[a]==="axisX")for(u=0;u<this.axisX.length;u++)o[n[a]].push({viewportMinimum:this[n[a]][u].sessionVariables.newViewportMinimum,viewportMaximum:this[n[a]][u].sessionVariables.newViewportMaximum});else if(n[a]==="axisX2")for(u=0;u<this.axisX2.length;u++)o[n[a]].push({viewportMinimum:this[n[a]][u].sessionVariables.newViewportMinimum,viewportMaximum:this[n[a]][u].sessionVariables.newViewportMaximum});this.dispatchEvent(i,o,this)},P.prototype._mouseEventHandler=function(i){typeof i.target>"u"&&i.srcElement&&(i.target=i.srcElement);var h=Lr(i),o=i.type,n,a;if(i.which?a=i.which==3:i.button&&(a=i.button==2),P.capturedEventParam&&(n=P.capturedEventParam,o==="mouseup"&&(P.capturedEventParam=null,n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",n.chart._mouseEventHandler,!1)),n.hasOwnProperty(o)&&(o!=="mouseup"||n.chart.overlaidCanvas.releaseCapture?i.target!==n.chart.overlaidCanvas&&V||n[o].call(n.context,h.x,h.y):i.target!==n.chart.overlaidCanvas&&(n.chart.isDrag=!1))),this.interactivityEnabled){if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(i.preventManipulation&&i.preventManipulation(),i.preventDefault&&i.preventDefault(),Dn&&window.console&&(window.console.log(o+" --> x: "+h.x+"; y:"+h.y),a&&window.console.log(i.which),o==="mouseup"&&window.console.log("mouseup")),!a){if(!P.capturedEventParam&&this._events){for(var u=0;u<this._events.length;u++)if(this._events[u].hasOwnProperty(o))if(n=this._events[u],a=n.bounds,h.x>=a.x1&&h.x<=a.x2&&h.y>=a.y1&&h.y<=a.y2){n[o].call(n.context,h.x,h.y),o==="mousedown"&&n.capture===!0?(P.capturedEventParam=n,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):o==="mouseup"&&(n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else n=null;i.target.style.cursor=n&&n.cursor?n.cursor:this._defaultCursor}if(o=this.plotArea,h.x<o.x1||h.x>o.x2||h.y<o.y1||h.y>o.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),u=0;u<this.axisX.length;u++)this.axisX[u].crosshair&&this.axisX[u].crosshair.enabled&&(this.axisX[u].crosshair.hide(),this.axisX[u].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[u].options},this.axisX[u].crosshair));for(u=0;u<this.axisX2.length;u++)this.axisX2[u].crosshair&&this.axisX2[u].crosshair.enabled&&(this.axisX2[u].crosshair.hide(),this.axisX2[u].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[u].options},this.axisX2[u].crosshair));for(u=0;u<this.axisY.length;u++)this.axisY[u].crosshair&&this.axisY[u].crosshair.enabled&&(this.axisY[u].crosshair.hide(),this.axisY[u].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[u].options},this.axisY[u].crosshair));for(u=0;u<this.axisY2.length;u++)this.axisY2[u].crosshair&&this.axisY2[u].crosshair.enabled&&(this.axisY2[u].crosshair.hide(),this.axisY2[u].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[u].options},this.axisY2[u].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(i)}}},P.prototype._plotAreaMouseDown=function(i,h){this.isDrag=!0,this.dragStartPoint={x:i,y:h}},P.prototype._plotAreaMouseUp=function(i,h){if((this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")&&this.isDrag){var o=h-this.dragStartPoint.y,n=i-this.dragStartPoint.x,v=0<=this.zoomType.indexOf("x"),f=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),this.plotInfo.axisPlacement==="xySwapped")var u=f,f=v,v=u;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(v=f=0;v<this._axes.length;v++)o=this._axes[v],o.logarithmic?o.viewportMinimum<o.minimum?(f=o.minimum/o.viewportMinimum,o.sessionVariables.newViewportMinimum=o.viewportMinimum*f,o.sessionVariables.newViewportMaximum=o.viewportMaximum*f,a=!0):o.viewportMaximum>o.maximum&&(f=o.viewportMaximum/o.maximum,o.sessionVariables.newViewportMinimum=o.viewportMinimum/f,o.sessionVariables.newViewportMaximum=o.viewportMaximum/f,a=!0):o.viewportMinimum<o.minimum?(f=o.minimum-o.viewportMinimum,o.sessionVariables.newViewportMinimum=o.viewportMinimum+f,o.sessionVariables.newViewportMaximum=o.viewportMaximum+f,a=!0):o.viewportMaximum>o.maximum&&(f=o.viewportMaximum-o.maximum,o.sessionVariables.newViewportMinimum=o.viewportMinimum-f,o.sessionVariables.newViewportMaximum=o.viewportMaximum-f,a=!0);else if((!v||2<Math.abs(n))&&(!f||2<Math.abs(o))&&this.zoomEnabled){if(!this.dragStartPoint)return;o=v?this.dragStartPoint.x:this.plotArea.x1,n=f?this.dragStartPoint.y:this.plotArea.y1,v=v?i:this.plotArea.x2,f=f?h:this.plotArea.y2,2<Math.abs(o-v)&&2<Math.abs(n-f)&&this._zoomPanToSelectedRegion(o,n,v,f)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),a&&this.zoomEnabled&&this._zoomButton.style.display==="none"&&(it(this._zoomButton,this._resetButton),ht(this,this._zoomButton,"pan"),ht(this,this._resetButton,"reset")))}}if(this.isDrag=!1,this.plotInfo.axisPlacement!=="none"){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(i,h);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(i,h);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(i,h);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(i,h);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},P.prototype._plotAreaMouseMove=function(i,h){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var o=0,n=0,a=o=null,a=0<=this.zoomType.indexOf("x"),u=0<=this.zoomType.indexOf("y"),f=this;if(this.plotInfo.axisPlacement==="xySwapped"&&(o=u,u=a,a=o),o=this.dragStartPoint.x-i,n=this.dragStartPoint.y-h,2<Math.abs(o)&&8>Math.abs(o)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var v=0;v<this.axisX.length;v++)this.axisX[v].crosshair&&this.axisX[v].crosshair.enabled&&(this.axisX[v].crosshair.hide(),this.axisX[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[v].options},this.axisX[v].crosshair));for(v=0;v<this.axisX2.length;v++)this.axisX2[v].crosshair&&this.axisX2[v].crosshair.enabled&&(this.axisX2[v].crosshair.hide(),this.axisX2[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[v].options},this.axisX2[v].crosshair));for(v=0;v<this.axisY.length;v++)this.axisY[v].crosshair&&this.axisY[v].crosshair.enabled&&(this.axisY[v].crosshair.hide(),this.axisY[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[v].options},this.axisY[v].crosshair));for(v=0;v<this.axisY2.length;v++)this.axisY2[v].crosshair&&this.axisY2[v].crosshair.enabled&&(this.axisY2[v].crosshair.hide(),this.axisY2[v].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[v].options},this.axisY2[v].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(i,h);if((!a||2<Math.abs(o)||!u||2<Math.abs(n))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)a={x1:a?this.plotArea.x1+o:this.plotArea.x1,y1:u?this.plotArea.y1+n:this.plotArea.y1,x2:a?this.plotArea.x2+o:this.plotArea.x2,y2:u?this.plotArea.y2+n:this.plotArea.y2},clearTimeout(f._panTimerId),f._panTimerId=setTimeout(function(p,m,x,c){return function(){f._zoomPanToSelectedRegion(p,m,x,c,!0)&&(f._dispatchRangeEvent("rangeChanging","pan"),f.stockChart&&f.stockChart.navigator&&f.stockChart.navigator.enabled&&(f.stockChart._rangeEventParameter.type="rangeChanging",f.stockChart.dispatchEvent("rangeChanging",f.stockChart._rangeEventParameter,f.stockChart)),f.render(),f._dispatchRangeEvent("rangeChanged","pan"),f.stockChart&&f.stockChart.navigator&&f.stockChart.navigator.enabled&&(f.stockChart._rangeEventParameter.type="rangeChanged",f.stockChart.dispatchEvent("rangeChanged",f.stockChart._rangeEventParameter,f.stockChart)),f.dragStartPoint.x=i,f.dragStartPoint.y=h)}}(a.x1,a.y1,a.x2,a.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),o=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var n=a?this.dragStartPoint.x:this.plotArea.x1,v=u?this.dragStartPoint.y:this.plotArea.y1,b=a?i-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,g=u?h-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(n,v,a?i:this.plotArea.x2-this.plotArea.x1,u?h:this.plotArea.y2-this.plotArea.y1,this.zoomType!=="xy").isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(n,v,b,g),this.overlaidCanvasCtx.globalAlpha=o}}}else if(this.toolTip.mouseMoveHandler(i,h),this.plotInfo.axisPlacement!=="none"){if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(i,h);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(i,h);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(i,h);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(i,h);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},P.prototype._zoomPanToSelectedRegion=function(i,h,o,n,a){if(i=this.validateRegion(i,h,o,n,a),h=i.axesWithValidRange,o=i.axesRanges,i.isValid)for(n=0;n<h.length;n++)a=o[n],h[n].setViewPortRange(a.val1,a.val2),this.syncCharts&&this.zoomType!="y"&&this.syncCharts(a.val1,a.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:a.val1,maximum:a.val2});return i.isValid},P.prototype.validateRegion=function(i,h,o,n,a){a=a||!1;for(var u=0<=this.zoomType.indexOf("x"),f=0<=this.zoomType.indexOf("y"),v=!1,b=[],g=[],p=[],m=0;m<this._axes.length;m++)(this._axes[m].type==="axisX"&&u||this._axes[m].type==="axisY"&&f)&&g.push(this._axes[m]);for(f=0;f<g.length;f++){var m=g[f],u=!1,C=m.convertPixelToValue({x:i,y:h}),c=m.convertPixelToValue({x:o,y:n});if(C>c)var x=c,c=C,C=x;if(m.scaleBreaks)for(x=0;!u&&x<m.scaleBreaks._appliedBreaks.length;x++)u=m.scaleBreaks._appliedBreaks[x].startValue<=C&&m.scaleBreaks._appliedBreaks[x].endValue>=c;if(isFinite(m.dataInfo.minDiff)){if(x=m.getApparentDifference(C,c,null,!0),!(u||!(this.panEnabled&&m.scaleBreaks&&m.scaleBreaks._appliedBreaks.length)&&(m.logarithmic&&x<Math.pow(m.dataInfo.minDiff,3)||!m.logarithmic&&x<3*Math.abs(m.dataInfo.minDiff))||C<m.minimum||c>m.maximum))b.push(m),p.push({val1:C,val2:c}),v=!0;else if(!a){v=!1;break}}}return{isValid:v,axesWithValidRange:b,axesRanges:p}},P.prototype.preparePlotArea=function(){var i=this.plotArea;if(!V&&(0<i.x1||0<i.y1)&&i.ctx.translate(i.x1,i.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var h=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var o=this.axisY[0];i.x1=h.x1<h.x2?h.x1:o.lineCoordinates.x1,i.y1=h.y1<o.lineCoordinates.y1?h.y1:o.lineCoordinates.y1,i.x2=h.x2>o.lineCoordinates.x2?h.x2:o.lineCoordinates.x2,i.y2=h.y1>o.lineCoordinates.y2?h.y1:o.lineCoordinates.y2,i.width=i.x2-i.x1,i.height=i.y2-i.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(o=this.axisY2[0],i.x1=h.x1<h.x2?h.x1:o.lineCoordinates.x1,i.y1=h.y1<o.lineCoordinates.y1?h.y1:o.lineCoordinates.y1,i.x2=h.x2>o.lineCoordinates.x2?h.x2:o.lineCoordinates.x2,i.y2=h.y2>o.lineCoordinates.y2?h.y2:o.lineCoordinates.y2,i.width=i.x2-i.x1,i.height=i.y2-i.y1)}else h=this.layoutManager.getFreeSpace(),i.x1=h.x1,i.x2=h.x2,i.y1=h.y1,i.y2=h.y2,i.width=h.width,i.height=h.height;V||(i.canvas.width=i.width,i.canvas.height=i.height,i.canvas.style.left=i.x1+"px",i.canvas.style.top=i.y1+"px",(0<i.x1||0<i.y1)&&i.ctx.translate(-i.x1,-i.y1)),i.layoutManager=new rn(i.x1,i.y1,i.x2,i.y2,2)},P.prototype.renderIndexLabels=function(i){var h=i||this.plotArea.ctx,o=this.plotArea,n=0,a=0,u=0,f=u=a=0,v=0,b=n=0,g=0;for(i=0;i<this._indexLabels.length;i++){var p=this._indexLabels[i],m=p.chartType.toLowerCase(),x,c,f=be("indexLabelFontColor",p.dataPoint,p.dataSeries),C=be("indexLabelFontSize",p.dataPoint,p.dataSeries),v=be("indexLabelFontFamily",p.dataPoint,p.dataSeries),b=be("indexLabelFontStyle",p.dataPoint,p.dataSeries),g=be("indexLabelFontWeight",p.dataPoint,p.dataSeries),S=be("indexLabelBackgroundColor",p.dataPoint,p.dataSeries);x=be("indexLabelMaxWidth",p.dataPoint,p.dataSeries),c=be("indexLabelWrap",p.dataPoint,p.dataSeries);var I=be("indexLabelLineDashType",p.dataPoint,p.dataSeries),T=be("indexLabelLineColor",p.dataPoint,p.dataSeries),_=M(p.dataPoint.indexLabelLineThickness)?M(p.dataSeries.options.indexLabelLineThickness)?0:p.dataSeries.options.indexLabelLineThickness:p.dataPoint.indexLabelLineThickness,n=0<_?Math.min(10,(this.plotInfo.axisPlacement==="normal"?this.plotArea.height:this.plotArea.width)<<0):0,k={percent:null,total:null},L=null;(0<=p.dataSeries.type.indexOf("stacked")||p.dataSeries.type==="pie"||p.dataSeries.type==="doughnut")&&(k=this.getPercentAndTotal(p.dataSeries,p.dataPoint)),(p.dataSeries.indexLabelFormatter||p.dataPoint.indexLabelFormatter)&&(L={chart:this,dataSeries:p.dataSeries,dataPoint:p.dataPoint,index:p.indexKeyword,total:k.total,percent:k.percent});var O=p.dataPoint.indexLabelFormatter?p.dataPoint.indexLabelFormatter(L):p.dataPoint.indexLabel?this.replaceKeywordsWithValue(p.dataPoint.indexLabel,p.dataPoint,p.dataSeries,null,p.indexKeyword):p.dataSeries.indexLabelFormatter?p.dataSeries.indexLabelFormatter(L):p.dataSeries.indexLabel?this.replaceKeywordsWithValue(p.dataSeries.indexLabel,p.dataPoint,p.dataSeries,null,p.indexKeyword):null;if(O!==null&&O!==""){var k=be("indexLabelPlacement",p.dataPoint,p.dataSeries),L=be("indexLabelOrientation",p.dataPoint,p.dataSeries),R=be("indexLabelTextAlign",p.dataPoint,p.dataSeries),G=p.direction,a=p.dataSeries.axisX,u=p.dataSeries.axisY,q=!1,S=new je(h,{x:0,y:0,maxWidth:x||.5*this.width,maxHeight:c?5*C:1.5*C,angle:L==="horizontal"?0:-90,text:O,padding:0,backgroundColor:S,textAlign:R,fontSize:C,fontFamily:v,fontWeight:g,fontColor:f,fontStyle:b,textBaseline:"middle"});if(S.measureText(),p.dataSeries.indexLabelMaxWidth=S.maxWidth,m==="stackedarea100"){if(p.point.x<o.x1||p.point.x>o.x2||p.point.y<o.y1-1||p.point.y>o.y2+1)continue}else if(m==="rangearea"||m==="rangesplinearea"){if(p.dataPoint.x<a.viewportMinimum||p.dataPoint.x>a.viewportMaximum||Math.max.apply(null,p.dataPoint.y)<u.viewportMinimum||Math.min.apply(null,p.dataPoint.y)>u.viewportMaximum)continue}else if(0<=m.indexOf("line")||0<=m.indexOf("area")||0<=m.indexOf("bubble")||0<=m.indexOf("scatter")){if(p.dataPoint.x<a.viewportMinimum||p.dataPoint.x>a.viewportMaximum||p.dataPoint.y<u.viewportMinimum||p.dataPoint.y>u.viewportMaximum)continue}else if(0<=m.indexOf("column")||m==="waterfall"||m==="error"&&!p.axisSwapped){if(p.dataPoint.x<a.viewportMinimum||p.dataPoint.x>a.viewportMaximum||p.bounds.y1>o.y2||p.bounds.y2<o.y1)continue}else if(0<=m.indexOf("bar")||m==="error"){if(p.dataPoint.x<a.viewportMinimum||p.dataPoint.x>a.viewportMaximum||p.bounds.x1>o.x2||p.bounds.x2<o.x1)continue}else if(m==="candlestick"||m==="ohlc"){if(p.dataPoint.x<a.viewportMinimum||p.dataPoint.x>a.viewportMaximum||Math.max.apply(null,p.dataPoint.y)<u.viewportMinimum||Math.min.apply(null,p.dataPoint.y)>u.viewportMaximum)continue}else if(p.dataPoint.x<a.viewportMinimum||p.dataPoint.x>a.viewportMaximum)continue;f=v=2,L==="horizontal"?(b=S.width,g=S.height):(g=S.width,b=S.height),this.plotInfo.axisPlacement==="normal"?(0<=m.indexOf("line")||0<=m.indexOf("area")?(k="auto",v=4):0<=m.indexOf("stacked")?k==="auto"&&(k="inside"):(m==="bubble"||m==="scatter")&&(k="inside"),x=p.point.x-(L==="horizontal"?b/2:b/2-C/2),k!=="inside"?(a=o.y1,u=o.y2,0<G?(c=p.point.y+(L==="horizontal"?C/2:0)-g-v-n,c<a&&(c=k==="auto"?Math.max(p.point.y,a)+C/2+v:a+C/2+v,q=c+g>p.point.y)):(c=p.point.y+C/2+v+n,c>u-g&&(c=k==="auto"?Math.min(p.point.y,u)+C/2-g-v:u+C/2-g,q=c<p.point.y))):(a=Math.max(p.bounds.y1,o.y1),u=Math.min(p.bounds.y2,o.y2-g+C/2),n=0<=m.indexOf("range")||m==="error"?0<G?Math.max(p.bounds.y1,o.y1)+C/2+v:Math.min(p.bounds.y2,o.y2)+C/2-g+v:(Math.max(p.bounds.y1,o.y1)+Math.min(p.bounds.y2,o.y2))/2-g/2+C/2+(L==="horizontal"?v:0),0<G?(c=Math.max(p.point.y,n),c<a&&(m==="bubble"||m==="scatter")&&(c=Math.max(p.point.y-g-v,o.y1+v))):(c=Math.min(p.point.y,n),c>u-g-v&&(m==="bubble"||m==="scatter")&&(c=Math.min(p.point.y+v,o.y2-g-v))),c=Math.min(c,u))):(0<=m.indexOf("line")||0<=m.indexOf("area")||0<=m.indexOf("scatter")?(k="auto",f=4):0<=m.indexOf("stacked")?k==="auto"&&(k="inside"):m==="bubble"&&(k="inside"),c=p.point.y+C/2-g/2+v,k!=="inside"?(a=o.x1,u=o.x2,0>G?(x=p.point.x-(L==="horizontal"?b:b-C/2)-f-n,x<a&&(x=k==="auto"?Math.max(p.point.x,a)+f:a+f,q=x+b>p.point.x)):(x=p.point.x+(L==="horizontal"?0:C/2)+f+n,x>u-b-f-n&&(x=k==="auto"?Math.min(p.point.x,u)-(L==="horizontal"?b:b/2)-f:u-b-f,q=x<p.point.x))):(a=Math.max(p.bounds.x1,o.x1),Math.min(p.bounds.x2,o.x2),n=0<=m.indexOf("range")||m==="error"?0>G?Math.max(p.bounds.x1,o.x1)+C/2+f:Math.min(p.bounds.x2,o.x2)-b/2-f+(L==="horizontal"?0:C/2):(Math.max(p.bounds.x1,o.x1)+Math.min(p.bounds.x2,o.x2))/2+(L==="horizontal"?0:C/2),x=0>G?Math.max(p.point.x,n)-(L==="horizontal"?b/2:0):Math.min(p.point.x,n)-b/2,x=Math.max(x,a))),L==="vertical"&&(c+=g-C/2),S.x=x,S.y=c,S.render(!0),_&&k!=="inside"&&(0>m.indexOf("bar")&&(m!=="error"||!p.axisSwapped)&&p.point.x>o.x1&&p.point.x<o.x2||!q)&&(0>m.indexOf("column")&&(m!=="error"||p.axisSwapped)&&p.point.y>o.y1&&p.point.y<o.y2||!q)&&(h.lineWidth=_,h.strokeStyle=T||"gray",h.setLineDash&&h.setLineDash(te(I,_)),h.beginPath(),h.moveTo(p.point.x,p.point.y),0<=m.indexOf("bar")||m==="error"&&p.axisSwapped?h.lineTo(x+(0<p.direction?-f:b+f)+(L==="vertical"?-C/2:0),c+(L==="vertical"?-g/2:g/2-C/2)-v):0<=m.indexOf("column")||m==="error"&&!p.axisSwapped?h.lineTo(x+b/2-(L==="horizontal"?0:C/2),c+(L==="vertical"?(c-g<p.point.y?0:-g)+v:(c-C/2<p.point.y?g:0)-C/2)):0<=m.indexOf("waterfall")?h.lineTo(x+b/2-(L==="horizontal"?0:C/2),L==="vertical"?0<G&&c<p.point.y?c:0>G&&c-g>p.point.y?c-g:p.point.y:0<G&&c+g-C/2<p.point.y?c+g-C/2:0>G&&c-C/2>p.point.y?c-C/2-2:p.point.y):h.lineTo(x+b/2-(L==="horizontal"?0:C/2),c+(L==="vertical"?c-g<p.point.y?0:-g:(c+g<p.point.y?g:0)-C/2)),h.stroke())}}for(h={source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0,startTimePercent:.7},i=0;i<this._indexLabels.length;i++)p=this._indexLabels[i],S=be("indexLabelBackgroundColor",p.dataPoint,p.dataSeries),p.dataSeries.indexLabelBackgroundColor=M(S)?V?"transparent":null:S;return h},P.prototype.renderLine=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var a=this.plotArea;o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip();for(var u=[],f,v=0;v<i.dataSeriesIndexes.length;v++){var b=i.dataSeriesIndexes[v],g=this.data[b];o.lineWidth=g.lineThickness;var p=g.dataPoints,m="solid";if(o.setLineDash){var x=te(g.nullDataLineDashType,g.lineThickness),m=g.lineDashType,c=te(m,g.lineThickness);o.setLineDash(c)}var C=g.id;this._eventManager.objectMap[C]={objectType:"dataSeries",dataSeriesIndex:b},C=w(C),n.strokeStyle=C,n.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0;var C=g._colorSet,S=C=g.lineColor=g.options.lineColor?g.options.lineColor:C[0];o.strokeStyle=C;var I=!0,T=0,_,k;if(o.beginPath(),0<p.length){for(var L=!1,T=0;T<p.length;T++)if(_=p[T].x.getTime?p[T].x.getTime():p[T].x,!(_<i.axisX.dataInfo.viewPortMin||_>i.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!L)))if(typeof p[T].y!="number")0<T&&!(g.connectNullData||L||I)&&(o.stroke(),V&&n.stroke()),L=!0;else{_=i.axisX.convertValueToPixel(_),k=i.axisY.convertValueToPixel(p[T].y);var O=g.dataPointIds[T];if(this._eventManager.objectMap[O]={id:O,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:T,x1:_,y1:k},I||L?(!I&&g.connectNullData?(o.setLineDash&&(g.options.nullDataLineDashType||m===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(f.x,f.y),m=g.nullDataLineDashType,o.setLineDash(x)),o.lineTo(_,k),V&&n.lineTo(_,k)):(o.beginPath(),o.moveTo(_,k),V&&(n.beginPath(),n.moveTo(_,k))),L=I=!1):(o.lineTo(_,k),V&&n.lineTo(_,k),T%500==0&&(o.stroke(),o.beginPath(),o.moveTo(_,k),V&&(n.stroke(),n.beginPath(),n.moveTo(_,k)))),f={x:_,y:k},T<p.length-1&&(S!==(p[T].lineColor||C)||m!==(p[T].lineDashType||g.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(_,k),S=p[T].lineColor||C,o.strokeStyle=S,o.setLineDash&&(p[T].lineDashType?(m=p[T].lineDashType,o.setLineDash(te(m,g.lineThickness))):(m=g.lineDashType,o.setLineDash(c)))),p[T].markerSize!==0&&(0<p[T].markerSize||0<g.markerSize)){var R=g.getMarkerProperties(T,_,k,o);u.push(R),O=w(O),V&&u.push({x:_,y:k,ctx:n,type:R.type,size:R.size,color:O,borderColor:O,borderThickness:R.borderThickness})}(p[T].indexLabel||g.indexLabel||p[T].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:p[T],dataSeries:g,point:{x:_,y:k},direction:0>p[T].y===i.axisY.reversed?1:-1,color:C})}o.stroke(),V&&n.stroke()}}return ct.drawMarkers(u),V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),n.beginPath()),o.restore(),o.beginPath(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderStepLine=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var a=this.plotArea;o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip();for(var u=[],f,v=0;v<i.dataSeriesIndexes.length;v++){var b=i.dataSeriesIndexes[v],g=this.data[b];o.lineWidth=g.lineThickness;var p=g.dataPoints,m="solid";if(o.setLineDash){var x=te(g.nullDataLineDashType,g.lineThickness),m=g.lineDashType,c=te(m,g.lineThickness);o.setLineDash(c)}var C=g.id;this._eventManager.objectMap[C]={objectType:"dataSeries",dataSeriesIndex:b},C=w(C),n.strokeStyle=C,n.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0;var C=g._colorSet,S=C=g.lineColor=g.options.lineColor?g.options.lineColor:C[0];o.strokeStyle=C;var I=!0,T=0,_,k;if(o.beginPath(),0<p.length){for(var L=!1,T=0;T<p.length;T++)if(_=p[T].getTime?p[T].x.getTime():p[T].x,!(_<i.axisX.dataInfo.viewPortMin||_>i.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!L)))if(typeof p[T].y!="number")0<T&&!(g.connectNullData||L||I)&&(o.stroke(),V&&n.stroke()),L=!0;else{var O=k;_=i.axisX.convertValueToPixel(_),k=i.axisY.convertValueToPixel(p[T].y);var R=g.dataPointIds[T];this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:T,x1:_,y1:k},I||L?(!I&&g.connectNullData?(o.setLineDash&&(g.options.nullDataLineDashType||m===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(f.x,f.y),m=g.nullDataLineDashType,o.setLineDash(x)),o.lineTo(_,O),o.lineTo(_,k),V&&(n.lineTo(_,O),n.lineTo(_,k))):(o.beginPath(),o.moveTo(_,k),V&&(n.beginPath(),n.moveTo(_,k))),L=I=!1):(o.lineTo(_,O),V&&n.lineTo(_,O),o.lineTo(_,k),V&&n.lineTo(_,k),T%500==0&&(o.stroke(),o.beginPath(),o.moveTo(_,k),V&&(n.stroke(),n.beginPath(),n.moveTo(_,k)))),f={x:_,y:k},T<p.length-1&&(S!==(p[T].lineColor||C)||m!==(p[T].lineDashType||g.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(_,k),S=p[T].lineColor||C,o.strokeStyle=S,o.setLineDash&&(p[T].lineDashType?(m=p[T].lineDashType,o.setLineDash(te(m,g.lineThickness))):(m=g.lineDashType,o.setLineDash(c)))),p[T].markerSize!==0&&(0<p[T].markerSize||0<g.markerSize)&&(O=g.getMarkerProperties(T,_,k,o),u.push(O),R=w(R),V&&u.push({x:_,y:k,ctx:n,type:O.type,size:O.size,color:R,borderColor:R,borderThickness:O.borderThickness})),(p[T].indexLabel||g.indexLabel||p[T].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:p[T],dataSeries:g,point:{x:_,y:k},direction:0>p[T].y===i.axisY.reversed?1:-1,color:C})}o.stroke(),V&&n.stroke()}}return ct.drawMarkers(u),V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),n.beginPath()),o.restore(),o.beginPath(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderSpline=function(i){function h(R){if(R=F(R,2),0<R.length){n.beginPath(),V&&a.beginPath(),n.moveTo(R[0].x,R[0].y),R[0].newStrokeStyle&&(n.strokeStyle=R[0].newStrokeStyle),R[0].newLineDashArray&&n.setLineDash(R[0].newLineDashArray),V&&a.moveTo(R[0].x,R[0].y);for(var G=0;G<R.length-3;G+=3)n.bezierCurveTo(R[G+1].x,R[G+1].y,R[G+2].x,R[G+2].y,R[G+3].x,R[G+3].y),V&&a.bezierCurveTo(R[G+1].x,R[G+1].y,R[G+2].x,R[G+2].y,R[G+3].x,R[G+3].y),(0<G&&G%3e3===0||R[G+3].newStrokeStyle||R[G+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(R[G+3].x,R[G+3].y),R[G+3].newStrokeStyle&&(n.strokeStyle=R[G+3].newStrokeStyle),R[G+3].newLineDashArray&&n.setLineDash(R[G+3].newLineDashArray),V&&(a.stroke(),a.beginPath(),a.moveTo(R[G+3].x,R[G+3].y)));n.stroke(),V&&a.stroke()}}var o=i.targetCanvasCtx||this.plotArea.ctx,n=V?this._preRenderCtx:o;if(!(0>=i.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;n.save();var u=this.plotArea;n.beginPath(),n.rect(u.x1,u.y1,u.width,u.height),n.clip();for(var f=[],v=0;v<i.dataSeriesIndexes.length;v++){var b=i.dataSeriesIndexes[v],g=this.data[b];n.lineWidth=g.lineThickness;var p=g.dataPoints,m="solid";if(n.setLineDash){var x=te(g.nullDataLineDashType,g.lineThickness),m=g.lineDashType,c=te(m,g.lineThickness);n.setLineDash(c)}var C=g.id;this._eventManager.objectMap[C]={objectType:"dataSeries",dataSeriesIndex:b},C=w(C),a.strokeStyle=C,a.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0;var C=g._colorSet,S=C=g.lineColor=g.options.lineColor?g.options.lineColor:C[0];n.strokeStyle=C;var I=0,T,_,k=[];if(n.beginPath(),0<p.length){for(_=!1,I=0;I<p.length;I++)if(T=p[I].getTime?p[I].x.getTime():p[I].x,!(T<i.axisX.dataInfo.viewPortMin||T>i.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!_)))if(typeof p[I].y!="number")0<I&&!_&&(g.connectNullData?n.setLineDash&&0<k.length&&(g.options.nullDataLineDashType||!p[I-1].lineDashType)&&(k[k.length-1].newLineDashArray=x,m=g.nullDataLineDashType):(h(k),k=[])),_=!0;else{T=i.axisX.convertValueToPixel(T),_=i.axisY.convertValueToPixel(p[I].y);var L=g.dataPointIds[I];if(this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:I,x1:T,y1:_},k[k.length]={x:T,y:_},I<p.length-1&&(S!==(p[I].lineColor||C)||m!==(p[I].lineDashType||g.lineDashType))&&(S=p[I].lineColor||C,k[k.length-1].newStrokeStyle=S,n.setLineDash&&(p[I].lineDashType?(m=p[I].lineDashType,k[k.length-1].newLineDashArray=te(m,g.lineThickness)):(m=g.lineDashType,k[k.length-1].newLineDashArray=c))),p[I].markerSize!==0&&(0<p[I].markerSize||0<g.markerSize)){var O=g.getMarkerProperties(I,T,_,n);f.push(O),L=w(L),V&&f.push({x:T,y:_,ctx:a,type:O.type,size:O.size,color:L,borderColor:L,borderThickness:O.borderThickness})}(p[I].indexLabel||g.indexLabel||p[I].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:p[I],dataSeries:g,point:{x:T,y:_},direction:0>p[I].y===i.axisY.reversed?1:-1,color:C}),_=!1}}h(k)}return ct.drawMarkers(f),V&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&n.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&n.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(u.x1,u.y1,u.width,u.height),a.beginPath()),n.restore(),n.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderColumn=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,g=0,u,f,v,b=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/i.plotType.totalDataSeries))<<0,m=i.axisX.dataInfo.minDiff;for(isFinite(m)||(m=.3*Math.abs(i.axisX.range)),m=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(i.axisX.logarithmic?Math.log(m)/Math.log(i.axisX.range):Math.abs(m)/Math.abs(i.axisX.range))/i.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&g>p&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<g&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),m<g&&(m=g),m>p&&(m=p),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),p=0;p<i.dataSeriesIndexes.length;p++){var x=i.dataSeriesIndexes[p],c=this.data[x],C=c.dataPoints;if(0<C.length){for(var S=!!(5<m&&c.bevelEnabled),g=0;g<C.length;g++)if(C[g].getTime?v=C[g].x.getTime():v=C[g].x,!(v<i.axisX.dataInfo.viewPortMin||v>i.axisX.dataInfo.viewPortMax)&&typeof C[g].y=="number"){u=i.axisX.convertValueToPixel(v),f=i.axisY.convertValueToPixel(C[g].y),u=i.axisX.reversed?u+i.plotType.totalDataSeries*m/2-(i.previousDataSeriesCount+p)*m<<0:u-i.plotType.totalDataSeries*m/2+(i.previousDataSeriesCount+p)*m<<0;var I=i.axisX.reversed?u-m<<0:u+m<<0,T;0<=C[g].y?T=b:(T=f,f=b),f>T&&(n=f,f=T,T=n),n=C[g].color?C[g].color:c._colorSet[g%c._colorSet.length],wt(o,i.axisX.reversed?I:u,f,i.axisX.reversed?u:I,T,n,0,null,S&&(i.axisY.reversed?0>C[g].y:0<=C[g].y),(i.axisY.reversed?0<=C[g].y:0>C[g].y)&&S,!1,!1,c.fillOpacity),n=c.dataPointIds[g],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:g,x1:u,y1:f,x2:I,y2:T},n=w(n),V&&wt(this._eventManager.ghostCtx,i.axisX.reversed?I:u,f,i.axisX.reversed?u:I,T,n,0,null,!1,!1,!1,!1),(C[g].indexLabel||c.indexLabel||C[g].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:C[g],dataSeries:c,point:{x:u+(I-u)/2,y:0>C[g].y===i.axisY.reversed?f:T},direction:0>C[g].y===i.axisY.reversed?1:-1,bounds:{x1:u,y1:Math.min(f,T),x2:I,y2:Math.max(f,T)},color:n})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.yScaleAnimation,easingFunction:ve.easing.easeOutQuart,animationBase:b<i.axisY.bounds.y1?i.axisY.bounds.y1:b>i.axisY.bounds.y2?i.axisY.bounds.y2:b}}},P.prototype.renderStackedColumn=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,u=[],f=[],v=[],b=[],x=0,g,p,m=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,C=i.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(i.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(i.axisX.logarithmic?Math.log(C)/Math.log(i.axisX.range):Math.abs(C)/Math.abs(i.axisX.range))/i.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>c&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),C<x&&(C=x),C>c&&(C=c),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<i.dataSeriesIndexes.length;c++){var S=i.dataSeriesIndexes[c],I=this.data[S],T=I.dataPoints;if(0<T.length){var _=!!(5<C&&I.bevelEnabled);for(o.strokeStyle="#4572A7 ",x=0;x<T.length;x++)if(n=T[x].x.getTime?T[x].x.getTime():T[x].x,!(n<i.axisX.dataInfo.viewPortMin||n>i.axisX.dataInfo.viewPortMax)&&typeof T[x].y=="number"){g=i.axisX.convertValueToPixel(n),g=g-i.plotType.plotUnits.length*C/2+i.index*C<<0;var k=g+C<<0,L;if(i.axisY.logarithmic||i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0<T[x].y)v[n]=T[x].y+(v[n]?v[n]:0),0<v[n]&&(p=i.axisY.convertValueToPixel(v[n]),L=typeof u[n]<"u"?u[n]:m,u[n]=p);else if(i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0>=T[x].y)b[n]=T[x].y+(b[n]?b[n]:0),L=i.axisY.convertValueToPixel(b[n]),p=typeof f[n]<"u"?f[n]:m,f[n]=L;else if(p=i.axisY.convertValueToPixel(T[x].y),0<=T[x].y){var O=typeof u[n]<"u"?u[n]:0;p-=O,L=m-O,u[n]=O+(L-p)}else O=f[n]?f[n]:0,L=p+O,p=m+O,f[n]=O+(L-p);n=T[x].color?T[x].color:I._colorSet[x%I._colorSet.length],wt(o,g,i.axisY.reversed?L:p,k,i.axisY.reversed?p:L,n,0,null,_&&(i.axisY.reversed?0>T[x].y:0<=T[x].y),(i.axisY.reversed?0<=T[x].y:0>T[x].y)&&_,!1,!1,I.fillOpacity),n=I.dataPointIds[x],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:x,x1:g,y1:p,x2:k,y2:L},n=w(n),V&&wt(this._eventManager.ghostCtx,g,p,k,L,n,0,null,!1,!1,!1,!1),(T[x].indexLabel||I.indexLabel||T[x].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:T[x],dataSeries:I,point:{x:g+(k-g)/2,y:0<=T[x].y?p:L},direction:0>T[x].y===i.axisY.reversed?1:-1,bounds:{x1:g,y1:Math.min(p,L),x2:k,y2:Math.max(p,L)},color:n})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.yScaleAnimation,easingFunction:ve.easing.easeOutQuart,animationBase:m<i.axisY.bounds.y1?i.axisY.bounds.y1:m>i.axisY.bounds.y2?i.axisY.bounds.y2:m}}},P.prototype.renderStackedColumn100=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,u=[],f=[],v=[],b=[],x=0,g,p,m=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,C=i.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(i.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(i.axisX.logarithmic?Math.log(C)/Math.log(i.axisX.range):Math.abs(C)/Math.abs(i.axisX.range))/i.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>c&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),C<x&&(C=x),C>c&&(C=c),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<i.dataSeriesIndexes.length;c++){var S=i.dataSeriesIndexes[c],I=this.data[S],T=I.dataPoints;if(0<T.length){for(var _=!!(5<C&&I.bevelEnabled),x=0;x<T.length;x++)if(n=T[x].x.getTime?T[x].x.getTime():T[x].x,!(n<i.axisX.dataInfo.viewPortMin||n>i.axisX.dataInfo.viewPortMax)&&typeof T[x].y=="number"){g=i.axisX.convertValueToPixel(n),p=i.dataPointYSums[n]!==0?100*(T[x].y/i.dataPointYSums[n]):0,g=g-i.plotType.plotUnits.length*C/2+i.index*C<<0;var k=g+C<<0,L;if(i.axisY.logarithmic||i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0<T[x].y){if(v[n]=p+(typeof v[n]<"u"?v[n]:0),0>=v[n])continue;p=i.axisY.convertValueToPixel(v[n]),L=u[n]?u[n]:m,u[n]=p}else if(i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0>=T[x].y)b[n]=p+(typeof b[n]<"u"?b[n]:0),L=i.axisY.convertValueToPixel(b[n]),p=f[n]?f[n]:m,f[n]=L;else if(p=i.axisY.convertValueToPixel(p),0<=T[x].y){var O=typeof u[n]<"u"?u[n]:0;p-=O,L=m-O,i.dataSeriesIndexes.length-1===c&&1>=Math.abs(a.y1-p)&&(p=a.y1),u[n]=O+(L-p)}else O=typeof f[n]<"u"?f[n]:0,L=p+O,p=m+O,i.dataSeriesIndexes.length-1===c&&1>=Math.abs(a.y2-L)&&(L=a.y2),f[n]=O+(L-p);n=T[x].color?T[x].color:I._colorSet[x%I._colorSet.length],wt(o,g,i.axisY.reversed?L:p,k,i.axisY.reversed?p:L,n,0,null,_&&(i.axisY.reversed?0>T[x].y:0<=T[x].y),(i.axisY.reversed?0<=T[x].y:0>T[x].y)&&_,!1,!1,I.fillOpacity),n=I.dataPointIds[x],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:x,x1:g,y1:p,x2:k,y2:L},n=w(n),V&&wt(this._eventManager.ghostCtx,g,p,k,L,n,0,null,!1,!1,!1,!1),(T[x].indexLabel||I.indexLabel||T[x].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:T[x],dataSeries:I,point:{x:g+(k-g)/2,y:0<=T[x].y?p:L},direction:0>T[x].y===i.axisY.reversed?1:-1,bounds:{x1:g,y1:Math.min(p,L),x2:k,y2:Math.max(p,L)},color:n})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.yScaleAnimation,easingFunction:ve.easing.easeOutQuart,animationBase:m<i.axisY.bounds.y1?i.axisY.bounds.y1:m>i.axisY.bounds.y2?i.axisY.bounds.y2:m}}},P.prototype.renderBar=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,g=0,u,f,v,b=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/i.plotType.totalDataSeries))<<0,m=i.axisX.dataInfo.minDiff;for(isFinite(m)||(m=.3*Math.abs(i.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(i.axisX.logarithmic?Math.log(m)/Math.log(i.axisX.range):Math.abs(m)/Math.abs(i.axisX.range))/i.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&g>p&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<g&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),m<g&&(m=g),m>p&&(m=p),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),p=0;p<i.dataSeriesIndexes.length;p++){var x=i.dataSeriesIndexes[p],c=this.data[x],C=c.dataPoints;if(0<C.length){var S=!!(5<m&&c.bevelEnabled);for(o.strokeStyle="#4572A7 ",g=0;g<C.length;g++)if(C[g].getTime?v=C[g].x.getTime():v=C[g].x,!(v<i.axisX.dataInfo.viewPortMin||v>i.axisX.dataInfo.viewPortMax)&&typeof C[g].y=="number"){f=i.axisX.convertValueToPixel(v),u=i.axisY.convertValueToPixel(C[g].y),f=i.axisX.reversed?f+i.plotType.totalDataSeries*m/2-(i.previousDataSeriesCount+p)*m<<0:f-i.plotType.totalDataSeries*m/2+(i.previousDataSeriesCount+p)*m<<0;var I=i.axisX.reversed?f-m<<0:f+m<<0,T;0<=C[g].y?T=b:(T=u,u=b),n=C[g].color?C[g].color:c._colorSet[g%c._colorSet.length],wt(o,i.axisY.reversed?u:T,i.axisX.reversed?I:f,i.axisY.reversed?T:u,i.axisX.reversed?f:I,n,0,null,S,!1,!1,!1,c.fillOpacity),n=c.dataPointIds[g],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:g,x1:T,y1:f,x2:u,y2:I},n=w(n),V&&wt(this._eventManager.ghostCtx,T,i.axisX.reversed?I:f,u,i.axisX.reversed?f:I,n,0,null,!1,!1,!1,!1),(C[g].indexLabel||c.indexLabel||C[g].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:C[g],dataSeries:c,point:{x:0<=C[g].y?u:T,y:f+(I-f)/2},direction:0>C[g].y===i.axisY.reversed?1:-1,bounds:{x1:Math.min(T,u),y1:f,x2:Math.max(T,u),y2:I},color:n})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.xScaleAnimation,easingFunction:ve.easing.easeOutQuart,animationBase:b<i.axisY.bounds.x1?i.axisY.bounds.x1:b>i.axisY.bounds.x2?i.axisY.bounds.x2:b}}},P.prototype.renderStackedBar=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,u=[],f=[],v=[],b=[],x=0,g,p,m=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,C=i.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(i.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(i.axisX.logarithmic?Math.log(C)/Math.log(i.axisX.range):Math.abs(C)/Math.abs(i.axisX.range))/i.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>c&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),C<x&&(C=x),C>c&&(C=c),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<i.dataSeriesIndexes.length;c++){var S=i.dataSeriesIndexes[c],I=this.data[S],T=I.dataPoints;if(0<T.length){var _=!!(5<C&&I.bevelEnabled);for(o.strokeStyle="#4572A7 ",x=0;x<T.length;x++)if(n=T[x].x.getTime?T[x].x.getTime():T[x].x,!(n<i.axisX.dataInfo.viewPortMin||n>i.axisX.dataInfo.viewPortMax)&&typeof T[x].y=="number"){p=i.axisX.convertValueToPixel(n),p=p-i.plotType.plotUnits.length*C/2+i.index*C<<0;var k=p+C<<0,L;if(i.axisY.logarithmic||i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0<T[x].y)v[n]=T[x].y+(v[n]?v[n]:0),0<v[n]&&(L=u[n]?u[n]:m,u[n]=g=i.axisY.convertValueToPixel(v[n]));else if(i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0>=T[x].y)b[n]=T[x].y+(b[n]?b[n]:0),g=f[n]?f[n]:m,f[n]=L=i.axisY.convertValueToPixel(b[n]);else if(g=i.axisY.convertValueToPixel(T[x].y),0<=T[x].y){var O=u[n]?u[n]:0;L=m+O,g+=O,u[n]=O+(g-L)}else O=f[n]?f[n]:0,L=g-O,g=m-O,f[n]=O+(g-L);n=T[x].color?T[x].color:I._colorSet[x%I._colorSet.length],wt(o,i.axisY.reversed?g:L,p,i.axisY.reversed?L:g,k,n,0,null,_,!1,!1,!1,I.fillOpacity),n=I.dataPointIds[x],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:x,x1:L,y1:p,x2:g,y2:k},n=w(n),V&&wt(this._eventManager.ghostCtx,L,p,g,k,n,0,null,!1,!1,!1,!1),(T[x].indexLabel||I.indexLabel||T[x].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:T[x],dataSeries:I,point:{x:0<=T[x].y?g:L,y:p+(k-p)/2},direction:0>T[x].y===i.axisY.reversed?1:-1,bounds:{x1:Math.min(L,g),y1:p,x2:Math.max(L,g),y2:k},color:n})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.xScaleAnimation,easingFunction:ve.easing.easeOutQuart,animationBase:m<i.axisY.bounds.x1?i.axisY.bounds.x1:m>i.axisY.bounds.x2?i.axisY.bounds.x2:m}}},P.prototype.renderStackedBar100=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,u=[],f=[],v=[],b=[],x=0,g,p,m=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,C=i.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(i.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(i.axisX.logarithmic?Math.log(C)/Math.log(i.axisX.range):Math.abs(C)/Math.abs(i.axisX.range))/i.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>c&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),C<x&&(C=x),C>c&&(C=c),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),c=0;c<i.dataSeriesIndexes.length;c++){var S=i.dataSeriesIndexes[c],I=this.data[S],T=I.dataPoints;if(0<T.length){var _=!!(5<C&&I.bevelEnabled);for(o.strokeStyle="#4572A7 ",x=0;x<T.length;x++)if(n=T[x].x.getTime?T[x].x.getTime():T[x].x,!(n<i.axisX.dataInfo.viewPortMin||n>i.axisX.dataInfo.viewPortMax)&&typeof T[x].y=="number"){p=i.axisX.convertValueToPixel(n);var k;k=i.dataPointYSums[n]!==0?100*(T[x].y/i.dataPointYSums[n]):0,p=p-i.plotType.plotUnits.length*C/2+i.index*C<<0;var L=p+C<<0;if(i.axisY.logarithmic||i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0<T[x].y){if(v[n]=k+(v[n]?v[n]:0),0>=v[n])continue;k=u[n]?u[n]:m,u[n]=g=i.axisY.convertValueToPixel(v[n])}else if(i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length&&0>=T[x].y)b[n]=k+(b[n]?b[n]:0),g=f[n]?f[n]:m,f[n]=k=i.axisY.convertValueToPixel(b[n]);else if(g=i.axisY.convertValueToPixel(k),0<=T[x].y){var O=u[n]?u[n]:0;k=m+O,g+=O,i.dataSeriesIndexes.length-1===c&&1>=Math.abs(a.x2-g)&&(g=a.x2),u[n]=O+(g-k)}else O=f[n]?f[n]:0,k=g-O,g=m-O,i.dataSeriesIndexes.length-1===c&&1>=Math.abs(a.x1-k)&&(k=a.x1),f[n]=O+(g-k);n=T[x].color?T[x].color:I._colorSet[x%I._colorSet.length],wt(o,i.axisY.reversed?g:k,p,i.axisY.reversed?k:g,L,n,0,null,_,!1,!1,!1,I.fillOpacity),n=I.dataPointIds[x],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:x,x1:k,y1:p,x2:g,y2:L},n=w(n),V&&wt(this._eventManager.ghostCtx,k,p,g,L,n,0,null,!1,!1,!1,!1),(T[x].indexLabel||I.indexLabel||T[x].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:T[x],dataSeries:I,point:{x:0<=T[x].y?g:k,y:p+(L-p)/2},direction:0>T[x].y===i.axisY.reversed?1:-1,bounds:{x1:Math.min(k,g),y1:p,x2:Math.max(k,g),y2:L},color:n})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.xScaleAnimation,easingFunction:ve.easing.easeOutQuart,animationBase:m<i.axisY.bounds.x1?i.axisY.bounds.x1:m>i.axisY.bounds.x2?i.axisY.bounds.x2:m}}},P.prototype.renderArea=function(i){var h,o;function n(){O&&(0<c.lineThickness&&u.stroke(),i.axisY.logarithmic||0>=i.axisY.viewportMinimum&&0<=i.axisY.viewportMaximum?L=k:0>i.axisY.viewportMaximum?L=v.y1:0<i.axisY.viewportMinimum&&(L=k),u.lineTo(I,L),u.lineTo(O.x,L),u.closePath(),u.globalAlpha=c.fillOpacity,u.fill(),u.globalAlpha=1,V&&(f.lineTo(I,L),f.lineTo(O.x,L),f.closePath(),f.fill()),u.beginPath(),u.moveTo(I,T),f.beginPath(),f.moveTo(I,T),O={x:I,y:T})}var a=i.targetCanvasCtx||this.plotArea.ctx,u=V?this._preRenderCtx:a;if(!(0>=i.dataSeriesIndexes.length)){var f=this._eventManager.ghostCtx,v=i.axisY.lineCoordinates,b=[],g=this.plotArea,p;u.save(),V&&f.save(),u.beginPath(),u.rect(g.x1,g.y1,g.width,g.height),u.clip(),V&&(f.beginPath(),f.rect(g.x1,g.y1,g.width,g.height),f.clip());for(var m=0;m<i.dataSeriesIndexes.length;m++){var x=i.dataSeriesIndexes[m],c=this.data[x],C=c.dataPoints,b=c.id;this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:x},b=w(b),f.fillStyle=b,b=[],h=!0;var S=0,I,T,_,k=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),L,O=null;if(0<C.length){var R=c._colorSet[S%c._colorSet.length],G=c.lineColor=c.options.lineColor||R,q=G;if(u.fillStyle=R,u.strokeStyle=G,u.lineWidth=c.lineThickness,o="solid",u.setLineDash){var U=te(c.nullDataLineDashType,c.lineThickness);o=c.lineDashType;var z=te(o,c.lineThickness);u.setLineDash(z)}for(var X=!0;S<C.length;S++)if(_=C[S].x.getTime?C[S].x.getTime():C[S].x,!(_<i.axisX.dataInfo.viewPortMin||_>i.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!X)))if(typeof C[S].y!="number")c.connectNullData||X||h||n(),X=!0;else{I=i.axisX.convertValueToPixel(_),T=i.axisY.convertValueToPixel(C[S].y),h||X?(!h&&c.connectNullData?(u.setLineDash&&(c.options.nullDataLineDashType||o===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(h=I,o=T,I=p.x,T=p.y,n(),u.moveTo(p.x,p.y),I=h,T=o,O=p,o=c.nullDataLineDashType,u.setLineDash(U)),u.lineTo(I,T),V&&f.lineTo(I,T)):(u.beginPath(),u.moveTo(I,T),V&&(f.beginPath(),f.moveTo(I,T)),O={x:I,y:T}),X=h=!1):(u.lineTo(I,T),V&&f.lineTo(I,T),S%250==0&&n()),p={x:I,y:T},S<C.length-1&&(q!==(C[S].lineColor||G)||o!==(C[S].lineDashType||c.lineDashType))&&(n(),q=C[S].lineColor||G,u.strokeStyle=q,u.setLineDash&&(C[S].lineDashType?(o=C[S].lineDashType,u.setLineDash(te(o,c.lineThickness))):(o=c.lineDashType,u.setLineDash(z))));var W=c.dataPointIds[S];this._eventManager.objectMap[W]={id:W,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:S,x1:I,y1:T},C[S].markerSize!==0&&(0<C[S].markerSize||0<c.markerSize)&&(_=c.getMarkerProperties(S,I,T,u),b.push(_),W=w(W),V&&b.push({x:I,y:T,ctx:f,type:_.type,size:_.size,color:W,borderColor:W,borderThickness:_.borderThickness})),(C[S].indexLabel||c.indexLabel||C[S].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:C[S],dataSeries:c,point:{x:I,y:T},direction:0>C[S].y===i.axisY.reversed?1:-1,color:R})}n(),ct.drawMarkers(b)}}return V&&(a.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&u.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&u.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:a,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderSplineArea=function(i){function h(){var X=F(_,2);if(0<X.length){if(0<p.lineThickness){n.beginPath(),n.moveTo(X[0].x,X[0].y),X[0].newStrokeStyle&&(n.strokeStyle=X[0].newStrokeStyle),X[0].newLineDashArray&&n.setLineDash(X[0].newLineDashArray);for(var W=0;W<X.length-3;W+=3)n.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y),V&&a.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y),(X[W+3].newStrokeStyle||X[W+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(X[W+3].x,X[W+3].y),X[W+3].newStrokeStyle&&(n.strokeStyle=X[W+3].newStrokeStyle),X[W+3].newLineDashArray&&n.setLineDash(X[W+3].newLineDashArray));n.stroke()}for(n.beginPath(),n.moveTo(X[0].x,X[0].y),V&&(a.beginPath(),a.moveTo(X[0].x,X[0].y)),W=0;W<X.length-3;W+=3)n.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y),V&&a.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y);i.axisY.logarithmic||0>=i.axisY.viewportMinimum&&0<=i.axisY.viewportMaximum?I=S:0>i.axisY.viewportMaximum?I=u.y1:0<i.axisY.viewportMinimum&&(I=S),T={x:X[0].x,y:X[0].y},n.lineTo(X[X.length-1].x,I),n.lineTo(T.x,I),n.closePath(),n.globalAlpha=p.fillOpacity,n.fill(),n.globalAlpha=1,V&&(a.lineTo(X[X.length-1].x,I),a.lineTo(T.x,I),a.closePath(),a.fill())}}var o=i.targetCanvasCtx||this.plotArea.ctx,n=V?this._preRenderCtx:o;if(!(0>=i.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,u=i.axisY.lineCoordinates,f=[],v=this.plotArea;n.save(),V&&a.save(),n.beginPath(),n.rect(v.x1,v.y1,v.width,v.height),n.clip(),V&&(a.beginPath(),a.rect(v.x1,v.y1,v.width,v.height),a.clip());for(var b=0;b<i.dataSeriesIndexes.length;b++){var g=i.dataSeriesIndexes[b],p=this.data[g],m=p.dataPoints,f=p.id;this._eventManager.objectMap[f]={objectType:"dataSeries",dataSeriesIndex:g},f=w(f),a.fillStyle=f;var f=[],x=0,c,C,S=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),I,T=null,_=[];if(0<m.length){var k=p._colorSet[x%p._colorSet.length],L=p.lineColor=p.options.lineColor||k,O=L;n.fillStyle=k,n.strokeStyle=L,n.lineWidth=p.lineThickness;var R="solid";if(n.setLineDash){var G=te(p.nullDataLineDashType,p.lineThickness),R=p.lineDashType,q=te(R,p.lineThickness);n.setLineDash(q)}for(C=!1;x<m.length;x++)if(c=m[x].x.getTime?m[x].x.getTime():m[x].x,!(c<i.axisX.dataInfo.viewPortMin||c>i.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!C)))if(typeof m[x].y!="number")0<x&&!C&&(p.connectNullData?n.setLineDash&&0<_.length&&(p.options.nullDataLineDashType||!m[x-1].lineDashType)&&(_[_.length-1].newLineDashArray=G,R=p.nullDataLineDashType):(h(),_=[])),C=!0;else{c=i.axisX.convertValueToPixel(c),C=i.axisY.convertValueToPixel(m[x].y);var U=p.dataPointIds[x];if(this._eventManager.objectMap[U]={id:U,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:x,x1:c,y1:C},_[_.length]={x:c,y:C},x<m.length-1&&(O!==(m[x].lineColor||L)||R!==(m[x].lineDashType||p.lineDashType))&&(O=m[x].lineColor||L,_[_.length-1].newStrokeStyle=O,n.setLineDash&&(m[x].lineDashType?(R=m[x].lineDashType,_[_.length-1].newLineDashArray=te(R,p.lineThickness)):(R=p.lineDashType,_[_.length-1].newLineDashArray=q))),m[x].markerSize!==0&&(0<m[x].markerSize||0<p.markerSize)){var z=p.getMarkerProperties(x,c,C,n);f.push(z),U=w(U),V&&f.push({x:c,y:C,ctx:a,type:z.type,size:z.size,color:U,borderColor:U,borderThickness:z.borderThickness})}(m[x].indexLabel||p.indexLabel||m[x].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:m[x],dataSeries:p,point:{x:c,y:C},direction:0>m[x].y===i.axisY.reversed?1:-1,color:k}),C=!1}h(),ct.drawMarkers(f)}}return V&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&n.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&n.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderStepArea=function(i){var h,o;function n(){O&&(0<c.lineThickness&&u.stroke(),i.axisY.logarithmic||0>=i.axisY.viewportMinimum&&0<=i.axisY.viewportMaximum?L=k:0>i.axisY.viewportMaximum?L=v.y1:0<i.axisY.viewportMinimum&&(L=k),u.lineTo(I,L),u.lineTo(O.x,L),u.closePath(),u.globalAlpha=c.fillOpacity,u.fill(),u.globalAlpha=1,V&&(f.lineTo(I,L),f.lineTo(O.x,L),f.closePath(),f.fill()),u.beginPath(),u.moveTo(I,T),f.beginPath(),f.moveTo(I,T),O={x:I,y:T})}var a=i.targetCanvasCtx||this.plotArea.ctx,u=V?this._preRenderCtx:a;if(!(0>=i.dataSeriesIndexes.length)){var f=this._eventManager.ghostCtx,v=i.axisY.lineCoordinates,b=[],g=this.plotArea,p;u.save(),V&&f.save(),u.beginPath(),u.rect(g.x1,g.y1,g.width,g.height),u.clip(),V&&(f.beginPath(),f.rect(g.x1,g.y1,g.width,g.height),f.clip());for(var m=0;m<i.dataSeriesIndexes.length;m++){var x=i.dataSeriesIndexes[m],c=this.data[x],C=c.dataPoints,b=c.id;this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:x},b=w(b),f.fillStyle=b,b=[],h=!0;var S=0,I,T,_,k=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),L,O=null;if(o=!1,0<C.length){var R=c._colorSet[S%c._colorSet.length],G=c.lineColor=c.options.lineColor||R,q=G;u.fillStyle=R,u.strokeStyle=G,u.lineWidth=c.lineThickness;var U="solid";if(u.setLineDash){var z=te(c.nullDataLineDashType,c.lineThickness),U=c.lineDashType,X=te(U,c.lineThickness);u.setLineDash(X)}for(;S<C.length;S++)if(_=C[S].x.getTime?C[S].x.getTime():C[S].x,!(_<i.axisX.dataInfo.viewPortMin||_>i.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!o))){var W=T;typeof C[S].y!="number"?(c.connectNullData||o||h||n(),o=!0):(I=i.axisX.convertValueToPixel(_),T=i.axisY.convertValueToPixel(C[S].y),h||o?(!h&&c.connectNullData?(u.setLineDash&&(c.options.nullDataLineDashType||U===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(h=I,o=T,I=p.x,T=p.y,n(),u.moveTo(p.x,p.y),I=h,T=o,O=p,U=c.nullDataLineDashType,u.setLineDash(z)),u.lineTo(I,W),u.lineTo(I,T),V&&(f.lineTo(I,W),f.lineTo(I,T))):(u.beginPath(),u.moveTo(I,T),V&&(f.beginPath(),f.moveTo(I,T)),O={x:I,y:T}),o=h=!1):(u.lineTo(I,W),V&&f.lineTo(I,W),u.lineTo(I,T),V&&f.lineTo(I,T),S%250==0&&n()),p={x:I,y:T},S<C.length-1&&(q!==(C[S].lineColor||G)||U!==(C[S].lineDashType||c.lineDashType))&&(n(),q=C[S].lineColor||G,u.strokeStyle=q,u.setLineDash&&(C[S].lineDashType?(U=C[S].lineDashType,u.setLineDash(te(U,c.lineThickness))):(U=c.lineDashType,u.setLineDash(X)))),_=c.dataPointIds[S],this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:S,x1:I,y1:T},C[S].markerSize!==0&&(0<C[S].markerSize||0<c.markerSize)&&(W=c.getMarkerProperties(S,I,T,u),b.push(W),_=w(_),V&&b.push({x:I,y:T,ctx:f,type:W.type,size:W.size,color:_,borderColor:_,borderThickness:W.borderThickness})),(C[S].indexLabel||c.indexLabel||C[S].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:C[S],dataSeries:c,point:{x:I,y:T},direction:0>C[S].y===i.axisY.reversed?1:-1,color:R}))}n(),ct.drawMarkers(b)}}return V&&(a.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&u.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&u.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),u.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),u.restore(),{source:a,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderStackedArea=function(i){function h(){if(!(1>g.length)){for(0<R.lineThickness&&n.stroke();0<g.length;){var B=g.pop();n.lineTo(B.x,B.y),V&&I.lineTo(B.x,B.y)}n.closePath(),n.globalAlpha=R.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),V&&(I.closePath(),I.fill(),I.beginPath()),g=[]}}var o=i.targetCanvasCtx||this.plotArea.ctx,n=V?this._preRenderCtx:o;if(!(0>=i.dataSeriesIndexes.length)){var a=null,u=null,f=[],v=this.plotArea,b=[],g=[],p=[],m=[],x=0,c,C,S=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),I=this._eventManager.ghostCtx,T,_,k;V&&I.beginPath(),n.save(),V&&I.save(),n.beginPath(),n.rect(v.x1,v.y1,v.width,v.height),n.clip(),V&&(I.beginPath(),I.rect(v.x1,v.y1,v.width,v.height),I.clip());for(var a=[],L=0;L<i.dataSeriesIndexes.length;L++){var O=i.dataSeriesIndexes[L],R=this.data[O],G=R.dataPoints;for(R.dataPointIndexes=[],x=0;x<G.length;x++)O=G[x].x.getTime?G[x].x.getTime():G[x].x,R.dataPointIndexes[O]=x,a[O]||(p.push(O),a[O]=!0);p.sort(y)}for(L=0;L<i.dataSeriesIndexes.length;L++){if(O=i.dataSeriesIndexes[L],R=this.data[O],G=R.dataPoints,_=!0,g=[],x=R.id,this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:O},x=w(x),I.fillStyle=x,0<p.length){var a=R._colorSet[0],q=R.lineColor=R.options.lineColor||a,U=q;if(n.fillStyle=a,n.strokeStyle=q,n.lineWidth=R.lineThickness,k="solid",n.setLineDash){var z=te(R.nullDataLineDashType,R.lineThickness);k=R.lineDashType;var X=te(k,R.lineThickness);n.setLineDash(X)}for(var W=!0,x=0;x<p.length;x++){var u=p[x],N=null,N=0<=R.dataPointIndexes[u]?G[R.dataPointIndexes[u]]:{x:u,y:null};if(!(u<i.axisX.dataInfo.viewPortMin||u>i.axisX.dataInfo.viewPortMax&&(!R.connectNullData||!W)))if(typeof N.y!="number")R.connectNullData||W||_||h(),W=!0;else{c=i.axisX.convertValueToPixel(u);var Z=b[u]?b[u]:0;if(i.axisY.logarithmic||i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length){if(m[u]=N.y+(m[u]?m[u]:0),0>=m[u]&&i.axisY.logarithmic)continue;C=i.axisY.convertValueToPixel(m[u])}else C=i.axisY.convertValueToPixel(N.y),C-=Z;if(g.push({x:c,y:S-Z}),b[u]=S-C,_||W?(!_&&R.connectNullData?(n.setLineDash&&(R.options.nullDataLineDashType||k===R.lineDashType&&R.lineDashType!==R.nullDataLineDashType)&&(_=g.pop(),k=g[g.length-1],h(),n.moveTo(T.x,T.y),g.push(k),g.push(_),k=R.nullDataLineDashType,n.setLineDash(z)),n.lineTo(c,C),V&&I.lineTo(c,C)):(n.beginPath(),n.moveTo(c,C),V&&(I.beginPath(),I.moveTo(c,C))),W=_=!1):(n.lineTo(c,C),V&&I.lineTo(c,C),x%250==0&&(h(),n.moveTo(c,C),V&&I.moveTo(c,C),g.push({x:c,y:S-Z}))),T={x:c,y:C},x<G.length-1&&(U!==(G[x].lineColor||q)||k!==(G[x].lineDashType||R.lineDashType))&&(h(),n.beginPath(),n.moveTo(c,C),g.push({x:c,y:S-Z}),U=G[x].lineColor||q,n.strokeStyle=U,n.setLineDash&&(G[x].lineDashType?(k=G[x].lineDashType,n.setLineDash(te(k,R.lineThickness))):(k=R.lineDashType,n.setLineDash(X)))),0<=R.dataPointIndexes[u]){var ie=R.dataPointIds[R.dataPointIndexes[u]];this._eventManager.objectMap[ie]={id:ie,objectType:"dataPoint",dataSeriesIndex:O,dataPointIndex:R.dataPointIndexes[u],x1:c,y1:C}}0<=R.dataPointIndexes[u]&&N.markerSize!==0&&(0<N.markerSize||0<R.markerSize)&&(Z=R.getMarkerProperties(R.dataPointIndexes[u],c,C,n),f.push(Z),u=w(ie),V&&f.push({x:c,y:C,ctx:I,type:Z.type,size:Z.size,color:u,borderColor:u,borderThickness:Z.borderThickness})),(N.indexLabel||R.indexLabel||N.indexLabelFormatter||R.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:N,dataSeries:R,point:{x:c,y:C},direction:0>G[x].y===i.axisY.reversed?1:-1,color:a})}}h(),n.moveTo(c,C),V&&I.moveTo(c,C)}delete R.dataPointIndexes}return ct.drawMarkers(f),V&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&n.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&n.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(v.x1,v.y1,v.width,v.height),I.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderStackedArea100=function(i){function h(){for(0<R.lineThickness&&n.stroke();0<g.length;){var _e=g.pop();n.lineTo(_e.x,_e.y),V&&k.lineTo(_e.x,_e.y)}n.closePath(),n.globalAlpha=R.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),V&&(k.closePath(),k.fill(),k.beginPath()),g=[]}var o=i.targetCanvasCtx||this.plotArea.ctx,n=V?this._preRenderCtx:o;if(!(0>=i.dataSeriesIndexes.length)){var a=null,u=null,f=this.plotArea,v=[],b=[],g=[],p=[],m=[],x=0,c,C,S,I,T,_=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),k=this._eventManager.ghostCtx;n.save(),V&&k.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),V&&(k.beginPath(),k.rect(f.x1,f.y1,f.width,f.height),k.clip());for(var a=[],L=0;L<i.dataSeriesIndexes.length;L++){var O=i.dataSeriesIndexes[L],R=this.data[O],G=R.dataPoints;for(R.dataPointIndexes=[],x=0;x<G.length;x++)O=G[x].x.getTime?G[x].x.getTime():G[x].x,R.dataPointIndexes[O]=x,a[O]||(p.push(O),a[O]=!0);p.sort(y)}for(L=0;L<i.dataSeriesIndexes.length;L++){if(O=i.dataSeriesIndexes[L],R=this.data[O],G=R.dataPoints,I=!0,a=R.id,this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:O},a=w(a),k.fillStyle=a,g=[],0<p.length){var a=R._colorSet[x%R._colorSet.length],q=R.lineColor=R.options.lineColor||a,U=q;if(n.fillStyle=a,n.strokeStyle=q,n.lineWidth=R.lineThickness,T="solid",n.setLineDash){var z=te(R.nullDataLineDashType,R.lineThickness);T=R.lineDashType;var X=te(T,R.lineThickness);n.setLineDash(X)}for(var W=!0,x=0;x<p.length;x++){var u=p[x],N=null,N=0<=R.dataPointIndexes[u]?G[R.dataPointIndexes[u]]:{x:u,y:null};if(!(u<i.axisX.dataInfo.viewPortMin||u>i.axisX.dataInfo.viewPortMax&&(!R.connectNullData||!W)))if(typeof N.y!="number")R.connectNullData||W||I||h(),W=!0;else{var Z;Z=i.dataPointYSums[u]!==0?100*(N.y/i.dataPointYSums[u]):0,c=i.axisX.convertValueToPixel(u);var ie=b[u]?b[u]:0;if(i.axisY.logarithmic||i.axisY.scaleBreaks&&0<i.axisY.scaleBreaks._appliedBreaks.length){if(m[u]=Z+(m[u]?m[u]:0),0>=m[u]&&i.axisY.logarithmic)continue;C=i.axisY.convertValueToPixel(m[u])}else C=i.axisY.convertValueToPixel(Z),C-=ie;if(g.push({x:c,y:_-ie}),b[u]=_-C,I||W?(!I&&R.connectNullData?(n.setLineDash&&(R.options.nullDataLineDashType||T===R.lineDashType&&R.lineDashType!==R.nullDataLineDashType)&&(I=g.pop(),T=g[g.length-1],h(),n.moveTo(S.x,S.y),g.push(T),g.push(I),T=R.nullDataLineDashType,n.setLineDash(z)),n.lineTo(c,C),V&&k.lineTo(c,C)):(n.beginPath(),n.moveTo(c,C),V&&(k.beginPath(),k.moveTo(c,C))),W=I=!1):(n.lineTo(c,C),V&&k.lineTo(c,C),x%250==0&&(h(),n.moveTo(c,C),V&&k.moveTo(c,C),g.push({x:c,y:_-ie}))),S={x:c,y:C},x<G.length-1&&(U!==(G[x].lineColor||q)||T!==(G[x].lineDashType||R.lineDashType))&&(h(),n.beginPath(),n.moveTo(c,C),g.push({x:c,y:_-ie}),U=G[x].lineColor||q,n.strokeStyle=U,n.setLineDash&&(G[x].lineDashType?(T=G[x].lineDashType,n.setLineDash(te(T,R.lineThickness))):(T=R.lineDashType,n.setLineDash(X)))),0<=R.dataPointIndexes[u]){var B=R.dataPointIds[R.dataPointIndexes[u]];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:O,dataPointIndex:R.dataPointIndexes[u],x1:c,y1:C}}0<=R.dataPointIndexes[u]&&N.markerSize!==0&&(0<N.markerSize||0<R.markerSize)&&(ie=R.getMarkerProperties(x,c,C,n),v.push(ie),u=w(B),V&&v.push({x:c,y:C,ctx:k,type:ie.type,size:ie.size,color:u,borderColor:u,borderThickness:ie.borderThickness})),(N.indexLabel||R.indexLabel||N.indexLabelFormatter||R.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:N,dataSeries:R,point:{x:c,y:C},direction:0>G[x].y===i.axisY.reversed?1:-1,color:a})}}h(),n.moveTo(c,C),V&&k.moveTo(c,C)}delete R.dataPointIndexes}return ct.drawMarkers(v),V&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&n.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&n.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),k.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderBubble=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=this.plotArea,a=0,u,f;o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var v=-1/0,b=1/0,g=0;g<i.dataSeriesIndexes.length;g++)for(var p=i.dataSeriesIndexes[g],m=this.data[p],x=m.dataPoints,c=0,a=0;a<x.length;a++)u=x[a].getTime?u=x[a].x.getTime():u=x[a].x,u<i.axisX.dataInfo.viewPortMin||u>i.axisX.dataInfo.viewPortMax||typeof x[a].z>"u"||(c=x[a].z,c>v&&(v=c),c<b&&(b=c));for(var C=25*Math.PI,S=Math.max(Math.pow(.25*Math.min(n.height,n.width)/2,2)*Math.PI,C),g=0;g<i.dataSeriesIndexes.length;g++)if(p=i.dataSeriesIndexes[g],m=this.data[p],x=m.dataPoints,0<x.length){for(o.strokeStyle="#4572A7 ",a=0;a<x.length;a++)if(u=x[a].getTime?u=x[a].x.getTime():u=x[a].x,!(u<i.axisX.dataInfo.viewPortMin||u>i.axisX.dataInfo.viewPortMax)&&typeof x[a].y=="number"){u=i.axisX.convertValueToPixel(u),f=i.axisY.convertValueToPixel(x[a].y);var c=x[a].z,I=2*Math.max(Math.sqrt((v===b?S/2:C+(S-C)/(v-b)*(c-b))/Math.PI)<<0,1),c=m.getMarkerProperties(a,o);c.size=I,o.globalAlpha=m.fillOpacity,ct.drawMarker(u,f,o,c.type,c.size,c.color,c.borderColor,c.borderThickness),o.globalAlpha=1;var T=m.dataPointIds[a];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:a,x1:u,y1:f,size:I},I=w(T),V&&ct.drawMarker(u,f,this._eventManager.ghostCtx,c.type,c.size,I,I,c.borderThickness),(x[a].indexLabel||m.indexLabel||x[a].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:x[a],dataSeries:m,point:{x:u,y:f},direction:1,bounds:{x1:u-c.size/2,y1:f-c.size/2,x2:u+c.size/2,y2:f+c.size/2},color:null})}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}},P.prototype.renderScatter=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=this.plotArea,a=0,u,f;o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var v=0;v<i.dataSeriesIndexes.length;v++){var b=i.dataSeriesIndexes[v],g=this.data[b],p=g.dataPoints;if(0<p.length){o.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(n.height,n.width)/2,2);for(var m=0,x=0,a=0;a<p.length;a++)if(u=p[a].getTime?u=p[a].x.getTime():u=p[a].x,!(u<i.axisX.dataInfo.viewPortMin||u>i.axisX.dataInfo.viewPortMax)&&typeof p[a].y=="number"){u=i.axisX.convertValueToPixel(u),f=i.axisY.convertValueToPixel(p[a].y);var c=g.getMarkerProperties(a,u,f,o);o.globalAlpha=g.fillOpacity,ct.drawMarker(c.x,c.y,c.ctx,c.type,c.size,c.color,c.borderColor,c.borderThickness),o.globalAlpha=1,Math.sqrt((m-u)*(m-u)+(x-f)*(x-f))<Math.min(c.size,5)&&p.length>Math.min(this.plotArea.width,this.plotArea.height)||(m=g.dataPointIds[a],this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:a,x1:u,y1:f},m=w(m),V&&ct.drawMarker(c.x,c.y,this._eventManager.ghostCtx,c.type,c.size,m,m,c.borderThickness),(p[a].indexLabel||g.indexLabel||p[a].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:p[a],dataSeries:g,point:{x:u,y:f},direction:1,bounds:{x1:u-c.size/2,y1:f-c.size/2,x2:u+c.size/2,y2:f+c.size/2},color:null}),m=u,x=f)}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}},P.prototype.renderCandlestick=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h,n=this._eventManager.ghostCtx;if(!(0>=i.dataSeriesIndexes.length)){var x=null,c=null,a=this.plotArea,u=0,f,v,b,g,p,m,x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,C=i.axisX.dataInfo.minDiff;isFinite(C)||(C=.3*Math.abs(i.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*a.width*(i.axisX.logarithmic?Math.log(C)/Math.log(i.axisX.range):Math.abs(C)/Math.abs(i.axisX.range))<<0,this.dataPointMaxWidth&&x>c&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),C<x&&(C=x),C>c&&(C=c),o.save(),V&&n.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip());for(var S=0;S<i.dataSeriesIndexes.length;S++){var I=i.dataSeriesIndexes[S],T=this.data[I],_=T.dataPoints;if(0<_.length){for(var k=!!(5<C&&T.bevelEnabled),u=0;u<_.length;u++)if(_[u].getTime?m=_[u].x.getTime():m=_[u].x,!(m<i.axisX.dataInfo.viewPortMin||m>i.axisX.dataInfo.viewPortMax)&&!M(_[u].y)&&_[u].y.length&&typeof _[u].y[0]=="number"&&typeof _[u].y[1]=="number"&&typeof _[u].y[2]=="number"&&typeof _[u].y[3]=="number"){f=i.axisX.convertValueToPixel(m),v=i.axisY.convertValueToPixel(_[u].y[0]),b=i.axisY.convertValueToPixel(_[u].y[1]),g=i.axisY.convertValueToPixel(_[u].y[2]),p=i.axisY.convertValueToPixel(_[u].y[3]);var L=f-C/2<<0,O=L+C<<0,c=T.options.fallingColor?T.fallingColor:T._colorSet[0],x=_[u].color?_[u].color:T._colorSet[0],R=Math.round(Math.max(1,.15*C)),G=R%2===0?0:.5,q=T.dataPointIds[u];this._eventManager.objectMap[q]={id:q,objectType:"dataPoint",dataSeriesIndex:I,dataPointIndex:u,x1:L,y1:v,x2:O,y2:b,x3:f,y3:g,x4:f,y4:p,borderThickness:R,color:x},o.strokeStyle=x,o.beginPath(),o.lineWidth=R,n.lineWidth=Math.max(R,4),T.type==="candlestick"?(o.moveTo(f-G,b),o.lineTo(f-G,Math.min(v,p)),o.stroke(),o.moveTo(f-G,Math.max(v,p)),o.lineTo(f-G,g),o.stroke(),wt(o,L,Math.min(v,p),O,Math.max(v,p),_[u].y[0]<=_[u].y[3]?T.risingColor:c,R,x,k,k,!1,!1,T.fillOpacity),V&&(x=w(q),n.strokeStyle=x,n.moveTo(f-G,b),n.lineTo(f-G,Math.min(v,p)),n.stroke(),n.moveTo(f-G,Math.max(v,p)),n.lineTo(f-G,g),n.stroke(),wt(n,L,Math.min(v,p),O,Math.max(v,p),x,0,null,!1,!1,!1,!1))):T.type==="ohlc"&&(o.moveTo(f-G,b),o.lineTo(f-G,g),o.stroke(),o.beginPath(),o.moveTo(f,v),o.lineTo(L,v),o.stroke(),o.beginPath(),o.moveTo(f,p),o.lineTo(O,p),o.stroke(),V&&(x=w(q),n.strokeStyle=x,n.moveTo(f-G,b),n.lineTo(f-G,g),n.stroke(),n.beginPath(),n.moveTo(f,v),n.lineTo(L,v),n.stroke(),n.beginPath(),n.moveTo(f,p),n.lineTo(O,p),n.stroke())),(_[u].indexLabel||T.indexLabel||_[u].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:T.type,dataPoint:_[u],dataSeries:T,point:{x:L+(O-L)/2,y:i.axisY.reversed?g:b},direction:1,bounds:{x1:L,y1:Math.min(b,g),x2:O,y2:Math.max(b,g)},color:x})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),n.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}},P.prototype.renderBoxAndWhisker=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h,n=this._eventManager.ghostCtx;if(!(0>=i.dataSeriesIndexes.length)){var x=null,a=this.plotArea,c=0,u,f,v,b,g,p,m,x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,C=i.axisX.dataInfo.minDiff;isFinite(C)||(C=.3*Math.abs(i.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*a.width*(i.axisX.logarithmic?Math.log(C)/Math.log(i.axisX.range):Math.abs(C)/Math.abs(i.axisX.range))<<0,this.dataPointMaxWidth&&x>c&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),C<x&&(C=x),C>c&&(C=c),o.save(),V&&n.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip());for(var S=!1,S=!!i.axisY.reversed,I=0;I<i.dataSeriesIndexes.length;I++){var T=i.dataSeriesIndexes[I],_=this.data[T],k=_.dataPoints;if(0<k.length){for(var L=!!(5<C&&_.bevelEnabled),c=0;c<k.length;c++)if(k[c].getTime?m=k[c].x.getTime():m=k[c].x,!(m<i.axisX.dataInfo.viewPortMin||m>i.axisX.dataInfo.viewPortMax)&&!M(k[c].y)&&k[c].y.length&&typeof k[c].y[0]=="number"&&typeof k[c].y[1]=="number"&&typeof k[c].y[2]=="number"&&typeof k[c].y[3]=="number"&&typeof k[c].y[4]=="number"&&k[c].y.length===5){u=i.axisX.convertValueToPixel(m),f=i.axisY.convertValueToPixel(k[c].y[0]),v=i.axisY.convertValueToPixel(k[c].y[1]),b=i.axisY.convertValueToPixel(k[c].y[2]),g=i.axisY.convertValueToPixel(k[c].y[3]),p=i.axisY.convertValueToPixel(k[c].y[4]);var O=u-C/2<<0,R=u+C/2<<0,x=k[c].color?k[c].color:_._colorSet[0],G=Math.round(Math.max(1,.15*C)),q=G%2===0?0:.5,U=k[c].whiskerColor?k[c].whiskerColor:k[c].color?_.whiskerColor?_.whiskerColor:k[c].color:_.whiskerColor?_.whiskerColor:x,z=typeof k[c].whiskerThickness=="number"?k[c].whiskerThickness:typeof _.options.whiskerThickness=="number"?_.whiskerThickness:G,X=k[c].whiskerDashType?k[c].whiskerDashType:_.whiskerDashType,W=M(k[c].whiskerLength)?M(_.options.whiskerLength)?C:_.whiskerLength:k[c].whiskerLength,W=typeof W=="number"?0>=W?0:W>=C?C:W:typeof W=="string"?parseInt(W)*C/100>C?C:parseInt(W)*C/100:C,N=Math.round(z)%2===1?.5:0,Z=k[c].stemColor?k[c].stemColor:k[c].color?_.stemColor?_.stemColor:k[c].color:_.stemColor?_.stemColor:x,ie=typeof k[c].stemThickness=="number"?k[c].stemThickness:typeof _.options.stemThickness=="number"?_.stemThickness:G,B=Math.round(ie)%2===1?.5:0,_e=k[c].stemDashType?k[c].stemDashType:_.stemDashType,Le=k[c].lineColor?k[c].lineColor:k[c].color?_.lineColor?_.lineColor:k[c].color:_.lineColor?_.lineColor:x,Ge=typeof k[c].lineThickness=="number"?k[c].lineThickness:typeof _.options.lineThickness=="number"?_.lineThickness:G,$e=k[c].lineDashType?k[c].lineDashType:_.lineDashType,ge=Math.round(Ge)%2===1?.5:0,bt=_.upperBoxColor,Ve=_.lowerBoxColor,Oe=M(_.options.fillOpacity)?1:_.fillOpacity,me=_.dataPointIds[c];this._eventManager.objectMap[me]={id:me,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:c,x1:O,y1:f,x2:R,y2:v,x3:u,y3:b,x4:u,y4:g,y5:p,borderThickness:G,color:x,stemThickness:ie,stemColor:Z,whiskerThickness:z,whiskerLength:W,whiskerColor:U,lineThickness:Ge,lineColor:Le},o.save(),0<ie&&(o.beginPath(),o.strokeStyle=Z,o.lineWidth=ie,o.setLineDash&&o.setLineDash(te(_e,ie)),o.moveTo(u-B,v),o.lineTo(u-B,f),o.stroke(),o.moveTo(u-B,g),o.lineTo(u-B,b),o.stroke()),o.restore(),n.lineWidth=Math.max(G,4),o.beginPath(),wt(o,O,Math.min(p,v),R,Math.max(v,p),Ve,0,x,S?L:!1,S?!1:L,!1,!1,Oe),o.beginPath(),wt(o,O,Math.min(b,p),R,Math.max(p,b),bt,0,x,S?!1:L,S?L:!1,!1,!1,Oe),o.beginPath(),o.lineWidth=G,o.strokeStyle=x,o.rect(O-q,Math.min(v,b)-q,R-O+2*q,Math.max(v,b)-Math.min(v,b)+2*q),o.stroke(),o.save(),0<Ge&&(o.beginPath(),o.globalAlpha=1,o.setLineDash&&o.setLineDash(te($e,Ge)),o.strokeStyle=Le,o.lineWidth=Ge,o.moveTo(O,p-ge),o.lineTo(R,p-ge),o.stroke()),o.restore(),o.save(),0<z&&(o.beginPath(),o.setLineDash&&o.setLineDash(te(X,z)),o.strokeStyle=U,o.lineWidth=z,o.moveTo(u-W/2<<0,g-N),o.lineTo(u+W/2<<0,g-N),o.stroke(),o.moveTo(u-W/2<<0,f+N),o.lineTo(u+W/2<<0,f+N),o.stroke()),o.restore(),V&&(x=w(me),n.strokeStyle=x,n.lineWidth=ie,0<ie&&(n.moveTo(u-q-B,v),n.lineTo(u-q-B,Math.max(f,g)),n.stroke(),n.moveTo(u-q-B,Math.min(f,g)),n.lineTo(u-q-B,b),n.stroke()),wt(n,O,Math.max(v,b),R,Math.min(v,b),x,0,null,!1,!1,!1,!1),0<z&&(n.beginPath(),n.lineWidth=z,n.moveTo(u+W/2,g-N),n.lineTo(u-W/2,g-N),n.stroke(),n.moveTo(u+W/2,f+N),n.lineTo(u-W/2,f+N),n.stroke())),(k[c].indexLabel||_.indexLabel||k[c].indexLabelFormatter||_.indexLabelFormatter)&&this._indexLabels.push({chartType:_.type,dataPoint:k[c],dataSeries:_,point:{x:O+(R-O)/2,y:i.axisY.reversed?f:g},direction:1,bounds:{x1:O,y1:Math.min(f,g),x2:R,y2:Math.max(f,g)},color:x})}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),n.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeColumn=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,b=0,u,f,v,b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;u=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var g=i.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(i.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(i.axisX.logarithmic?Math.log(g)/Math.log(i.axisX.range):Math.abs(g)/Math.abs(i.axisX.range))/i.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&b>u&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<b&&(u=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),g<b&&(g=b),g>u&&(g=u),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var p=0;p<i.dataSeriesIndexes.length;p++){var m=i.dataSeriesIndexes[p],x=this.data[m],c=x.dataPoints;if(0<c.length){for(var C=!!(5<g&&x.bevelEnabled),b=0;b<c.length;b++)if(c[b].getTime?v=c[b].x.getTime():v=c[b].x,!(v<i.axisX.dataInfo.viewPortMin||v>i.axisX.dataInfo.viewPortMax)&&!M(c[b].y)&&c[b].y.length&&typeof c[b].y[0]=="number"&&typeof c[b].y[1]=="number"){n=i.axisX.convertValueToPixel(v),u=i.axisY.convertValueToPixel(c[b].y[0]),f=i.axisY.convertValueToPixel(c[b].y[1]);var S=i.axisX.reversed?n+i.plotType.totalDataSeries*g/2-(i.previousDataSeriesCount+p)*g<<0:n-i.plotType.totalDataSeries*g/2+(i.previousDataSeriesCount+p)*g<<0,I=i.axisX.reversed?S-g<<0:S+g<<0,n=c[b].color?c[b].color:x._colorSet[b%x._colorSet.length];if(u>f){var T=u;u=f,f=T}T=x.dataPointIds[b],this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:b,x1:S,y1:u,x2:I,y2:f},wt(o,i.axisX.reversed?I:S,u,i.axisX.reversed?S:I,f,n,0,n,C,C,!1,!1,x.fillOpacity),n=w(T),V&&wt(this._eventManager.ghostCtx,i.axisX.reversed?I:S,u,i.axisX.reversed?S:I,f,n,0,null,!1,!1,!1,!1),(c[b].indexLabel||x.indexLabel||c[b].indexLabelFormatter||x.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:c[b],dataSeries:x,indexKeyword:0,point:{x:S+(I-S)/2,y:c[b].y[1]>=c[b].y[0]?f:u},direction:c[b].y[1]>=c[b].y[0]?-1:1,bounds:{x1:S,y1:Math.min(u,f),x2:I,y2:Math.max(u,f)},color:n}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:c[b],dataSeries:x,indexKeyword:1,point:{x:S+(I-S)/2,y:c[b].y[1]>=c[b].y[0]?u:f},direction:c[b].y[1]>=c[b].y[0]?1:-1,bounds:{x1:S,y1:Math.min(u,f),x2:I,y2:Math.max(u,f)},color:n}))}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}},P.prototype.renderError=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h,n=i.axisY._position?!(i.axisY._position==="left"||i.axisY._position==="right"):!1;if(!(0>=i.dataSeriesIndexes.length)){var a=null,u=!1,f=this.plotArea,v=0,b,g,p,m,x,c,C,S=i.axisX.dataInfo.minDiff;isFinite(S)||(S=.3*Math.abs(i.axisX.range)),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(f.x1,f.y1,f.width,f.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.clip());for(var I=0,T=0;T<this.data.length;T++)!this.data[T].type.match(/(bar|column)/ig)||!this.data[T].visible||this.data[T].type.match(/(stacked)/ig)&&I||I++;for(var _=0;_<i.dataSeriesIndexes.length;_++){var k=i.dataSeriesIndexes[_],L=this.data[k],O=L.dataPoints,R=M(L._linkedSeries)?!1:!!(L._linkedSeries.type.match(/(bar|column)/ig)&&L._linkedSeries.visible),G=0;if(R)for(a=L._linkedSeries.id,T=0;T<a;T++)!this.data[T].type.match(/(bar|column)/ig)||!this.data[T].visible||this.data[T].type.match(/(stacked)/ig)&&G||(this.data[T].type.match(/(range)/ig)&&(u=!0),G++);if(a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,v=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?Math.min(.15*this.height,.9*(this.plotArea.height/(R?I:1)))<<0:.3*this.width,u&&(v=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?Math.min(.15*this.height,.9*(this.plotArea.height/(R?I:1)))<<0:.03*this.width),T=this.options.dataPointWidth?this.dataPointWidth:.9*((n?f.height:f.width)*(i.axisX.logarithmic?Math.log(S)/Math.log(i.axisX.range):Math.abs(S)/Math.abs(i.axisX.range))/(R?I:1))<<0,this.dataPointMaxWidth&&a>v&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,v)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&v<a&&(v=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),T<a&&(T=a),T>v&&(T=v),0<O.length)for(var q=L._colorSet,v=0;v<O.length;v++){var a=L.lineColor=L.options.color?L.options.color:q[0],U={color:O[v].whiskerColor?O[v].whiskerColor:O[v].color?L.whiskerColor?L.whiskerColor:O[v].color:L.whiskerColor?L.whiskerColor:a,thickness:M(O[v].whiskerThickness)?L.whiskerThickness:O[v].whiskerThickness,dashType:O[v].whiskerDashType?O[v].whiskerDashType:L.whiskerDashType,length:M(O[v].whiskerLength)?M(L.options.whiskerLength)?T:L.options.whiskerLength:O[v].whiskerLength,trimLength:M(O[v].whiskerLength)&&M(L.options.whiskerLength)?50:0};U.length=typeof U.length=="number"?0>=U.length?0:U.length>=T?T:U.length:typeof U.length=="string"?parseInt(U.length)*T/100>T?T:parseInt(U.length)*T/100>T:T,U.thickness=typeof U.thickness=="number"?0>U.thickness?0:Math.round(U.thickness):2;var z={color:O[v].stemColor?O[v].stemColor:O[v].color?L.stemColor?L.stemColor:O[v].color:L.stemColor?L.stemColor:a,thickness:O[v].stemThickness?O[v].stemThickness:L.stemThickness,dashType:O[v].stemDashType?O[v].stemDashType:L.stemDashType};if(z.thickness=typeof z.thickness=="number"?0>z.thickness?0:Math.round(z.thickness):2,O[v].getTime?C=O[v].x.getTime():C=O[v].x,!(C<i.axisX.dataInfo.viewPortMin||C>i.axisX.dataInfo.viewPortMax)&&!M(O[v].y)&&O[v].y.length&&typeof O[v].y[0]=="number"&&typeof O[v].y[1]=="number"){var X=i.axisX.convertValueToPixel(C);n?g=X:b=X,X=i.axisY.convertValueToPixel(O[v].y[0]),n?p=X:x=X,X=i.axisY.convertValueToPixel(O[v].y[1]),n?m=X:c=X,n?(x=i.axisX.reversed?g+(R?I:1)*T/2-(R?G-1:0)*T<<0:g-(R?I:1)*T/2+(R?G-1:0)*T<<0,c=i.axisX.reversed?x-T<<0:x+T<<0):(p=i.axisX.reversed?b+(R?I:1)*T/2-(R?G-1:0)*T<<0:b-(R?I:1)*T/2+(R?G-1:0)*T<<0,m=i.axisX.reversed?p-T<<0:p+T<<0),!n&&x>c&&(X=x,x=c,c=X),n&&p>m&&(X=p,p=m,m=X),X=L.dataPointIds[v],this._eventManager.objectMap[X]={id:X,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:v,x1:Math.min(p,m),y1:Math.min(x,c),x2:Math.max(m,p),y2:Math.max(c,x),isXYSwapped:n,stemProperties:z,whiskerProperties:U},$(o,Math.min(p,m),Math.min(x,c),Math.max(m,p),Math.max(c,x),a,U,z,n),V&&$(this._eventManager.ghostCtx,p,x,m,c,a,U,z,n),(O[v].indexLabel||L.indexLabel||O[v].indexLabelFormatter||L.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:O[v],dataSeries:L,indexKeyword:0,point:{x:n?O[v].y[1]>=O[v].y[0]?p:m:p+(m-p)/2,y:n?x+(c-x)/2:O[v].y[1]>=O[v].y[0]?c:x},direction:O[v].y[1]>=O[v].y[0]?-1:1,bounds:{x1:n?Math.min(p,m):p,y1:n?x:Math.min(x,c),x2:n?Math.max(p,m):m,y2:n?c:Math.max(x,c)},color:a,axisSwapped:n}),this._indexLabels.push({chartType:"error",dataPoint:O[v],dataSeries:L,indexKeyword:1,point:{x:n?O[v].y[1]>=O[v].y[0]?m:p:p+(m-p)/2,y:n?x+(c-x)/2:O[v].y[1]>=O[v].y[0]?x:c},direction:O[v].y[1]>=O[v].y[0]?1:-1,bounds:{x1:n?Math.min(p,m):p,y1:n?x:Math.min(x,c),x2:n?Math.max(p,m):m,y2:n?c:Math.max(x,c)},color:a,axisSwapped:n}))}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeBar=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=null,a=this.plotArea,g=0,u,f,v,b,g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;u=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/i.plotType.totalDataSeries))<<0;var p=i.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(i.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(i.axisX.logarithmic?Math.log(p)/Math.log(i.axisX.range):Math.abs(p)/Math.abs(i.axisX.range))/i.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&g>u&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,u)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&u<g&&(u=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),p<g&&(p=g),p>u&&(p=u),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<i.dataSeriesIndexes.length;m++){var x=i.dataSeriesIndexes[m],c=this.data[x],C=c.dataPoints;if(0<C.length){var S=!!(5<p&&c.bevelEnabled);for(o.strokeStyle="#4572A7 ",g=0;g<C.length;g++)if(C[g].getTime?b=C[g].x.getTime():b=C[g].x,!(b<i.axisX.dataInfo.viewPortMin||b>i.axisX.dataInfo.viewPortMax)&&!M(C[g].y)&&C[g].y.length&&typeof C[g].y[0]=="number"&&typeof C[g].y[1]=="number"){u=i.axisY.convertValueToPixel(C[g].y[0]),f=i.axisY.convertValueToPixel(C[g].y[1]),v=i.axisX.convertValueToPixel(b),v=i.axisX.reversed?v+i.plotType.totalDataSeries*p/2-(i.previousDataSeriesCount+m)*p<<0:v-i.plotType.totalDataSeries*p/2+(i.previousDataSeriesCount+m)*p<<0;var I=i.axisX.reversed?v-p<<0:v+p<<0;u>f&&(n=u,u=f,f=n),n=C[g].color?C[g].color:c._colorSet[g%c._colorSet.length],wt(o,u,i.axisX.reversed?I:v,f,i.axisX.reversed?v:I,n,0,null,S,!1,!1,!1,c.fillOpacity),n=c.dataPointIds[g],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:g,x1:u,y1:v,x2:f,y2:I},n=w(n),V&&wt(this._eventManager.ghostCtx,u,i.axisX.reversed?I:v,f,i.axisX.reversed?v:I,n,0,null,!1,!1,!1,!1),(C[g].indexLabel||c.indexLabel||C[g].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:C[g],dataSeries:c,indexKeyword:0,point:{x:C[g].y[1]>=C[g].y[0]?u:f,y:v+(I-v)/2},direction:C[g].y[1]>=C[g].y[0]?-1:1,bounds:{x1:Math.min(u,f),y1:v,x2:Math.max(u,f),y2:I},color:n}),this._indexLabels.push({chartType:"rangeBar",dataPoint:C[g],dataSeries:c,indexKeyword:1,point:{x:C[g].y[1]>=C[g].y[0]?f:u,y:v+(I-v)/2},direction:C[g].y[1]>=C[g].y[0]?1:-1,bounds:{x1:Math.min(u,f),y1:v,x2:Math.max(u,f),y2:I},color:n}))}}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeArea=function(i){function h(){if(_){for(var W=null,N=b.length-1;0<=N;N--)W=b[N],n.lineTo(W.x,W.y2),a.lineTo(W.x,W.y2);if(n.closePath(),n.globalAlpha=p.fillOpacity,n.fill(),n.globalAlpha=1,a.fill(),0<p.lineThickness){for(n.beginPath(),n.moveTo(W.x,W.y2),N=0;N<b.length;N++)W=b[N],n.lineTo(W.x,W.y2);for(n.moveTo(b[0].x,b[0].y1),N=0;N<b.length;N++)W=b[N],n.lineTo(W.x,W.y1);n.stroke()}n.beginPath(),n.moveTo(C,S),a.beginPath(),a.moveTo(C,S),_={x:C,y:S},b=[],b.push({x:C,y1:S,y2:I})}}var o=i.targetCanvasCtx||this.plotArea.ctx,n=V?this._preRenderCtx:o;if(!(0>=i.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,u=[],f=this.plotArea;n.save(),V&&a.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),V&&(a.beginPath(),a.rect(f.x1,f.y1,f.width,f.height),a.clip());for(var v=0;v<i.dataSeriesIndexes.length;v++){var b=[],g=i.dataSeriesIndexes[v],p=this.data[g],m=p.dataPoints,u=p.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:g},u=w(u),a.fillStyle=u;var u=[],x=!0,c=0,C,S,I,T,_=null;if(0<m.length){var k=p._colorSet[c%p._colorSet.length],L=p.lineColor=p.options.lineColor||k,O=L;n.fillStyle=k,n.strokeStyle=L,n.lineWidth=p.lineThickness;var R="solid";if(n.setLineDash){var G=te(p.nullDataLineDashType,p.lineThickness),R=p.lineDashType,q=te(R,p.lineThickness);n.setLineDash(q)}for(var U=!0;c<m.length;c++)if(T=m[c].x.getTime?m[c].x.getTime():m[c].x,!(T<i.axisX.dataInfo.viewPortMin||T>i.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!U)))if(m[c].y!==null&&m[c].y.length&&typeof m[c].y[0]=="number"&&typeof m[c].y[1]=="number"){if(C=i.axisX.convertValueToPixel(T),S=i.axisY.convertValueToPixel(m[c].y[0]),I=i.axisY.convertValueToPixel(m[c].y[1]),x||U?(p.connectNullData&&!x?(n.setLineDash&&(p.options.nullDataLineDashType||R===p.lineDashType&&p.lineDashType!==p.nullDataLineDashType)&&(b[b.length-1].newLineDashArray=q,R=p.nullDataLineDashType,n.setLineDash(G)),n.lineTo(C,S),V&&a.lineTo(C,S),b.push({x:C,y1:S,y2:I})):(n.beginPath(),n.moveTo(C,S),_={x:C,y:S},b=[],b.push({x:C,y1:S,y2:I}),V&&(a.beginPath(),a.moveTo(C,S))),U=x=!1):(n.lineTo(C,S),b.push({x:C,y1:S,y2:I}),V&&a.lineTo(C,S),c%250==0&&h()),T=p.dataPointIds[c],this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:c,x1:C,y1:S,y2:I},c<m.length-1&&(O!==(m[c].lineColor||L)||R!==(m[c].lineDashType||p.lineDashType))&&(h(),O=m[c].lineColor||L,b[b.length-1].newStrokeStyle=O,n.strokeStyle=O,n.setLineDash&&(m[c].lineDashType?(R=m[c].lineDashType,b[b.length-1].newLineDashArray=te(R,p.lineThickness),n.setLineDash(b[b.length-1].newLineDashArray)):(R=p.lineDashType,b[b.length-1].newLineDashArray=q,n.setLineDash(q)))),m[c].markerSize!==0&&(0<m[c].markerSize||0<p.markerSize)){var z=p.getMarkerProperties(c,C,I,n);u.push(z);var X=w(T);V&&u.push({x:C,y:I,ctx:a,type:z.type,size:z.size,color:X,borderColor:X,borderThickness:z.borderThickness}),z=p.getMarkerProperties(c,C,S,n),u.push(z),X=w(T),V&&u.push({x:C,y:S,ctx:a,type:z.type,size:z.size,color:X,borderColor:X,borderThickness:z.borderThickness})}(m[c].indexLabel||p.indexLabel||m[c].indexLabelFormatter||p.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:m[c],dataSeries:p,indexKeyword:0,point:{x:C,y:S},direction:m[c].y[0]>m[c].y[1]===i.axisY.reversed?-1:1,color:k}),this._indexLabels.push({chartType:"rangeArea",dataPoint:m[c],dataSeries:p,indexKeyword:1,point:{x:C,y:I},direction:m[c].y[0]>m[c].y[1]===i.axisY.reversed?1:-1,color:k}))}else U||x||h(),U=!0;h(),ct.drawMarkers(u)}}return V&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&n.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&n.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderRangeSplineArea=function(i){function h(z,X){var W=F(S,2);if(0<W.length){if(0<g.lineThickness){n.strokeStyle=X,n.setLineDash&&n.setLineDash(z),n.beginPath(),n.moveTo(W[0].x,W[0].y);for(var N=0;N<W.length-3;N+=3)(W[N].newStrokeStyle||W[N].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(W[N].x,W[N].y),W[N].newStrokeStyle&&(n.strokeStyle=W[N].newStrokeStyle),W[N].newLineDashArray&&n.setLineDash(W[N].newLineDashArray)),n.bezierCurveTo(W[N+1].x,W[N+1].y,W[N+2].x,W[N+2].y,W[N+3].x,W[N+3].y)}for(n.beginPath(),n.moveTo(W[0].x,W[0].y),V&&(a.beginPath(),a.moveTo(W[0].x,W[0].y)),N=0;N<W.length-3;N+=3)n.bezierCurveTo(W[N+1].x,W[N+1].y,W[N+2].x,W[N+2].y,W[N+3].x,W[N+3].y),V&&a.bezierCurveTo(W[N+1].x,W[N+1].y,W[N+2].x,W[N+2].y,W[N+3].x,W[N+3].y);for(W=F(I,2),n.lineTo(I[I.length-1].x,I[I.length-1].y),N=W.length-1;2<N;N-=3)n.bezierCurveTo(W[N-1].x,W[N-1].y,W[N-2].x,W[N-2].y,W[N-3].x,W[N-3].y),V&&a.bezierCurveTo(W[N-1].x,W[N-1].y,W[N-2].x,W[N-2].y,W[N-3].x,W[N-3].y);if(n.closePath(),n.globalAlpha=g.fillOpacity,n.fill(),V&&(a.closePath(),a.fill()),n.globalAlpha=1,0<g.lineThickness){n.strokeStyle=X,n.setLineDash&&n.setLineDash(z),n.beginPath(),n.moveTo(W[0].x,W[0].y);for(var Z=N=0;N<W.length-3;N+=3,Z++)(S[Z].newStrokeStyle||S[Z].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(W[N].x,W[N].y),S[Z].newStrokeStyle&&(n.strokeStyle=S[Z].newStrokeStyle),S[Z].newLineDashArray&&n.setLineDash(S[Z].newLineDashArray)),n.bezierCurveTo(W[N+1].x,W[N+1].y,W[N+2].x,W[N+2].y,W[N+3].x,W[N+3].y);for(W=F(S,2),n.moveTo(W[0].x,W[0].y),Z=N=0;N<W.length-3;N+=3,Z++)(S[Z].newStrokeStyle||S[Z].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(W[N].x,W[N].y),S[Z].newStrokeStyle&&(n.strokeStyle=S[Z].newStrokeStyle),S[Z].newLineDashArray&&n.setLineDash(S[Z].newLineDashArray)),n.bezierCurveTo(W[N+1].x,W[N+1].y,W[N+2].x,W[N+2].y,W[N+3].x,W[N+3].y);n.stroke()}n.beginPath()}}var o=i.targetCanvasCtx||this.plotArea.ctx,n=V?this._preRenderCtx:o;if(!(0>=i.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,u=[],f=this.plotArea;n.save(),V&&a.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),V&&(a.beginPath(),a.rect(f.x1,f.y1,f.width,f.height),a.clip());for(var v=0;v<i.dataSeriesIndexes.length;v++){var b=i.dataSeriesIndexes[v],g=this.data[b],p=g.dataPoints,u=g.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:b},u=w(u),a.fillStyle=u;var u=[],m=0,x,c,C,S=[],I=[];if(0<p.length){var T=g._colorSet[m%g._colorSet.length],_=g.lineColor=g.options.lineColor||T,k=_;n.fillStyle=T,n.lineWidth=g.lineThickness;var L="solid",O;if(n.setLineDash){var R=te(g.nullDataLineDashType,g.lineThickness),L=g.lineDashType;O=te(L,g.lineThickness)}for(c=!1;m<p.length;m++)if(x=p[m].x.getTime?p[m].x.getTime():p[m].x,!(x<i.axisX.dataInfo.viewPortMin||x>i.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!c)))if(p[m].y!==null&&p[m].y.length&&typeof p[m].y[0]=="number"&&typeof p[m].y[1]=="number"){x=i.axisX.convertValueToPixel(x),c=i.axisY.convertValueToPixel(p[m].y[0]),C=i.axisY.convertValueToPixel(p[m].y[1]);var G=g.dataPointIds[m];if(this._eventManager.objectMap[G]={id:G,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:m,x1:x,y1:c,y2:C},S[S.length]={x,y:c},I[I.length]={x,y:C},m<p.length-1&&(k!==(p[m].lineColor||_)||L!==(p[m].lineDashType||g.lineDashType))&&(k=p[m].lineColor||_,S[S.length-1].newStrokeStyle=k,n.setLineDash&&(p[m].lineDashType?(L=p[m].lineDashType,S[S.length-1].newLineDashArray=te(L,g.lineThickness)):(L=g.lineDashType,S[S.length-1].newLineDashArray=O))),p[m].markerSize!==0&&(0<p[m].markerSize||0<g.markerSize)){var q=g.getMarkerProperties(m,x,c,n);u.push(q);var U=w(G);V&&u.push({x,y:c,ctx:a,type:q.type,size:q.size,color:U,borderColor:U,borderThickness:q.borderThickness}),q=g.getMarkerProperties(m,x,C,n),u.push(q),U=w(G),V&&u.push({x,y:C,ctx:a,type:q.type,size:q.size,color:U,borderColor:U,borderThickness:q.borderThickness})}(p[m].indexLabel||g.indexLabel||p[m].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:p[m],dataSeries:g,indexKeyword:0,point:{x,y:c},direction:p[m].y[0]<=p[m].y[1]?-1:1,color:T}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:p[m],dataSeries:g,indexKeyword:1,point:{x,y:C},direction:p[m].y[0]<=p[m].y[1]?1:-1,color:T})),c=!1}else 0<m&&!c&&(g.connectNullData?n.setLineDash&&0<S.length&&(g.options.nullDataLineDashType||!p[m-1].lineDashType)&&(S[S.length-1].newLineDashArray=R,L=g.nullDataLineDashType):(h(O,_),S=[],I=[])),c=!0;h(O,_),ct.drawMarkers(u)}}return V&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&n.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&n.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:ve.xClipAnimation,easingFunction:ve.easing.linear,animationBase:0}}},P.prototype.renderWaterfall=function(i){var h=i.targetCanvasCtx||this.plotArea.ctx,o=V?this._preRenderCtx:h;if(!(0>=i.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,a=null,u=this.plotArea,m=0,f,v,b,g,p=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;v=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/i.plotType.totalDataSeries))<<0;var x=i.axisX.dataInfo.minDiff;isFinite(x)||(x=.3*Math.abs(i.axisX.range)),x=this.options.dataPointWidth?this.dataPointWidth:.6*(u.width*(i.axisX.logarithmic?Math.log(x)/Math.log(i.axisX.range):Math.abs(x)/Math.abs(i.axisX.range))/i.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>v&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,v)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&v<m&&(v=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),x<m&&(x=m),x>v&&(x=v),o.save(),V&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(u.x1,u.y1,u.width,u.height),o.clip(),V&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.clip());for(var c=0;c<i.dataSeriesIndexes.length;c++){var C=i.dataSeriesIndexes[c],S=this.data[C],I=S.dataPoints,a=S._colorSet[0];S.risingColor=S.options.risingColor?S.options.risingColor:a,S.fallingColor=S.options.fallingColor?S.options.fallingColor:"#e40a0a";var T=typeof S.options.lineThickness=="number"?Math.round(S.lineThickness):1,_=Math.round(T)%2===1?-.5:0;if(0<I.length)for(var k=!!(5<x&&S.bevelEnabled),L=!1,O=null,R=null,m=0;m<I.length;m++)if(I[m].getTime?g=I[m].x.getTime():g=I[m].x,typeof I[m].y!="number"){if(0<m&&!L&&S.connectNullData)var G=S.options.nullDataLineDashType||!I[m-1].lineDashType?S.nullDataLineDashType:I[m-1].lineDashType;L=!0}else{f=i.axisX.convertValueToPixel(g),v=S.dataPointEOs[m].cumulativeSum===0?p:i.axisY.convertValueToPixel(S.dataPointEOs[m].cumulativeSum),b=S.dataPointEOs[m].cumulativeSumYStartValue===0?p:i.axisY.convertValueToPixel(S.dataPointEOs[m].cumulativeSumYStartValue),f=i.axisX.reversed?f+i.plotType.totalDataSeries*x/2-(i.previousDataSeriesCount+c)*x<<0:f-i.plotType.totalDataSeries*x/2+(i.previousDataSeriesCount+c)*x<<0;var q=i.axisX.reversed?f-x<<0:f+x<<0;v>b&&(a=v,v=b,b=a),i.axisY.reversed&&(a=v,v=b,b=a),a=S.dataPointIds[m],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:m,x1:f,y1:v,x2:q,y2:b};var z=I[m].color?I[m].color:0<I[m].y?S.risingColor:S.fallingColor;wt(o,i.axisX.reversed?q:f,i.axisY.reversed?b:v,i.axisX.reversed?f:q,i.axisY.reversed?v:b,z,0,z,k,k,!1,!1,S.fillOpacity),a=w(a),V&&wt(this._eventManager.ghostCtx,i.axisX.reversed?q:f,v,i.axisX.reversed?f:q,b,a,0,null,!1,!1,!1,!1);var U,z=f;U=typeof I[m].isIntermediateSum<"u"&&I[m].isIntermediateSum===!0||typeof I[m].isCumulativeSum<"u"&&I[m].isCumulativeSum===!0?0<I[m].y?v:b:0<I[m].y?b:v,0<m&&O&&(!L||S.connectNullData)&&(L&&o.setLineDash&&o.setLineDash(te(G,T)),o.beginPath(),o.moveTo(O,R-_),o.lineTo(z,U-_),0<T&&o.stroke(),V&&(n.beginPath(),n.moveTo(O,R-_),n.lineTo(z,U-_),0<T&&n.stroke())),L=!1,O=q,R=0<I[m].y?v:b,z=I[m].lineDashType?I[m].lineDashType:S.options.lineDashType?S.options.lineDashType:"shortDash",o.strokeStyle=I[m].lineColor?I[m].lineColor:S.options.lineColor?S.options.lineColor:"#9e9e9e",o.lineWidth=T,o.setLineDash&&(z=te(z,T),o.setLineDash(z)),(I[m].indexLabel||S.indexLabel||I[m].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:I[m],dataSeries:S,point:{x:f+(q-f)/2,y:0<=I[m].y?v:b},direction:0>I[m].y===i.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(v,b),x2:q,y2:Math.max(v,b)},color:a})}}return V&&(h.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&o.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&o.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:h,dest:this.plotArea.ctx,animationCallback:ve.fadeInAnimation,easingFunction:ve.easing.easeInQuad,animationBase:0}}};var ei=function(i,h,o,n,a,u,f,v,b){if(!(0>o)){if(typeof v>"u"&&(v=1),!V){var g=Number((f%(2*Math.PI)).toFixed(8));Number((u%(2*Math.PI)).toFixed(8))===g&&(f-=1e-4)}i.save(),i.globalAlpha=v,a==="pie"?(i.beginPath(),i.moveTo(h.x,h.y),i.arc(h.x,h.y,o,u,f,!1),i.fillStyle=n,i.strokeStyle="white",i.lineWidth=2,i.closePath(),i.fill()):a==="doughnut"&&(i.beginPath(),i.arc(h.x,h.y,o,u,f,!1),0<=b&&i.arc(h.x,h.y,b*o,f,u,!0),i.closePath(),i.fillStyle=n,i.strokeStyle="white",i.lineWidth=2,i.fill()),i.globalAlpha=1,i.restore()}};P.prototype.renderPie=function(i){function h(){if(g&&p){for(var U=0,z=0,X=0,W=0,N=0;N<p.length;N++){var Z=p[N],ie=g.dataPointIds[N];c[N].id=ie,c[N].objectType="dataPoint",c[N].dataPointIndex=N,c[N].dataSeriesIndex=0;var B=c[N],Le={percent:null,total:null},_e=null,Le=b.getPercentAndTotal(g,Z);(g.indexLabelFormatter||Z.indexLabelFormatter)&&(_e={chart:b.options,dataSeries:g,dataPoint:Z,total:Le.total,percent:Le.percent}),Le=Z.indexLabelFormatter?Z.indexLabelFormatter(_e):Z.indexLabel?b.replaceKeywordsWithValue(Z.indexLabel,Z,g,N):g.indexLabelFormatter?g.indexLabelFormatter(_e):g.indexLabel?b.replaceKeywordsWithValue(g.indexLabel,Z,g,N):Z.label?Z.label:"",b._eventManager.objectMap[ie]=B,B.center={x:k.x,y:k.y},B.y=Z.y,B.radius=R,B.percentInnerRadius=q,B.indexLabelText=Le,B.indexLabelPlacement=g.indexLabelPlacement,B.indexLabelLineColor=Z.indexLabelLineColor?Z.indexLabelLineColor:g.options.indexLabelLineColor?g.options.indexLabelLineColor:Z.color?Z.color:g._colorSet[N%g._colorSet.length],B.indexLabelLineThickness=M(Z.indexLabelLineThickness)?g.indexLabelLineThickness:Z.indexLabelLineThickness,B.indexLabelLineDashType=Z.indexLabelLineDashType?Z.indexLabelLineDashType:g.indexLabelLineDashType,B.indexLabelFontColor=Z.indexLabelFontColor?Z.indexLabelFontColor:g.indexLabelFontColor,B.indexLabelFontStyle=Z.indexLabelFontStyle?Z.indexLabelFontStyle:g.indexLabelFontStyle,B.indexLabelFontWeight=Z.indexLabelFontWeight?Z.indexLabelFontWeight:g.indexLabelFontWeight,B.indexLabelFontSize=M(Z.indexLabelFontSize)?g.indexLabelFontSize:Z.indexLabelFontSize,B.indexLabelFontFamily=Z.indexLabelFontFamily?Z.indexLabelFontFamily:g.indexLabelFontFamily,B.indexLabelBackgroundColor=Z.indexLabelBackgroundColor?Z.indexLabelBackgroundColor:g.options.indexLabelBackgroundColor?g.options.indexLabelBackgroundColor:g.indexLabelBackgroundColor,B.indexLabelMaxWidth=Z.indexLabelMaxWidth?Z.indexLabelMaxWidth:g.indexLabelMaxWidth?g.indexLabelMaxWidth:.33*x.width,B.indexLabelWrap=typeof Z.indexLabelWrap<"u"?Z.indexLabelWrap:g.indexLabelWrap,B.indexLabelTextAlign=Z.indexLabelTextAlign?Z.indexLabelTextAlign:g.indexLabelTextAlign?g.indexLabelTextAlign:"left",B.startAngle=N===0?g.startAngle?g.startAngle/180*Math.PI:0:c[N-1].endAngle,B.startAngle=(B.startAngle+2*Math.PI)%(2*Math.PI),B.endAngle=B.startAngle+2*Math.PI/L*Math.abs(Z.y),Z=(B.endAngle+B.startAngle)/2,Z=(Z+2*Math.PI)%(2*Math.PI),B.midAngle=Z,B.midAngle>Math.PI/2-T&&B.midAngle<Math.PI/2+T?((U===0||c[X].midAngle>B.midAngle)&&(X=N),U++):B.midAngle>3*Math.PI/2-T&&B.midAngle<3*Math.PI/2+T&&((z===0||c[W].midAngle>B.midAngle)&&(W=N),z++),B.hemisphere=Z>Math.PI/2&&Z<=3*Math.PI/2?"left":"right",B.indexLabelTextBlock=new je(b.plotArea.ctx,{fontSize:B.indexLabelFontSize,fontFamily:B.indexLabelFontFamily,fontColor:B.indexLabelFontColor,fontStyle:B.indexLabelFontStyle,fontWeight:B.indexLabelFontWeight,textAlign:B.indexLabelTextAlign,backgroundColor:B.indexLabelBackgroundColor,maxWidth:B.indexLabelMaxWidth,maxHeight:B.indexLabelWrap?5*B.indexLabelFontSize:1.5*B.indexLabelFontSize,text:B.indexLabelText,padding:0,textBaseline:"middle"}),B.indexLabelTextBlock.measureText()}for(ie=Z=0,Le=!1,N=0;N<p.length;N++)B=c[(X+N)%p.length],1<U&&B.midAngle>Math.PI/2-T&&B.midAngle<Math.PI/2+T&&(Z<=U/2&&!Le?(B.hemisphere="right",Z++):(B.hemisphere="left",Le=!0));for(Le=!1,N=0;N<p.length;N++)B=c[(W+N)%p.length],1<z&&B.midAngle>3*Math.PI/2-T&&B.midAngle<3*Math.PI/2+T&&(ie<=z/2&&!Le?(B.hemisphere="left",ie++):(B.hemisphere="right",Le=!0))}}function o(U){var z=b.plotArea.ctx;for(z.clearRect(x.x1,x.y1,x.width,x.height),z.fillStyle=b.backgroundColor,z.fillRect(x.x1,x.y1,x.width,x.height),z=0;z<p.length;z++){var X=c[z].startAngle,W=c[z].endAngle;if(W>X){var N=.07*R*Math.cos(c[z].midAngle),Z=.07*R*Math.sin(c[z].midAngle),ie=!1;p[z].exploded?(1e-9<Math.abs(c[z].center.x-(k.x+N))||1e-9<Math.abs(c[z].center.y-(k.y+Z)))&&(c[z].center.x=k.x+N*U,c[z].center.y=k.y+Z*U,ie=!0):(0<Math.abs(c[z].center.x-k.x)||0<Math.abs(c[z].center.y-k.y))&&(c[z].center.x=k.x+N*(1-U),c[z].center.y=k.y+Z*(1-U),ie=!0),ie&&(N={},N.dataSeries=g,N.dataPoint=g.dataPoints[z],N.index=z,b.toolTip.highlightObjects([N])),ei(b.plotArea.ctx,c[z].center,c[z].radius,p[z].color?p[z].color:g._colorSet[z%g._colorSet.length],g.type,X,W,g.fillOpacity,c[z].percentInnerRadius)}}for(U=b.plotArea.ctx,U.save(),U.fillStyle="black",U.strokeStyle="grey",U.textBaseline="middle",U.lineJoin="round",z=z=0;z<p.length;z++)X=c[z],X.indexLabelText&&(X.indexLabelTextBlock.y-=X.indexLabelTextBlock.height/2-X.indexLabelTextBlock.fontSize/2,W=0,W=X.hemisphere==="left"?g.indexLabelPlacement!=="inside"?-(X.indexLabelTextBlock.width+m):-X.indexLabelTextBlock.width/2:g.indexLabelPlacement!=="inside"?m:-X.indexLabelTextBlock.width/2,X.indexLabelTextBlock.x+=W,X.indexLabelTextBlock.render(!0),X.indexLabelTextBlock.x-=W,X.indexLabelTextBlock.y+=X.indexLabelTextBlock.height/2-X.indexLabelTextBlock.fontSize/2,X.indexLabelPlacement!=="inside"&&0<X.indexLabelLineThickness&&(W=X.center.x+R*Math.cos(X.midAngle),N=X.center.y+R*Math.sin(X.midAngle),U.strokeStyle=X.indexLabelLineColor,U.lineWidth=X.indexLabelLineThickness,U.setLineDash&&U.setLineDash(te(X.indexLabelLineDashType,X.indexLabelLineThickness)),U.beginPath(),U.moveTo(W,N),U.lineTo(X.indexLabelTextBlock.x,X.indexLabelTextBlock.y),U.lineTo(X.indexLabelTextBlock.x+(X.hemisphere==="left"?-m:m),X.indexLabelTextBlock.y),U.stroke()),U.lineJoin="miter");U.save()}function n(U,z){var X=0,X=U.indexLabelTextBlock.y-U.indexLabelTextBlock.height/2,W=U.indexLabelTextBlock.y+U.indexLabelTextBlock.height/2,N=z.indexLabelTextBlock.y-z.indexLabelTextBlock.height/2,Z=z.indexLabelTextBlock.y+z.indexLabelTextBlock.height/2;return X=z.indexLabelTextBlock.y>U.indexLabelTextBlock.y?N-W:X-Z}function a(U){for(var z=null,X=1;X<p.length;X++)if(z=(U+X+c.length)%c.length,c[z].hemisphere!==c[U].hemisphere){z=null;break}else{if(c[z].indexLabelText&&z!==U&&(0>n(c[z],c[U])||(c[U].hemisphere==="right"?c[z].indexLabelTextBlock.y>=c[U].indexLabelTextBlock.y:c[z].indexLabelTextBlock.y<=c[U].indexLabelTextBlock.y)))break;z=null}return z}function u(U,z,X){if(X=(X||0)+1,1e3<X)return 0;z=z||0;var W=0,N=k.y-1*S,Z=k.y+1*S;if(0<=U&&U<p.length){var ie=c[U];if(0>z&&ie.indexLabelTextBlock.y<N||0<z&&ie.indexLabelTextBlock.y>Z)return 0;var B=0,_e=0,_e=B=B=0;for(0>z?ie.indexLabelTextBlock.y-ie.indexLabelTextBlock.height/2>N&&ie.indexLabelTextBlock.y-ie.indexLabelTextBlock.height/2+z<N&&(z=-(N-(ie.indexLabelTextBlock.y-ie.indexLabelTextBlock.height/2+z))):ie.indexLabelTextBlock.y+ie.indexLabelTextBlock.height/2<N&&ie.indexLabelTextBlock.y+ie.indexLabelTextBlock.height/2+z>Z&&(z=ie.indexLabelTextBlock.y+ie.indexLabelTextBlock.height/2+z-Z),z=ie.indexLabelTextBlock.y+z,N=0,N=ie.hemisphere==="right"?k.x+Math.sqrt(Math.pow(S,2)-Math.pow(z-k.y,2)):k.x-Math.sqrt(Math.pow(S,2)-Math.pow(z-k.y,2)),_e=k.x+R*Math.cos(ie.midAngle),B=k.y+R*Math.sin(ie.midAngle),B=Math.sqrt(Math.pow(N-_e,2)+Math.pow(z-B,2)),_e=Math.acos(R/S),B=Math.acos((S*S+R*R-B*B)/(2*R*S)),z=B<_e?z-ie.indexLabelTextBlock.y:0,N=null,Z=1;Z<p.length;Z++)if(N=(U-Z+c.length)%c.length,c[N].hemisphere!==c[U].hemisphere){N=null;break}else{if(c[N].indexLabelText&&c[N].hemisphere===c[U].hemisphere&&N!==U&&(0>n(c[N],c[U])||(c[U].hemisphere==="right"?c[N].indexLabelTextBlock.y<=c[U].indexLabelTextBlock.y:c[N].indexLabelTextBlock.y>=c[U].indexLabelTextBlock.y)))break;N=null}_e=N,B=a(U),Z=N=0,0>z?(Z=ie.hemisphere==="right"?_e:B,W=z,Z!==null&&(_e=-z,z=ie.indexLabelTextBlock.y-ie.indexLabelTextBlock.height/2-(c[Z].indexLabelTextBlock.y+c[Z].indexLabelTextBlock.height/2),z-_e<C&&(N=-_e,Z=u(Z,N,X+1),+Z.toFixed(_)>+N.toFixed(_)&&(W=z>C?-(z-C):-(_e-(Z-N)))))):0<z&&(Z=ie.hemisphere==="right"?B:_e,W=z,Z!==null&&(_e=z,z=c[Z].indexLabelTextBlock.y-c[Z].indexLabelTextBlock.height/2-(ie.indexLabelTextBlock.y+ie.indexLabelTextBlock.height/2),z-_e<C&&(N=_e,Z=u(Z,N,X+1),+Z.toFixed(_)<+N.toFixed(_)&&(W=z>C?z-C:_e-(N-Z))))),W&&(X=ie.indexLabelTextBlock.y+W,z=0,z=ie.hemisphere==="right"?k.x+Math.sqrt(Math.pow(S,2)-Math.pow(X-k.y,2)):k.x-Math.sqrt(Math.pow(S,2)-Math.pow(X-k.y,2)),ie.midAngle>Math.PI/2-T&&ie.midAngle<Math.PI/2+T?(N=(U-1+c.length)%c.length,N=c[N],U=c[(U+1+c.length)%c.length],ie.hemisphere==="left"&&N.hemisphere==="right"&&z>N.indexLabelTextBlock.x?z=N.indexLabelTextBlock.x-15:ie.hemisphere==="right"&&U.hemisphere==="left"&&z<U.indexLabelTextBlock.x&&(z=U.indexLabelTextBlock.x+15)):ie.midAngle>3*Math.PI/2-T&&ie.midAngle<3*Math.PI/2+T&&(N=(U-1+c.length)%c.length,N=c[N],U=c[(U+1+c.length)%c.length],ie.hemisphere==="right"&&N.hemisphere==="left"&&z<N.indexLabelTextBlock.x?z=N.indexLabelTextBlock.x+15:ie.hemisphere==="left"&&U.hemisphere==="right"&&z>U.indexLabelTextBlock.x&&(z=U.indexLabelTextBlock.x-15)),ie.indexLabelTextBlock.y=X,ie.indexLabelTextBlock.x=z,ie.indexLabelAngle=Math.atan2(ie.indexLabelTextBlock.y-k.y,ie.indexLabelTextBlock.x-k.x))}return W}function f(){var U=b.plotArea.ctx;U.fillStyle="grey",U.strokeStyle="grey",U.font="16px Arial",U.textBaseline="middle";for(var W=U=0,z=0,X=!0,W=0;10>W&&(1>W||0<z);W++){if((g.radius||!g.radius&&typeof g.innerRadius<"u"&&g.innerRadius!==null&&R-z<=G)&&(X=!1),X&&(R-=z),z=0,g.indexLabelPlacement!=="inside"){for(S=R*I,U=0;U<p.length;U++){var N=c[U];N.indexLabelTextBlock.x=k.x+S*Math.cos(N.midAngle),N.indexLabelTextBlock.y=k.y+S*Math.sin(N.midAngle),N.indexLabelAngle=N.midAngle,N.radius=R,N.percentInnerRadius=q}for(var Z,ie,U=0;U<p.length;U++){var N=c[U],B=a(U);if(B!==null){Z=c[U],ie=c[B];var _e=0,_e=n(Z,ie)-C;if(0>_e){for(var Ge=ie=0,Le=0;Le<p.length;Le++)Le!==U&&c[Le].hemisphere===N.hemisphere&&(c[Le].indexLabelTextBlock.y<N.indexLabelTextBlock.y?ie++:Ge++);ie=_e/(ie+Ge||1)*Ge;var Ge=-1*(_e-ie),$e=Le=0;N.hemisphere==="right"?(Le=u(U,ie),Ge=-1*(_e-Le),$e=u(B,Ge),+$e.toFixed(_)<+Ge.toFixed(_)&&+Le.toFixed(_)<=+ie.toFixed(_)&&u(U,-(Ge-$e))):(Le=u(B,ie),Ge=-1*(_e-Le),$e=u(U,Ge),+$e.toFixed(_)<+Ge.toFixed(_)&&+Le.toFixed(_)<=+ie.toFixed(_)&&u(B,-(Ge-$e)))}}}}else for(U=0;U<p.length;U++)N=c[U],S=g.type==="pie"?.7*R:.85*R,B=k.x+S*Math.cos(N.midAngle),ie=k.y+S*Math.sin(N.midAngle),N.indexLabelTextBlock.x=B,N.indexLabelTextBlock.y=ie;for(U=0;U<p.length;U++)N=c[U],B=N.indexLabelTextBlock.measureText(),B.height!==0&&B.width!==0&&(B=B=0,N.hemisphere==="right"?(B=x.x2-(N.indexLabelTextBlock.x+N.indexLabelTextBlock.width+m),B*=-1):B=x.x1-(N.indexLabelTextBlock.x-N.indexLabelTextBlock.width-m),0<B&&(!X&&N.indexLabelText&&(ie=N.hemisphere==="right"?x.x2-N.indexLabelTextBlock.x:N.indexLabelTextBlock.x-x.x1,.3*N.indexLabelTextBlock.maxWidth>ie?N.indexLabelText="":N.indexLabelTextBlock.maxWidth=.85*ie,.3*N.indexLabelTextBlock.maxWidth<ie&&(N.indexLabelTextBlock.x-=N.hemisphere==="right"?2:-2)),Math.abs(N.indexLabelTextBlock.y-N.indexLabelTextBlock.height/2-k.y)<R||Math.abs(N.indexLabelTextBlock.y+N.indexLabelTextBlock.height/2-k.y)<R)&&(B/=Math.abs(Math.cos(N.indexLabelAngle)),9<B&&(B*=.3),B>z&&(z=B)),B=B=0,0<N.indexLabelAngle&&N.indexLabelAngle<Math.PI?(B=x.y2-(N.indexLabelTextBlock.y+N.indexLabelTextBlock.height/2+5),B*=-1):B=x.y1-(N.indexLabelTextBlock.y-N.indexLabelTextBlock.height/2-5),0<B&&(!X&&N.indexLabelText&&(ie=0<N.indexLabelAngle&&N.indexLabelAngle<Math.PI?-1:1,u(U,B*ie)===0&&u(U,2*ie)),Math.abs(N.indexLabelTextBlock.x-k.x)<R&&(B/=Math.abs(Math.sin(N.indexLabelAngle)),9<B&&(B*=.3),B>z&&(z=B))));var ge=function(bt,Ve,Oe){for(var me=[],ft=0;me.push(c[Ve]),Ve!==Oe;Ve=(Ve+1+p.length)%p.length);for(me.sort(function(ni,_t){return ni.y-_t.y}),Ve=0;Ve<me.length&&(Oe=me[Ve],ft<.7*bt);Ve++)ft+=Oe.indexLabelTextBlock.height,Oe.indexLabelTextBlock.text="",Oe.indexLabelText="",Oe.indexLabelTextBlock.measureText()};(function(){for(var bt=-1,Ve=-1,Oe=0,me=!1,ft=0;ft<p.length;ft++)if(me=!1,Z=c[ft],Z.indexLabelText){var ni=a(ft);if(ni!==null){var _t=c[ni];_e=0,_e=n(Z,_t);var Bi;if(Bi=0>_e){Bi=Z.indexLabelTextBlock.x;var Si=Z.indexLabelTextBlock.y-Z.indexLabelTextBlock.height/2,ee=Z.indexLabelTextBlock.y+Z.indexLabelTextBlock.height/2,ks=_t.indexLabelTextBlock.y-_t.indexLabelTextBlock.height/2,kt=_t.indexLabelTextBlock.x+_t.indexLabelTextBlock.width,$n=_t.indexLabelTextBlock.y+_t.indexLabelTextBlock.height/2;Bi=!(Z.indexLabelTextBlock.x+Z.indexLabelTextBlock.width<_t.indexLabelTextBlock.x-m||Bi>kt+m||Si>$n+m||ee<ks-m)}Bi?(0>bt&&(bt=ft),ni!==bt&&(Ve=ni,Oe+=-_e),ft%Math.max(p.length/10,3)===0&&(me=!0)):me=!0,me&&0<Oe&&0<=bt&&0<=Ve&&(ge(Oe,bt,Ve),Ve=bt=-1,Oe=0)}}0<Oe&&ge(Oe,bt,Ve)})()}}function v(){if(b.plotArea.layoutManager.reset(),b.title&&(b.title.dockInsidePlotArea||b.title.horizontalAlign==="center"&&b.title.verticalAlign==="center")&&b.title.render(),b.subtitles)for(var U=0;U<b.subtitles.length;U++){var z=b.subtitles[U];(z.dockInsidePlotArea||z.horizontalAlign==="center"&&z.verticalAlign==="center")&&z.render()}b.legend&&(b.legend.dockInsidePlotArea||b.legend.horizontalAlign==="center"&&b.legend.verticalAlign==="center")&&(b.legend.setLayout(),b.legend.render())}var b=this;if(!(0>=i.dataSeriesIndexes.length)){var g=this.data[i.dataSeriesIndexes[0]],p=g.dataPoints,m=10,x=this.plotArea,c=g.dataPointEOs,C=2,S,I=1.3,T=20/180*Math.PI,_=6,k={x:(x.x2+x.x1)/2,y:(x.y2+x.y1)/2},L=0;i=!1;for(var O=0;O<p.length;O++)L+=Math.abs(p[O].y),!i&&typeof p[O].indexLabel<"u"&&p[O].indexLabel!==null&&0<p[O].indexLabel.toString().length&&(i=!0),!i&&typeof p[O].label<"u"&&p[O].label!==null&&0<p[O].label.toString().length&&(i=!0);if(L!==0){i=i||typeof g.indexLabel<"u"&&g.indexLabel!==null&&0<g.indexLabel.toString().length;var R=g.indexLabelPlacement!=="inside"&&i?.75*Math.min(x.width,x.height)/2:.92*Math.min(x.width,x.height)/2;g.radius&&(R=$i(g.radius,R));var G=typeof g.innerRadius<"u"&&g.innerRadius!==null?$i(g.innerRadius,R):.7*R;g.radius=R,g.type==="doughnut"&&(g.innerRadius=G);var q=Math.min(G/R,(R-1)/R);this.pieDoughnutClickHandler=function(U){b.isAnimating||!M(U.dataSeries.explodeOnClick)&&!U.dataSeries.explodeOnClick||(U=U.dataPoint,U.exploded=!U.exploded,1<this.dataPoints.length&&b._animator.animate(0,500,function(z){o(z),v(),b.dispatchEvent("dataAnimationIterationEnd",{chart:b}),b.dispatchEvent("dataAnimationEnd",{chart:b})}))},h(),f(),f(),f(),f(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(U){var z=b.plotArea.ctx;z.clearRect(x.x1,x.y1,x.width,x.height),z.fillStyle=b.backgroundColor,z.fillRect(x.x1,x.y1,x.width,x.height);for(var z=c[0].startAngle+2*Math.PI*U,X=0;X<p.length;X++){var W=X===0?c[X].startAngle:N,N=W+(c[X].endAngle-c[X].startAngle),Z=!1;N>z&&(N=z,Z=!0);var ie=p[X].color?p[X].color:g._colorSet[X%g._colorSet.length];if(N>W&&ei(b.plotArea.ctx,c[X].center,c[X].radius,ie,g.type,W,N,g.fillOpacity,c[X].percentInnerRadius),Z)break}v(),b.dispatchEvent("dataAnimationIterationEnd",{chart:b}),1<=U&&b.dispatchEvent("dataAnimationEnd",{chart:b})},function(){b.disableToolTip=!1,b._animator.animate(0,b.animatedRender?500:0,function(U){o(U),v(),b.dispatchEvent("dataAnimationIterationEnd",{chart:b})}),b.dispatchEvent("dataAnimationEnd",{chart:b})})}}};var Gt=function(i,h,o,n){typeof o>"u"&&(o=1),0>=Math.round(h.y4-h.y1)||(i.save(),i.globalAlpha=o,i.beginPath(),i.moveTo(Math.round(h.x1),Math.round(h.y1)),i.lineTo(Math.round(h.x2),Math.round(h.y2)),i.lineTo(Math.round(h.x3),Math.round(h.y3)),i.lineTo(Math.round(h.x4),Math.round(h.y4)),h.x5!=="undefined"&&(i.lineTo(Math.round(h.x5),Math.round(h.y5)),i.lineTo(Math.round(h.x6),Math.round(h.y6))),i.closePath(),i.fillStyle=n||h.color,i.fill(),i.globalAplha=1,i.restore())};P.prototype.renderFunnel=function(i){function h(){for(var se=0,ne=[],ce=0;ce<_.length;ce++){if(typeof _[ce].y>"u")return-1;_[ce].y=typeof _[ce].y=="number"?_[ce].y:0,se+=Math.abs(_[ce].y)}if(se===0)return-1;for(ce=ne[0]=0;ce<_.length;ce++)ne.push(Math.abs(_[ce].y)*G/se);return ne}function o(){var se=Le,ne=Ge,ce=ge,nt=bt,ue,Ie;ue=W,Ie=N-ie,nt=Math.abs((Ie-ue)*(ne-se+(nt-ce))/2),ce=bt-ge,ue=Ie-ue,Ie=ce*(Ie-N),Ie=Math.abs(Ie),Ie=nt+Ie;for(var nt=[],jt=0,dt=0;dt<_.length;dt++){if(typeof _[dt].y>"u")return-1;_[dt].y=typeof _[dt].y=="number"?_[dt].y:0,jt+=Math.abs(_[dt].y)}if(jt===0)return-1;for(var rt=nt[0]=0,fe=0,gt,It,ne=ne-se,rt=!1,dt=0;dt<_.length;dt++)se=Math.abs(_[dt].y)*Ie/jt,rt?gt=Number(ce.toFixed(3))==0?0:se/ce:(It=_t*_t*ne*ne-4*Math.abs(_t)*se,0>It?(It=ce,rt=(ne+It)*(ue-fe)/2,se-=rt,gt=ue-fe,fe+=ue-fe,gt+=It==0?0:se/It,fe+=se/It,rt=!0):(gt=(Math.abs(_t)*ne-Math.sqrt(It))/2,It=ne-2*gt/Math.abs(_t),fe+=gt,fe>ue&&(fe-=gt,It=ce,rt=(ne+It)*(ue-fe)/2,se-=rt,gt=ue-fe,fe+=ue-fe,gt+=se/It,fe+=se/It,rt=!0),ne=It)),nt.push(gt);return nt}function n(){if(T&&_){for(var se,ne,ce,nt,ue,Ie,jt,dt,fe,gt,It,rt,Me,Be,xe,Ze=[],zt=[],ti={percent:null,total:null},Ut=null,ke=0;ke<_.length;ke++)xe=me[ke],xe=typeof xe.x5<"u"?(xe.y2+xe.y4)/2:(xe.y2+xe.y3)/2,xe=c(xe).x2+1,Ze[ke]=X-xe-_e;xe=.5*_e;for(var ke=0,Nt=_.length-1;ke<_.length||0<=Nt;ke++,Nt--)ne=T.reversed?_[Nt]:_[ke],se=ne.color?ne.color:T.reversed?T._colorSet[(_.length-1-ke)%T._colorSet.length]:T._colorSet[ke%T._colorSet.length],ce=ne.indexLabelPlacement||T.indexLabelPlacement||"outside",Be=ne.indexLabelTextAlign||T.indexLabelTextAlign||"left",nt=ne.indexLabelBackgroundColor||T.indexLabelBackgroundColor||(V?"transparent":null),ue=ne.indexLabelFontColor||T.indexLabelFontColor||"#979797",Ie=M(ne.indexLabelFontSize)?T.indexLabelFontSize:ne.indexLabelFontSize,jt=ne.indexLabelFontStyle||T.indexLabelFontStyle||"normal",dt=ne.indexLabelFontFamily||T.indexLabelFontFamily||"arial",fe=ne.indexLabelFontWeight||T.indexLabelFontWeight||"normal",se=ne.indexLabelLineColor||T.options.indexLabelLineColor||se,gt=typeof ne.indexLabelLineThickness=="number"?ne.indexLabelLineThickness:typeof T.indexLabelLineThickness=="number"?T.indexLabelLineThickness:2,It=ne.indexLabelLineDashType||T.indexLabelLineDashType||"solid",rt=typeof ne.indexLabelWrap<"u"?ne.indexLabelWrap:typeof T.indexLabelWrap<"u"?T.indexLabelWrap:!0,Me=T.dataPointIds[ke],I._eventManager.objectMap[Me]={id:Me,objectType:"dataPoint",dataPointIndex:ke,dataSeriesIndex:0,funnelSection:me[T.reversed?_.length-1-ke:ke]},T.indexLabelPlacement==="inside"&&(Ze[ke]=ke!==ni?T.reversed?me[ke].x2-me[ke].x1:me[ke].x3-me[ke].x4:me[ke].x3-me[ke].x6,20>Ze[ke]&&(Ze[ke]=ke!==ni&&T.reversed?me[ke].x3-me[ke].x4:me[ke].x2-me[ke].x1,Ze[ke]/=2)),Me=ne.indexLabelMaxWidth?ne.indexLabelMaxWidth:T.options.indexLabelMaxWidth?T.indexLabelMaxWidth:Ze[ke],(Me>Ze[ke]||0>Me)&&(Me=Ze[ke]),zt[ke]=T.indexLabelPlacement==="inside"?rt?Math.max(me[ke].height,Ie):1.5*Ie:!1,ti=I.getPercentAndTotal(T,ne),(T.indexLabelFormatter||ne.indexLabelFormatter)&&(Ut={chart:I.options,dataSeries:T,dataPoint:ne,total:ti.total,percent:ti.percent}),ne=ne.indexLabelFormatter?ne.indexLabelFormatter(Ut):ne.indexLabel?I.replaceKeywordsWithValue(ne.indexLabel,ne,T,ke):T.indexLabelFormatter?T.indexLabelFormatter(Ut):T.indexLabel?I.replaceKeywordsWithValue(T.indexLabel,ne,T,ke):ne.label?ne.label:"",0>=gt&&(gt=0),1e3>Me&&1e3-Me<xe&&(Me+=1e3-Me),Z.roundRect||d(Z),ce=new je(Z,{fontSize:Ie,fontFamily:dt,fontColor:ue,fontStyle:jt,fontWeight:fe,horizontalAlign:ce,textAlign:Be,backgroundColor:nt,maxWidth:Me,maxHeight:zt[ke]===!1?rt?4.28571429*Ie:1.5*Ie:zt[ke],text:ne,padding:Si,textBaseline:"middle"}),ce.measureText(),ce.height=ce.height===2*ce.padding?0:ce.height,ce.width=ce.width===2*ce.padding?0:ce.width,ee.push({textBlock:ce,id:T.reversed?Nt:ke,isDirty:!1,lineColor:se,lineThickness:gt,lineDashType:It,height:ce.height<ce.maxHeight?ce.height:ce.maxHeight,width:ce.width<ce.maxWidth?ce.width:ce.maxWidth})}}function a(){var se,ne,ce,nt,ue,Ie=[];ue=!1,ce=0;for(var jt,dt=X-Ge-_e/2,dt=T.options.indexLabelMaxWidth?T.indexLabelMaxWidth>dt?dt:T.indexLabelMaxWidth:dt,fe=ee.length-1;0<=fe;fe--)jt=_[ee[fe].id],ce=ee[fe],nt=ce.textBlock,ne=(se=x(fe)<me.length?ee[x(fe)]:null)?se.textBlock:null,ce=ce.height,se&&nt.y+ce+Si>ne.y&&(ue=!0),ce=jt.indexLabelMaxWidth||dt,(ce>dt||0>ce)&&(ce=dt),Ie.push(ce);if(ue)for(fe=ee.length-1;0<=fe;fe--)se=me[fe],ee[fe].textBlock.maxWidth=Ie[Ie.length-(fe+1)],ee[fe].textBlock.measureText(),ee[fe].textBlock.height=ee[fe].textBlock.height===2*ee[fe].textBlock.padding?0:ee[fe].textBlock.height,ee[fe].textBlock.width=ee[fe].textBlock.width===2*ee[fe].textBlock.padding?0:ee[fe].textBlock.width,ee[fe].textBlock.x=X-dt,ce=ee[fe].textBlock.height<ee[fe].textBlock.maxHeight?ee[fe].textBlock.height:ee[fe].textBlock.maxHeight,ue=ee[fe].textBlock.width<ee[fe].textBlock.maxWidth?ee[fe].textBlock.width:ee[fe].textBlock.maxWidth,ee[fe].height=ce,ee[fe].width=ue,ce=typeof se.x5<"u"?(se.y2+se.y4)/2:(se.y2+se.y3)/2,ee[fe].textBlock.y=ce-ee[fe].height/2,T.reversed?(ee[fe].textBlock.y+ee[fe].height>$e+L&&(ee[fe].textBlock.y=$e+L-ee[fe].height),ee[fe].textBlock.y<Oe-L&&(ee[fe].textBlock.y=Oe-L)):(ee[fe].textBlock.y<$e-L&&(ee[fe].textBlock.y=$e-L),ee[fe].textBlock.y+ee[fe].height>Oe+L&&(ee[fe].textBlock.y=Oe+L-ee[fe].height))}function u(){var se,ne,ce,nt;if(T.indexLabelPlacement!=="inside")for(var ue=0;ue<me.length;ue++)ee[ue].textBlock.text.length==0?ee[ue].isDirty=!0:(se=me[ue],ce=typeof se.x5<"u"?(se.y2+se.y4)/2:(se.y2+se.y3)/2,ne=T.reversed?typeof se.x5<"u"&&ce>Ve?c(ce).x2+1:(se.x2+se.x3)/2+1:typeof se.x5<"u"?ce<Ve?c(ce).x2+1:(se.x4+se.x3)/2+1:(se.x2+se.x3)/2+1,ee[ue].textBlock.x=ne+_e,ee[ue].textBlock.y=ce-ee[ue].height/2,T.reversed?(ee[ue].textBlock.y+ee[ue].height>$e+L&&(ee[ue].textBlock.y=$e+L-ee[ue].height),ee[ue].textBlock.y<Oe-L&&(ee[ue].textBlock.y=Oe-L)):(ee[ue].textBlock.y<$e-L&&(ee[ue].textBlock.y=$e-L),ee[ue].textBlock.y+ee[ue].height>Oe+L&&(ee[ue].textBlock.y=Oe+L-ee[ue].height)));else for(ue=0;ue<me.length;ue++)ee[ue].textBlock.text.length==0?ee[ue].isDirty=!0:(se=me[ue],ne=se.height,ce=ee[ue].height,nt=ee[ue].width,ne>=ce?(ne=ue!=ni?(se.x4+se.x3)/2-nt/2:(se.x5+se.x4)/2-nt/2,ce=ue!=ni?(se.y1+se.y3)/2-ce/2:(se.y1+se.y4)/2-ce/2,ee[ue].textBlock.x=ne,ee[ue].textBlock.y=ce):ee[ue].isDirty=!0)}function f(){function se(Me,Be){var xe;if(0>Me||Me>=ee.length)return 0;var Ze,zt=ee[Me].textBlock;return 0>Be?(Be*=-1,Ze=m(Me),xe=v(Ze,Me),xe>=Be?(zt.y-=Be,Be):Me==0?(0<xe&&(zt.y-=xe),xe):(xe+=se(Ze,-(Be-xe)),0<xe&&(zt.y-=xe),xe)):(Ze=x(Me),xe=v(Me,Ze),xe>=Be?(zt.y+=Be,Be):Me==me.length-1?(0<xe&&(zt.y+=xe),xe):(xe+=se(Ze,Be-xe),0<xe&&(zt.y+=xe),xe))}function ne(){var Me,Be,xe,Ze,zt=0,ti;Ze=(N-W+2*L)/gt,ti=gt;for(var Ut,ke=1;ke<ti;ke++){xe=ke*Ze;for(var Nt=ee.length-1;0<=Nt;Nt--)!ee[Nt].isDirty&&ee[Nt].textBlock.y<xe&&ee[Nt].textBlock.y+ee[Nt].height>xe&&(Ut=x(Nt),!(Ut>=ee.length-1)&&ee[Nt].textBlock.y+ee[Nt].height+Si>ee[Ut].textBlock.y&&(ee[Nt].textBlock.y=ee[Nt].textBlock.y+ee[Nt].height-xe>xe-ee[Nt].textBlock.y?xe+1:xe-ee[Nt].height-1))}for(Ut=me.length-1;0<Ut;Ut--)if(!ee[Ut].isDirty){if(xe=m(Ut),0>xe&&(xe=0,ee[xe].isDirty))break;if(ee[Ut].textBlock.y<ee[xe].textBlock.y+ee[xe].height){for(Be=Be||Ut,Ze=Ut,ti=0;ee[Ze].textBlock.y<ee[xe].textBlock.y+ee[xe].height+Si;){if(Me=Me||ee[Ze].textBlock.y+ee[Ze].height,ti+=ee[Ze].height,ti+=Si,Ze=xe,0>=Ze){Ze=0,ti+=ee[Ze].height;break}if(xe=m(Ze),0>xe){Ze=0,ti+=ee[Ze].height;break}}if(Ze!=Ut){zt=ee[Ze].textBlock.y,Me-=zt,Me=ti-Me,zt=ce(Me,Be,Ze);break}}}return zt}function ce(Me,Be,xe){var Ze=[],zt=0,ti=0;for(Me=Math.abs(Me);xe<=Be;xe++)Ze.push(me[xe]);for(Ze.sort(function(Ut,ke){return Ut.height-ke.height}),xe=0;xe<Ze.length&&(Be=Ze[xe],zt<Me);xe++)ti++,zt+=ee[Be.id].height+Si,ee[Be.id].textBlock.text="",ee[Be.id].indexLabelText="",ee[Be.id].isDirty=!0,ee[Be.id].textBlock.measureText();return ti}for(var nt,ue,Ie,jt,dt,fe,gt=1,It=0;It<2*gt;It++){for(var rt=ee.length-1;0<=rt&&(0<=m(rt)&&m(rt),Ie=ee[rt],jt=Ie.textBlock,fe=(dt=x(rt)<me.length?ee[x(rt)]:null)?dt.textBlock:null,nt=+Ie.height.toFixed(6),ue=+jt.y.toFixed(6),!(!Ie.isDirty&&dt&&ue+nt+Si>+fe.y.toFixed(6)&&(nt=jt.y+nt+Si-fe.y,ue=se(rt,-nt),ue<nt&&(0<ue&&(nt-=ue),ue=se(x(rt),nt),ue!=nt))));rt--);ne()}}function v(se,ne){return(ne<me.length?ee[ne].textBlock.y:T.reversed?$e+L:Oe+L)-(0>se?T.reversed?Oe-L:$e-L:ee[se].textBlock.y+ee[se].height+Si)}function b(se,ne,ce){var nt,ue,Ie,jt=[],dt=L,fe=[];if(ne!==-1&&(0<=kt.indexOf(ne)?(ue=kt.indexOf(ne),kt.splice(ue,1)):(kt.push(ne),kt=kt.sort(function(rt,Me){return rt-Me}))),kt.length===0)jt=$n;else{ue=L*(kt.length!=1||kt[0]!=0&&kt[0]!=me.length-1?2:1)/g();for(var gt=0;gt<me.length;gt++){if(kt.length==1&&kt[0]==0){if(gt===0){jt.push($n[gt]),nt=dt;continue}}else gt===0&&(nt=-1*dt);jt.push($n[gt]+nt),(0<=kt.indexOf(gt)||gt<me.length&&0<=kt.indexOf(gt+1))&&(nt+=ue)}}Ie=function(){for(var rt=[],Me=0;Me<me.length;Me++)rt.push(jt[Me]-me[Me].y1);return rt}();var It={startTime:new Date().getTime(),duration:ce||500,easingFunction:function(rt,Me,Be,xe){return ve.easing.easeOutQuart(rt,Me,Be,xe)},changeSection:function(rt){for(var Me,Be,xe=0;xe<me.length;xe++)Me=Ie[xe],Be=me[xe],Me*=rt,typeof fe[xe]>"u"&&(fe[xe]=0),0>fe&&(fe*=-1),Be.y1+=Me-fe[xe],Be.y2+=Me-fe[xe],Be.y3+=Me-fe[xe],Be.y4+=Me-fe[xe],Be.y5&&(Be.y5+=Me-fe[xe],Be.y6+=Me-fe[xe]),fe[xe]=Me}};se._animator.animate(0,ce,function(rt){var Me=se.plotArea.ctx||se.ctx;ks=!0,Me.clearRect(k.x1,k.y1,k.x2-k.x1,k.y2-k.y1),Me.fillStyle=se.backgroundColor,Me.fillRect(k.x1,k.y1,k.width,k.height),It.changeSection(rt,ne);var Be={};for(Be.dataSeries=T,Be.dataPoint=T.reversed?T.dataPoints[_.length-1-ne]:T.dataPoints[ne],Be.index=T.reversed?_.length-1-ne:ne,se.toolTip.highlightObjects([Be]),Be=0;Be<me.length;Be++)Gt(Me,me[Be],T.fillOpacity);S(Me),U&&(T.indexLabelPlacement!=="inside"?p(Me):u(),C(Me)),1<=rt&&(ks=!1)},null,ve.easing.easeOutQuart)}function g(){for(var se=0,ne=0;ne<me.length-1;ne++)(0<=kt.indexOf(ne)||0<=kt.indexOf(ne+1))&&se++;return se}function p(se){for(var ne,ce,nt,ue,Ie=0;Ie<me.length;Ie++)ue=ee[Ie].lineThickness%2===1?.5:0,ce=((me[Ie].y2+me[Ie].y4)/2<<0)+ue,ne=c(ce).x2-1,nt=ee[Ie].textBlock.x,ue=(ee[Ie].textBlock.y+ee[Ie].height/2<<0)+ue,ee[Ie].isDirty||ee[Ie].lineThickness==0||(se.strokeStyle=ee[Ie].lineColor,se.lineWidth=ee[Ie].lineThickness,se.setLineDash&&se.setLineDash(te(ee[Ie].lineDashType,ee[Ie].lineThickness)),se.beginPath(),se.moveTo(ne,ce),se.lineTo(nt,ue),se.stroke())}function m(se){for(se-=1;-1<=se&&se!=-1&&ee[se].isDirty;se--);return se}function x(se){for(se+=1;se<=me.length&&se!=me.length&&ee[se].isDirty;se++);return se}function c(se){for(var ne,ce=0;ce<_.length;ce++)if(me[ce].y1<se&&me[ce].y4>se){ne=me[ce];break}return ne?(se=ne.y6&&se>ne.y6?ne.x3+(ne.x4-ne.x3)/(ne.y4-ne.y3)*(se-ne.y3):ne.x2+(ne.x3-ne.x2)/(ne.y3-ne.y2)*(se-ne.y2),{x1:se,x2:se}):-1}function C(se){for(var ne=0;ne<me.length;ne++)ee[ne].isDirty||(se&&(ee[ne].textBlock.ctx=se),ee[ne].textBlock.y+=ee[ne].textBlock._lineHeight/2,ee[ne].textBlock.render(!0),ee[ne].textBlock.y-=ee[ne].textBlock._lineHeight/2)}function S(se){if(I.plotArea.layoutManager.reset(),se.roundRect||d(se),I.title&&(I.title.dockInsidePlotArea||I.title.horizontalAlign==="center"&&I.title.verticalAlign==="center")&&(I.title.ctx=se,I.title.render()),I.subtitles)for(var ne=0;ne<I.subtitles.length;ne++){var ce=I.subtitles[ne];(ce.dockInsidePlotArea||ce.horizontalAlign==="center"&&ce.verticalAlign==="center")&&(I.subtitles.ctx=se,ce.render())}I.legend&&(I.legend.dockInsidePlotArea||I.legend.horizontalAlign==="center"&&I.legend.verticalAlign==="center")&&(I.legend.ctx=se,I.legend.setLayout(),I.legend.render()),Jt.fNg&&Jt.fNg(I)}var I=this;if(!(0>=i.dataSeriesIndexes.length)){for(var T=this.data[i.dataSeriesIndexes[0]],_=T.dataPoints,k=this.plotArea,L=.025*k.width,O=.01*k.width,R=0,G=k.height-2*L,q=Math.min(k.width-2*O,2.8*k.height),U=!1,z=0;z<_.length;z++)!U&&typeof _[z].indexLabel<"u"&&_[z].indexLabel!==null&&0<_[z].indexLabel.toString().length&&(U=!0),!U&&typeof _[z].label<"u"&&_[z].label!==null&&0<_[z].label.toString().length&&(U=!0),(!U&&typeof T.indexLabelFormatter=="function"||typeof _[z].indexLabelFormatter=="function")&&(U=!0);U=U||typeof T.indexLabel<"u"&&T.indexLabel!==null&&0<T.indexLabel.toString().length,T.indexLabelPlacement!=="inside"&&U||(O=(k.width-.75*q)/2);var z=k.x1+O,X=k.x2-O,W=k.y1+L,N=k.y2-L,Z=i.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(T.length!=0&&T.dataPoints&&T.visible&&_.length!==0){var ie,B;i=75*q/100;var _e=30*(X-i)/100;T.type==="funnel"?(ie=M(T.options.neckHeight)?.35*G:T.neckHeight,B=M(T.options.neckWidth)?.25*i:T.neckWidth,typeof ie=="string"&&ie.match(/%$/)?(ie=parseInt(ie),ie=ie*G/100):ie=parseInt(ie),typeof B=="string"&&B.match(/%$/)?(B=parseInt(B),B=B*i/100):B=parseInt(B),ie>G?ie=G:0>=ie&&(ie=0),B>i?B=i-.5:0>=B&&(B=0)):T.type==="pyramid"&&(B=ie=0,T.reversed=!T.reversed);var O=z+i/2,Le=z,Ge=z+i,$e=T.reversed?N:W,ge=O-B/2,bt=O+B/2,Ve=T.reversed?W+ie:N-ie,Oe=T.reversed?W:N;i=[];var O=[],me=[],q=[],ft=W,ni,_t=(Ve-$e)/(ge-Le),Bi=-_t,z=(T.valueRepresents?T.valueRepresents:"height")==="area"?o():h();if(z!==-1){if(T.reversed)for(q.push(ft),B=z.length-1;0<B;B--)ft+=z[B],q.push(ft);else for(B=0;B<z.length;B++)ft+=z[B],q.push(ft);if(T.reversed)for(B=0;B<z.length;B++)q[B]<Ve?(i.push(ge),O.push(bt),ni=B):(i.push((q[B]-$e+_t*Le)/_t),O.push((q[B]-$e+Bi*Ge)/Bi));else for(B=0;B<z.length;B++)q[B]<Ve?(i.push((q[B]-$e+_t*Le)/_t),O.push((q[B]-$e+Bi*Ge)/Bi),ni=B):(i.push(ge),O.push(bt));for(B=0;B<z.length-1;B++)ft=T.reversed?_[_.length-1-B].color?_[_.length-1-B].color:T._colorSet[(_.length-1-B)%T._colorSet.length]:_[B].color?_[B].color:T._colorSet[B%T._colorSet.length],B===ni?me.push({x1:i[B],y1:q[B],x2:O[B],y2:q[B],x3:bt,y3:Ve,x4:O[B+1],y4:q[B+1],x5:i[B+1],y5:q[B+1],x6:ge,y6:Ve,id:B,height:q[B+1]-q[B],color:ft}):me.push({x1:i[B],y1:q[B],x2:O[B],y2:q[B],x3:O[B+1],y3:q[B+1],x4:i[B+1],y4:q[B+1],id:B,height:q[B+1]-q[B],color:ft});var Si=2,ee=[],ks=!1,kt=[],$n=[],z=!1;for(i=i=0,j(kt),B=0;B<_.length;B++)_[B].exploded&&(z=!0,T.reversed?kt.push(_.length-1-B):kt.push(B));if(Z.clearRect(k.x1,k.y1,k.width,k.height),Z.fillStyle=I.backgroundColor,Z.fillRect(k.x1,k.y1,k.width,k.height),U&&T.visible&&(n(),u(),a(),T.indexLabelPlacement!=="inside")){for(f(),B=0;B<_.length;B++)ee[B].isDirty||(i=ee[B].textBlock.x+ee[B].width,i=(X-i)/2,B==0&&(R=i),R>i&&(R=i));for(B=0;B<me.length;B++)me[B].x1+=R,me[B].x2+=R,me[B].x3+=R,me[B].x4+=R,me[B].x5&&(me[B].x5+=R,me[B].x6+=R),ee[B].textBlock.x+=R}for(B=0;B<me.length;B++)R=me[B],Gt(Z,R,T.fillOpacity),$n.push(R.y1);if(S(Z),U&&T.visible&&(T.indexLabelPlacement==="inside"||I.animationEnabled||p(Z),I.animationEnabled||C()),!U)for(B=0;B<_.length;B++)R=T.dataPointIds[B],i={id:R,objectType:"dataPoint",dataPointIndex:B,dataSeriesIndex:0,funnelSection:me[T.reversed?_.length-1-B:B]},I._eventManager.objectMap[R]=i;return(!I.animationEnabled&&z||I.animationEnabled&&!I.animatedRender)&&b(I,-1,0),this.funnelPyramidClickHandler=function(ue){var Ie=-1;!ks&&!I.isAnimating&&(M(ue.dataSeries.explodeOnClick)||ue.dataSeries.explodeOnClick)&&(Ie=T.reversed?_.length-1-ue.dataPointIndex:ue.dataPointIndex,0<=Ie)&&(ue=Ie,(T.type==="funnel"||T.type==="pyramid")&&(T.reversed?_[_.length-1-ue].exploded=!_[_.length-1-ue].exploded:_[ue].exploded=!_[ue].exploded),b(I,Ie,500))},{source:Z,dest:this.plotArea.ctx,animationCallback:function(ue,Ie){ve.fadeInAnimation(ue,Ie),1<=ue&&(b(I,-1,500),S(I.plotArea.ctx||I.ctx))},easingFunction:ve.easing.easeInQuad,animationBase:0}}}}},P.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){window.setTimeout(i,1e3/60)}}(),P.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,P.prototype.set=function(i,h,o){o=typeof o>"u"?!0:o,i==="options"?(this.options=h,o&&this.render()):P.base.set.call(this,i,h,o)},P.prototype.exportChart=function(i){i=typeof i>"u"?{}:i;var h=i.format?i.format:"png",o=i.fileName?i.fileName:this.exportFileName;if(i.toDataURL)return this.canvas.toDataURL("image/"+h);var n=this.canvas;if(n&&h&&o){o=o+"."+h,i="image/"+h;var n=n.toDataURL(i),a=!1,u=document.createElement("a");if(u.download=o,u.href=n,typeof Blob<"u"&&new Blob){for(var f=n.replace(/^data:[a-z\/]*;base64,/,""),f=atob(f),v=new ArrayBuffer(f.length),v=new Uint8Array(v),b=0;b<f.length;b++)v[b]=f.charCodeAt(b);h=new Blob([v.buffer],{type:"image/"+h});try{window.navigator.msSaveBlob(h,o),a=!0}catch{u.dataset.downloadurl=[i,u.download,u.href].join(":"),u.href=window.URL.createObjectURL(h)}}if(!a)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),u.dispatchEvent?u.dispatchEvent(event):u.fireEvent&&u.fireEvent("onclick")}catch{h=window.open(),h.document.write("<img src='"+n+"'></img><div>Please right click on the image and save it to your device</div>"),h.document.close()}}},P.prototype.print=function(){var i=this.exportChart({toDataURL:!0}),h=document.createElement("iframe");h.setAttribute("class","canvasjs-chart-print-frame"),Ae(h,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),h.style.height=this.height+"px",this._canvasJSContainer.appendChild(h);var o=this,n=h.contentWindow||h.contentDocument.document||h.contentDocument;n.document.open(),n.document.write(`<!DOCTYPE HTML>
<html><body><img src="`+i+'"/><body/></html>'),n.document.body&&n.document.body.style&&(n.document.body.style.margin="0px 0px 0px 0px",n.document.body.style.padding="0px 0px 0px 0px"),n.document.close(),setTimeout(function(){n.focus(),n.print(),setTimeout(function(){o._canvasJSContainer.removeChild(h)},1e3)},500)},P.prototype.getPercentAndTotal=function(i,h){var o=null,n=null,a=o=null;if(0<=i.type.indexOf("stacked"))n=0,o=h.x.getTime?h.x.getTime():h.x,o in i.plotUnit.yTotals&&(n=i.plotUnit.yTotals[o],o=i.plotUnit.yAbsTotals[o],a=isNaN(h.y)||o===0?0:100*(h.y/o));else if(i.type==="pie"||i.type==="doughnut"||i.type==="funnel"||i.type==="pyramid"){for(o=n=0;o<i.dataPoints.length;o++)isNaN(i.dataPoints[o].y)||(n+=i.dataPoints[o].y);a=isNaN(h.y)?0:100*(h.y/n)}return{percent:a,total:n}},P.prototype.replaceKeywordsWithValue=function(i,h,o,n,a){var u=this;if(a=typeof a>"u"?0:a,(0<=o.type.indexOf("stacked")||o.type==="pie"||o.type==="doughnut"||o.type==="funnel"||o.type==="pyramid")&&(0<=i.indexOf("#percent")||0<=i.indexOf("#total"))){var b="#percent",v="#total",f=this.getPercentAndTotal(o,h),v=isNaN(f.total)?v:f.total,b=isNaN(f.percent)?b:f.percent;do{if(f="",o.percentFormatString)f=o.percentFormatString;else{var f="#,##0.",g=Math.max(Math.ceil(Math.log(1/Math.abs(b))/Math.LN10),2);(isNaN(g)||!isFinite(g))&&(g=2);for(var p=0;p<g;p++)f+="#";o.percentFormatString=f}i=i.replace("#percent",St(b,f,u._cultureInfo)),i=i.replace("#total",St(v,o.yValueFormatString?o.yValueFormatString:"#,##0.########",u._cultureInfo))}while(0<=i.indexOf("#percent")||0<=i.indexOf("#total"))}return i.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(m){if(m[0]==='"'&&m[m.length-1]==='"'||m[0]==="'"&&m[m.length-1]==="'")return m.slice(1,m.length-1);m=l(m.slice(1,m.length-1)),m=m.replace("#index",a);var x=null;try{var c=m.match(/(.*?)\s*\[\s*(.*?)\s*\]/);c&&0<c.length&&(x=l(c[2]),m=l(c[1]))}catch{}if(c=null,m==="color")return o.type==="waterfall"?h.color?h.color:0<h.y?o.risingColor:o.fallingColor:o.type==="error"?o.color?o.color:o._colorSet[x%o._colorSet.length]:h.color?h.color:o.color?o.color:o._colorSet[n%o._colorSet.length];if(h.hasOwnProperty(m))c=h;else if(o.hasOwnProperty(m))c=o;else return"";return c=c[m],x!==null&&(c=c[x]),m==="x"?(o.axisX&&o.axisX.valueType==="dateTime"||o.xValueType==="dateTime"||h.x&&h.x.getTime)&&!o.axisX.logarithmic?Sn(c,h.xValueFormatString?h.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString=u.axisX&&u.axisX.autoValueFormatString?u.axisX.autoValueFormatString:"DD MMM YY",u._cultureInfo):St(c,h.xValueFormatString?h.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString="#,##0.########",u._cultureInfo):m==="y"?St(c,h.yValueFormatString?h.yValueFormatString:o.yValueFormatString?o.yValueFormatString:o.yValueFormatString="#,##0.########",u._cultureInfo):m==="z"?St(c,h.zValueFormatString?h.zValueFormatString:o.zValueFormatString?o.zValueFormatString:o.zValueFormatString="#,##0.########",u._cultureInfo):c})},e(le,ut),le.prototype.setLayout=function(){var i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,h=i.layoutManager.getFreeSpace(),o=null,n=0,a=0,u=0,f=0,v=this.markerMargin=this.chart.options.legend&&!M(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var b=[],g=[];this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.orientation="horizontal",o=this.verticalAlign,u=this.maxWidth=this.maxWidth!==null?this.maxWidth:h.width,f=this.maxHeight=this.maxHeight!==null?this.maxHeight:.5*h.height):this.verticalAlign==="center"&&(this.orientation="vertical",(this.horizontalAlign==="left"||this.horizontalAlign==="center"||this.horizontalAlign==="right")&&(o=this.horizontalAlign),u=this.maxWidth=this.maxWidth!==null?this.maxWidth:.5*h.width,f=this.maxHeight=this.maxHeight!==null?this.maxHeight:h.height),this.errorMarkerColor=[];for(var p=0;p<this.dataSeries.length;p++){var m=this.dataSeries[p];if(m.dataPoints&&m.dataPoints.length)if(m.type!=="pie"&&m.type!=="doughnut"&&m.type!=="funnel"&&m.type!=="pyramid"){var x=m.legendMarkerType=m.legendMarkerType?m.legendMarkerType:m.type!=="line"&&m.type!=="stepLine"&&m.type!=="spline"&&m.type!=="scatter"&&m.type!=="bubble"||!m.markerType?m.type==="error"&&m._linkedSeries?m._linkedSeries.legendMarkerType?m._linkedSeries.legendMarkerType:he.getDefaultLegendMarker(m._linkedSeries.type):he.getDefaultLegendMarker(m.type):m.markerType,c=m.legendText?m.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:m,dataPoint:null}):m.name,C=m.legendMarkerColor=m.legendMarkerColor?m.legendMarkerColor:m.markerColor?m.markerColor:m.type==="error"?M(m.whiskerColor)?m._colorSet[0]:m.whiskerColor:m._colorSet[0],S=m.markerSize||m.type!=="line"&&m.type!=="stepLine"&&m.type!=="spline"?.75*this.lineHeight:0,I=m.legendMarkerBorderColor?m.legendMarkerBorderColor:m.markerBorderColor,T=m.legendMarkerBorderThickness?m.legendMarkerBorderThickness:m.markerBorderThickness?Math.max(1,Math.round(.2*S)):0;m.type==="error"&&this.errorMarkerColor.push(C),c=this.chart.replaceKeywordsWithValue(c,m.dataPoints[0],m,p),x={markerType:x,markerColor:C,text:c,textBlock:null,chartType:m.type,markerSize:S,lineColor:m._colorSet[0],dataSeriesIndex:m.index,dataPointIndex:null,markerBorderColor:I,markerBorderThickness:T},b.push(x)}else for(var _=0;_<m.dataPoints.length;_++){var k=m.dataPoints[_],x=k.legendMarkerType?k.legendMarkerType:m.legendMarkerType?m.legendMarkerType:he.getDefaultLegendMarker(m.type),c=k.legendText?k.legendText:m.legendText?m.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:m,dataPoint:k}):k.name?k.name:"DataPoint: "+(_+1),C=k.legendMarkerColor?k.legendMarkerColor:m.legendMarkerColor?m.legendMarkerColor:k.color?k.color:m.color?m.color:m._colorSet[_%m._colorSet.length],S=.75*this.lineHeight,I=k.legendMarkerBorderColor?k.legendMarkerBorderColor:m.legendMarkerBorderColor?m.legendMarkerBorderColor:k.markerBorderColor?k.markerBorderColor:m.markerBorderColor,T=k.legendMarkerBorderThickness?k.legendMarkerBorderThickness:m.legendMarkerBorderThickness?m.legendMarkerBorderThickness:k.markerBorderThickness||m.markerBorderThickness?Math.max(1,Math.round(.2*S)):0,c=this.chart.replaceKeywordsWithValue(c,k,m,_),x={markerType:x,markerColor:C,text:c,textBlock:null,chartType:m.type,markerSize:S,dataSeriesIndex:p,dataPointIndex:_,markerBorderColor:I,markerBorderThickness:T};(k.showInLegend||m.showInLegend&&k.showInLegend!==!1)&&b.push(x)}}if(this.reversed===!0&&b.reverse(),0<b.length){for(m=null,c=k=_=0,k=this.itemWidth!==null?this.itemMaxWidth!==null?Math.min(this.itemWidth,this.itemMaxWidth,u):this.itemMaxWidth=Math.min(this.itemWidth,u):this.itemMaxWidth!==null?Math.min(this.itemMaxWidth,u):this.itemMaxWidth=u,S=S===0?.75*this.lineHeight:S,k=(this.itemMaxWidth?this.itemMaxWidth:k)-(S+v),p=0;p<b.length;p++)x=b[p],C=k,(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine")&&(C-=2*.1*this.lineHeight),0>=f||typeof f>"u"||0>=C||typeof C>"u"||(this.orientation==="horizontal"?(x.textBlock=new je(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:this.itemWrap?f:this.lineHeight,angle:0,text:x.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),x.textBlock.measureText(),this.itemWidth!==null&&(x.textBlock.width=this.itemWidth-(S+v+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0))),(!m||m.width+Math.round(x.textBlock.width+S+v+(m.width===0?0:this.horizontalSpacing)+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0))>u)&&(m={items:[],width:0},g.push(m),this.height+=c,c=0),c=Math.max(c,x.textBlock.height?x.textBlock.height:this.lineHeight),x.textBlock.x=m.width,x.textBlock.y=0,m.width+=Math.round(x.textBlock.width+S+v+(m.width===0?0:this.horizontalSpacing)+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0)),m.items.push(x),this.width=Math.max(m.width,this.width)):(x.textBlock=new je(this.ctx,{x:0,y:0,maxWidth:k,maxHeight:this.itemWrap===!0?f:1.5*this.fontSize,angle:0,text:x.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),x.textBlock.measureText(),this.itemWidth!==null&&(x.textBlock.width=this.itemWidth-(S+v+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0))),this.height<f-this.lineHeight?(m={items:[],width:0},g.push(m)):(m=g[_],_=(_+1)%g.length),m&&(this.height+=x.textBlock.height?x.textBlock.height:this.lineHeight,x.textBlock.x=m.width,x.textBlock.y=0,m.width+=Math.round(x.textBlock.width+S+v+(m.width===0?0:this.horizontalSpacing)+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0)),m.items.push(x),this.width=Math.max(m.width,this.width))));this.height=this.itemWrap===!1?g.length*this.lineHeight:this.height+c,this.height=Math.min(f,this.height),this.width=Math.min(u,this.width)}for(this.verticalAlign==="top"?(a=this.horizontalAlign==="left"?h.x1:this.horizontalAlign==="right"?h.x2-this.width:h.x1+h.width/2-this.width/2,n=h.y1):this.verticalAlign==="center"?(a=this.horizontalAlign==="left"?h.x1:this.horizontalAlign==="right"?h.x2-this.width:h.x1+h.width/2-this.width/2,n=h.y1+h.height/2-this.height/2):this.verticalAlign==="bottom"&&(a=this.horizontalAlign==="left"?h.x1:this.horizontalAlign==="right"?h.x2-this.width:h.x1+h.width/2-this.width/2,n=h.y2-this.height),this.items=b,p=0;p<this.items.length;p++)x=b[p],x.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[x.id]={id:x.id,objectType:"legendItem",legendItemIndex:p,dataSeriesIndex:x.dataSeriesIndex,dataPointIndex:x.dataPointIndex};this.markerSize=S,this.rows=g,0<b.length&&i.layoutManager.registerSpace(o,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:a,y1:n,x2:a+this.width,y2:n+this.height}},le.prototype.render=function(){var i=this.bounds.x1,h=this.bounds.y1,o=this.markerMargin,n=this.maxWidth,a=this.maxHeight,u=this.markerSize,f=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(i,h,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var v=0,b=0;b<f.length;b++){for(var g=f[b],p=0,m=0;m<g.items.length;m++){var x=g.items[m],c=x.textBlock.x+i+(m===0?.2*u:this.horizontalSpacing),C=h+v,S=c;if(this.chart.data[x.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(i,h,n,Math.max(a-a%this.lineHeight,0)),this.ctx.clip(),(x.chartType==="line"||x.chartType==="stepLine"||x.chartType==="spline")&&(this.ctx.strokeStyle=x.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(c-.1*this.lineHeight,C+this.lineHeight/2),this.ctx.lineTo(c+.85*this.lineHeight,C+this.lineHeight/2),this.ctx.stroke(),S-=.1*this.lineHeight),x.chartType==="error"){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=u/8,this.ctx.beginPath();var I=c-.08*this.lineHeight+.1*this.lineHeight,T=C+.15*this.lineHeight,_=.7*this.lineHeight,k=_+.02*this.lineHeight;this.ctx.moveTo(I,T),this.ctx.lineTo(I+_,T),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(I+_/2,T),this.ctx.lineTo(I+_/2,T+k),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(I,T+k),this.ctx.lineTo(I+_,T+k),this.ctx.stroke(),this.errorMarkerColor.shift()}ct.drawMarker(c+u/2,C+this.lineHeight/2,this.ctx,x.markerType,x.chartType==="error"||x.chartType==="line"||x.chartType==="spline"?x.markerSize/2:x.markerSize,x.markerColor,x.markerBorderColor,x.markerBorderThickness),x.textBlock.x=c+o+u,(x.chartType==="line"||x.chartType==="stepLine"||x.chartType==="spline")&&(x.textBlock.x+=.1*this.lineHeight),x.textBlock.y=Math.round(C+this.lineHeight/2),x.textBlock.render(!0),this.ctx.restore(),p=0<m?Math.max(p,x.textBlock.height?x.textBlock.height:this.lineHeight):x.textBlock.height?x.textBlock.height:this.lineHeight,this.chart.data[x.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),c=w(x.id),this.ghostCtx.fillStyle=c,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(S,x.textBlock.y-this.lineHeight/2,x.textBlock.x+x.textBlock.width-S,x.textBlock.height?x.textBlock.height:this.lineHeight),x.x1=this.chart._eventManager.objectMap[x.id].x1=S,x.y1=this.chart._eventManager.objectMap[x.id].y1=x.textBlock.y-this.lineHeight/2,x.x2=this.chart._eventManager.objectMap[x.id].x2=x.textBlock.x+x.textBlock.width,x.y2=this.chart._eventManager.objectMap[x.id].y2=x.textBlock.y+(x.textBlock.height?x.textBlock.height:this.lineHeight)-this.lineHeight/2}v+=p}},e(he,ut),he.prototype.getDefaultAxisPlacement=function(){var i=this.type;return i==="column"||i==="line"||i==="stepLine"||i==="spline"||i==="area"||i==="stepArea"||i==="splineArea"||i==="stackedColumn"||i==="stackedLine"||i==="bubble"||i==="scatter"||i==="stackedArea"||i==="stackedColumn100"||i==="stackedLine100"||i==="stackedArea100"||i==="candlestick"||i==="ohlc"||i==="rangeColumn"||i==="rangeArea"||i==="rangeSplineArea"||i==="boxAndWhisker"||i==="waterfall"?"normal":i==="bar"||i==="stackedBar"||i==="stackedBar100"||i==="rangeBar"?"xySwapped":i==="pie"||i==="doughnut"||i==="funnel"||i==="pyramid"?"none":(i!=="error"&&window.console.log("Unknown Chart Type: "+i),null)},he.getDefaultLegendMarker=function(i){return i==="column"||i==="stackedColumn"||i==="stackedLine"||i==="bar"||i==="stackedBar"||i==="stackedBar100"||i==="bubble"||i==="scatter"||i==="stackedColumn100"||i==="stackedLine100"||i==="stepArea"||i==="candlestick"||i==="ohlc"||i==="rangeColumn"||i==="rangeBar"||i==="rangeArea"||i==="rangeSplineArea"||i==="boxAndWhisker"||i==="waterfall"?"square":i==="line"||i==="stepLine"||i==="spline"||i==="pie"||i==="doughnut"?"circle":i==="area"||i==="splineArea"||i==="stackedArea"||i==="stackedArea100"||i==="funnel"||i==="pyramid"?"triangle":i==="error"?"none":(window.console.log("Unknown Chart Type: "+i),null)},he.prototype.getDataPointAtX=function(i,h){if(!this.dataPoints||this.dataPoints.length===0)return null;var o={dataPoint:null,distance:1/0,index:NaN},n=null,a=0,u=0,f=1,v=1/0,b=0,g=0,p=0;for(this.chart.plotInfo.axisPlacement!=="none"&&(this.axisX.logarithmic?(p=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),p=1<p?Math.min(Math.max((this.dataPoints.length-1)/p*Math.log(i/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(p=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,p=0<p?Math.min(Math.max((this.dataPoints.length-1)/p*(i-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(u=0<f?p+a:p-a,0<=u&&u<this.dataPoints.length){var n=this.dataPoints[u],m=this.axisX.logarithmic?n.x>i?n.x/i:i/n.x:Math.abs(n.x-i);if(m<o.distance&&(o.dataPoint=n,o.distance=m,o.index=u),n=m,n<=v?v=n:0<f?b++:g++,1e3<b&&1e3<g)break}else if(0>p-a&&p+a>=this.dataPoints.length)break;f===-1?(a++,f=1):f=-1}return h||(o.dataPoint.x.getTime?o.dataPoint.x.getTime():o.dataPoint.x)!==(i.getTime?i.getTime():i)?h&&o.dataPoint!==null?o:null:o},he.prototype.getDataPointAtXY=function(i,h,o){if(!this.dataPoints||this.dataPoints.length===0||i<this.chart.plotArea.x1||i>this.chart.plotArea.x2||h<this.chart.plotArea.y1||h>this.chart.plotArea.y2)return null;o=o||!1;var n=[],a=0,u=0,f=1,v=!1,b=1/0,g=0,p=0,x=0;if(this.chart.plotInfo.axisPlacement!=="none")if(x=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:i,y:h}),this.axisX.logarithmic)var m=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),x=1<m?Math.min(Math.max((this.dataPoints.length-1)/m*Math.log(x/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else m=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,x=0<m?Math.min(Math.max((this.dataPoints.length-1)/m*(x-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(u=0<f?x+a:x-a,0<=u&&u<this.dataPoints.length){var m=this.chart._eventManager.objectMap[this.dataPointIds[u]],c=this.dataPoints[u],C=null;if(m){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":i>=m.x1&&i<=m.x2&&h>=m.y1&&h<=m.y2&&(n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:Math.min(Math.abs(m.x1-i),Math.abs(m.x2-i),Math.abs(m.y1-h),Math.abs(m.y2-h))}),v=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var S=be("markerSize",c,this)||4,I=o?20:S,C=Math.sqrt(Math.pow(m.x1-i,2)+Math.pow(m.y1-h,2));C<=I&&n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:C}),m=Math.abs(m.x1-i),m<=b?b=m:0<f?g++:p++,C<=S/2&&(v=!0);break;case"rangeArea":case"rangeSplineArea":S=be("markerSize",c,this)||4,I=o?20:S,C=Math.min(Math.sqrt(Math.pow(m.x1-i,2)+Math.pow(m.y1-h,2)),Math.sqrt(Math.pow(m.x1-i,2)+Math.pow(m.y2-h,2))),C<=I&&n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:C}),m=Math.abs(m.x1-i),m<=b?b=m:0<f?g++:p++,C<=S/2&&(v=!0);break;case"bubble":S=m.size,C=Math.sqrt(Math.pow(m.x1-i,2)+Math.pow(m.y1-h,2)),C<=S/2&&(n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:C}),v=!0);break;case"pie":case"doughnut":S=m.center,I=this.type==="doughnut"?m.percentInnerRadius*m.radius:0,C=Math.sqrt(Math.pow(S.x-i,2)+Math.pow(S.y-h,2)),C<m.radius&&C>I&&(C=Math.atan2(h-S.y,i-S.x),0>C&&(C+=2*Math.PI),C=Number(((180*(C/Math.PI)%360+360)%360).toFixed(12)),S=Number(((180*(m.startAngle/Math.PI)%360+360)%360).toFixed(12)),I=Number(((180*(m.endAngle/Math.PI)%360+360)%360).toFixed(12)),I===0&&1<m.endAngle&&(I=360),S>=I&&c.y!==0&&!M(c.y)&&(I+=360,C<S&&(C+=360)),C>S&&C<I&&(n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:0}),v=!0));break;case"funnel":case"pyramid":C=m.funnelSection,h>C.y1&&h<C.y4&&(C.y6?h>C.y6?(u=C.x6+(C.x5-C.x6)/(C.y5-C.y6)*(h-C.y6),C=C.x3+(C.x4-C.x3)/(C.y4-C.y3)*(h-C.y3)):(u=C.x1+(C.x6-C.x1)/(C.y6-C.y1)*(h-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(h-C.y2)):(u=C.x1+(C.x4-C.x1)/(C.y4-C.y1)*(h-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(h-C.y2)),i>u&&i<C&&(n.push({dataPoint:c,dataPointIndex:m.dataPointIndex,dataSeries:this,distance:0}),v=!0));break;case"boxAndWhisker":(i>=m.x1-m.borderThickness/2&&i<=m.x2+m.borderThickness/2&&h>=m.y4-m.borderThickness/2&&h<=m.y1+m.borderThickness/2||Math.abs(m.x2-i+m.x1-i)<m.borderThickness&&h>=m.y1&&h<=m.y4)&&(n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:Math.min(Math.abs(m.x1-i),Math.abs(m.x2-i),Math.abs(m.y2-h),Math.abs(m.y3-h))}),v=!0);break;case"candlestick":(i>=m.x1-m.borderThickness/2&&i<=m.x2+m.borderThickness/2&&h>=m.y2-m.borderThickness/2&&h<=m.y3+m.borderThickness/2||Math.abs(m.x2-i+m.x1-i)<m.borderThickness&&h>=m.y1&&h<=m.y4)&&(n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:Math.min(Math.abs(m.x1-i),Math.abs(m.x2-i),Math.abs(m.y2-h),Math.abs(m.y3-h))}),v=!0);break;case"ohlc":(Math.abs(m.x2-i+m.x1-i)<m.borderThickness&&h>=m.y2&&h<=m.y3||i>=m.x1&&i<=(m.x2+m.x1)/2&&h>=m.y1-m.borderThickness/2&&h<=m.y1+m.borderThickness/2||i>=(m.x1+m.x2)/2&&i<=m.x2&&h>=m.y4-m.borderThickness/2&&h<=m.y4+m.borderThickness/2)&&(n.push({dataPoint:c,dataPointIndex:u,dataSeries:this,distance:Math.min(Math.abs(m.x1-i),Math.abs(m.x2-i),Math.abs(m.y2-h),Math.abs(m.y3-h))}),v=!0)}if(v||1e3<g&&1e3<p)break}}else if(0>x-a&&x+a>=this.dataPoints.length)break;f===-1?(a++,f=1):f=-1}for(i=null,h=0;h<n.length;h++)i?n[h].distance<=i.distance&&(i=n[h]):i=n[h];return i},he.prototype.getMarkerProperties=function(i,h,o,n){var a=this.dataPoints,u=a[i].markerColor?a[i].markerColor:this.markerColor?this.markerColor:a[i].color?a[i].color:this.color?this.color:this._colorSet[i%this._colorSet.length],f=a[i].markerBorderColor?a[i].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,v=M(a[i].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:a[i].markerBorderThickness,b=a[i].markerType?a[i].markerType:this.markerType;return i=M(a[i].markerSize)?this.markerSize:a[i].markerSize,{x:h,y:o,ctx:n,type:b,size:i,color:u,borderColor:f,borderThickness:v}},e(K,ut),K.prototype.createExtraLabelsForLog=function(i){if(i=(i||0)+1,!(5<i)){var h=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(h/this.viewportMinimum)<this.noTicks-1){for(var o=K.getNiceNumber((h-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),n=Math.ceil(this.viewportMinimum/o)*o;n<h;n+=o)n<this.viewportMinimum||this.logLabelValues.push(n);this.logLabelValues.sort(y),this.createExtraLabelsForLog(i)}}},K.prototype.createLabels=function(){var i,h,o=0,f=0,n,a=0,u=0,f=0,f=this.interval,v=0,b,g=.6*this.chart.height,p;i=!1;var m=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],x=m.length?M(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if(this.type!=="axisX"||this.valueType!=="dateTime"||this.logarithmic){if(n=this.viewportMaximum,this.labels){i=Math.ceil(f);for(var f=Math.ceil(this.intervalStartPosition),c=!1,o=f;o<this.viewportMaximum;o+=i)if(this.labels[o])c=!0;else{c=!1;break}c&&(this.interval=i,this.intervalStartPosition=f)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),f=0,c=x;f<this.logLabelValues.length;f++)if(o=this.logLabelValues[f],o<this.viewportMinimum)f++;else{for(;c<m.length&&o>m[c].endValue;c++);i=c<m.length&&o>=m[c].startValue&&o<=m[c].endValue,p=o,i||(i=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:p,label:this.labels[p]?this.labels[p]:null}):this.type==="axisX"&&this.labels[p]?this.labels[p]:St(p,this.valueFormatString,this.chart._cultureInfo),i=new je(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:u,angle:this.labelAngle,text:this.prefix+i+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:p,textBlock:i,effectiveHeight:null}))}for(c=x,o=this.intervalStartPosition;o<=n;o=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval:(this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval).toFixed(12))){for(;c<m.length&&o>m[c].endValue;c++);i=c<m.length&&o>=m[c].startValue&&o<=m[c].endValue,p=o,i||(i=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:p,label:this.labels[p]?this.labels[p]:null}):this.type==="axisX"&&this.labels[p]?this.labels[p]:St(p,this.valueFormatString,this.chart._cultureInfo),i=new je(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:u,angle:this.labelAngle,text:this.prefix+i+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:p,textBlock:i,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=r(new Date(this.viewportMaximum),this.interval,this.intervalType),c=x,o=this.intervalStartPosition;o<n;r(o,f,this.intervalType)){for(i=o.getTime();c<m.length&&i>m[c].endValue;c++);p=i,i=c<m.length&&i>=m[c].startValue&&i<=m[c].endValue,i||(i=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(p),label:this.labels[p]?this.labels[p]:null}):this.type==="axisX"&&this.labels[p]?this.labels[p]:Sn(p,this.valueFormatString,this.chart._cultureInfo),i=new je(this.ctx,{x:0,y:0,maxWidth:a,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:u,angle:this.labelAngle,text:this.prefix+i+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:p,textBlock:i,effectiveHeight:null,breaksLabelType:void 0}))}for(this._position==="bottom"||this._position==="top"?(v=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Pe[this.intervalType+"Duration"]*this.interval,a=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(u=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):(this._position==="left"||this._position==="right")&&(v=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Pe[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(a=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),u=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),f=0;f<this._labels.length;f++){i=this._labels[f].textBlock,i.maxWidth=a,i.maxHeight=u;var C=i.measureText();b=C.height}if(n=[],x=m=0,this.labelAutoFit||this.options.labelAutoFit){if(M(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),this._position==="bottom"||this._position==="top")if(a=.9*v>>0,x=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){i=this._labels[o].textBlock;for(var S,c=i.text.split(" "),f=0;f<c.length;f++)p=c[f],this.ctx.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+"px "+i.fontFamily,p=this.ctx.measureText(p),p.width>x&&(S=o,x=p.width)}for(o=0,o=this.intervalStartPosition<this.viewportMinimum?1:0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(i=this._labels[o].textBlock,C=i.measureText(),c=o+1;c<this._labels.length;c++)if(!this._labels[c].breaksLabelType){h=this._labels[c].textBlock,h=h.measureText();break}if(n.push(i.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),f=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-i.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),M(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0){if(this.sessionVariables.labelMaxHeight=this.labelAngle===0?u:Math.min((f-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),f),p=(g-(b+i.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),!M(this.options.labelWrap))this.labelWrap?M(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,x),p),this.sessionVariables.labelWrap=this.labelWrap,h&&C.width+h.width>>0>2*a&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle):M(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=a,h&&C.width+h.width>>0>2*a&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=this.labelWrap);else if(M(this.options.labelWrap)){if(!M(this.options.labelMaxWidth))this.options.labelMaxWidth<a?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=f):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u);else if(!M(h)){if(f=C.width+h.width>>0,c=this.labelFontSize,x<a)f-2*a>m&&(m=f-2*a,f>=2*a&&f<2.2*a?(this.sessionVariables.labelMaxWidth=a,M(this.options.labelFontSize)&&12<c&&(c=Math.floor(12/13*c),i.measureText()),this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?c:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):f>=2.2*a&&f<2.8*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelFontSize=c):f>=2.8*a&&f<3.2*a?(this.sessionVariables.labelMaxWidth=Math.max(a,x),this.sessionVariables.labelWrap=!0,M(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),i.measureText()),this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?c:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):f>=3.2*a&&f<3.6*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelFontSize=this.labelFontSize):f>3.6*a&&f<5*a?(M(this.options.labelFontSize)&&12<c&&(c=Math.floor(12/13*c),i.measureText()),this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?c:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p):f>5*a&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=c,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle));else if(S===o&&(S===0&&x+this._labels[S+1].textBlock.measureText().width-2*a>m||S===this._labels.length-1&&x+this._labels[S-1].textBlock.measureText().width-2*a>m||0<S&&S<this._labels.length-1&&x+this._labels[S+1].textBlock.measureText().width-2*a>m&&x+this._labels[S-1].textBlock.measureText().width-2*a>m))m=S===0?x+this._labels[S+1].textBlock.measureText().width-2*a:x+this._labels[S-1].textBlock.measureText().width-2*a,this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?c:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p;else if(m===0)for(this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?c:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,f=0;f<this._labels.length;f++)i=this._labels[f].textBlock,i.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,x),p),C=i.measureText(),f<this._labels.length-1&&(c=f+1,h=this._labels[c].textBlock,h.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,x),p),h=h.measureText(),C.width+h.width>>0>2*a&&(this.sessionVariables.labelAngle=-25))}}}else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=this.labelAngle===0?u:Math.min((f-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),f),p=this.labelAngle!=0?(g-(b+i.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):a,this.sessionVariables.labelMaxHeight=this.labelWrap?(g-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,M(this.options.labelWrap)?M(this.options.labelWrap)&&(this.labelWrap&&!M(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelMaxHeight=f<.9*v?.9*v:f,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p):(M(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=u)}for(f=0;f<this._labels.length;f++)i=this._labels[f].textBlock,i.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,i.fontSize=this.sessionVariables.labelFontSize,i.angle=this.labelAngle=this.sessionVariables.labelAngle,i.wrap=this.labelWrap=this.sessionVariables.labelWrap,i.maxHeight=this.sessionVariables.labelMaxHeight,i.measureText()}else for(o=0;o<this._labels.length;o++)i=this._labels[o].textBlock,i.maxWidth=this.labelMaxWidth=M(this.options.labelMaxWidth)?M(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,i.fontSize=this.labelFontSize=M(this.options.labelFontSize)?M(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,i.angle=this.labelAngle=M(this.options.labelAngle)?M(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,i.wrap=this.labelWrap=M(this.options.labelWrap)?M(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,i.maxHeight=M(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=u:this.sessionVariables.labelMaxHeight,i.measureText();else if(this._position==="left"||this._position==="right")if(a=M(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,u=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=M(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(i=this._labels[o].textBlock,C=i.measureText(),c=o+1;c<this._labels.length;c++)if(!this._labels[c].breaksLabelType){h=this._labels[c].textBlock,h=h.measureText();break}n.push(i.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),f=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-i.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),M(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0?M(this.options.labelWrap)?M(this.options.labelWrap)&&(M(this.options.labelMaxWidth)?M(h)||(v=C.height+h.height>>0,v-2*u>x&&(x=v-2*u,v>=2*u&&v<2.4*u?(M(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),i.measureText()),this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):v>=2.4*u&&v<2.8*u?(this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):v>=2.8*u&&v<3.2*u?(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=!0,M(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),i.measureText()),this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=M(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):v>=3.2*u&&v<3.6*u?(this.sessionVariables.labelMaxHeight=f,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):v>3.6*u&&v<10*u?(M(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),i.measureText()),this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=M(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):v>10*u&&v<50*u&&(M(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),i.measureText()),this.sessionVariables.labelFontSize=M(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelAngle=M(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))):(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=this.labelAngle===0?a:Math.min((f-u*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u),M(this.options.labelWrap)?M(this.options.labelWrap)&&(this.labelWrap&&!M(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=f):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=this.labelAngle===0?u:f,M(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=this.labelAngle===0?u:f,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=a):(this.sessionVariables.labelMaxHeight=u,M(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(f=0;f<this._labels.length;f++)i=this._labels[f].textBlock,i.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,i.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,i.angle=this.labelAngle=this.sessionVariables.labelAngle,i.wrap=this.labelWrap=this.sessionVariables.labelWrap,i.maxHeight=this.sessionVariables.labelMaxHeight,i.measureText()}else for(o=0;o<this._labels.length;o++)i=this._labels[o].textBlock,i.maxWidth=this.labelMaxWidth=M(this.options.labelMaxWidth)?M(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,i.fontSize=this.labelFontSize=M(this.options.labelFontSize)?M(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,i.angle=this.labelAngle=M(this.options.labelAngle)?M(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,i.wrap=this.labelWrap=M(this.options.labelWrap)?M(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,i.maxHeight=M(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=u:this.sessionVariables.labelMaxHeight,i.measureText()}for(o=0;o<this.stripLines.length;o++){var a=this.stripLines[o],I;a.labelPlacement==="outside"?(u=this.sessionVariables.labelMaxWidth,(this._position==="bottom"||this._position==="top")&&(M(a.options.labelWrap)&&!M(this.sessionVariables.stripLineLabelMaxHeight)?I=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=I=a.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),(this._position==="left"||this._position==="right")&&(M(a.options.labelWrap)&&!M(this.sessionVariables.stripLineLabelMaxHeight)?I=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=I=a.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),M(a.labelBackgroundColor)&&(a.labelBackgroundColor="#EEEEEE")):(u=this._position==="bottom"||this._position==="top"?.9*this.chart.width>>0:.9*this.chart.height>>0,I=M(a.options.labelWrap)||a.labelWrap?this._position==="bottom"||this._position==="top"?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,M(a.labelBackgroundColor)&&(M(a.startValue)&&a.startValue!==0?a.labelBackgroundColor=V?"transparent":null:a.labelBackgroundColor="#EEEEEE")),i=new je(this.ctx,{x:0,y:0,backgroundColor:a.labelBackgroundColor,borderColor:a.labelBorderColor,borderThickness:a.labelBorderThickness,cornerRadius:a.labelCornerRadius,maxWidth:a.options.labelMaxWidth?a.options.labelMaxWidth:u,maxHeight:I,angle:this.labelAngle,text:a.labelFormatter?a.labelFormatter({chart:this.chart,axis:this,stripLine:a}):a.label,textAlign:this.labelTextAlign,fontSize:a.labelPlacement==="outside"?a.options.labelFontSize?a.labelFontSize:this.labelFontSize:a.labelFontSize,fontFamily:a.labelPlacement==="outside"?a.options.labelFontFamily?a.labelFontFamily:this.labelFontFamily:a.labelFontFamily,fontWeight:a.labelPlacement==="outside"?a.options.labelFontWeight?a.labelFontWeight:this.labelFontWeight:a.labelFontWeight,fontColor:a.labelFontColor||a.color,fontStyle:a.labelPlacement==="outside"?a.options.labelFontStyle?a.labelFontStyle:this.fontWeight:a.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:a.value,textBlock:i,effectiveHeight:null,stripLine:a})}},K.prototype.createLabelsAndCalculateWidth=function(){var i=0,h=0;this._labels=[],this._stripLineLabels=[];var o=this.chart.isNavigator?0:5;if(this._position==="left"||this._position==="right"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(h=0;h<this._labels.length;h++){var n=this._labels[h].textBlock,a=n.measureText(),u=0,u=this.labelAngle===0?a.width:a.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(a.height-n.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle));i<u&&(this.labelEffectiveWidth=i=u),this._labels[h].effectiveWidth=u}for(h=0;h<this._stripLineLabels.length;h++)this._stripLineLabels[h].stripLine.labelPlacement==="outside"&&this._stripLineLabels[h].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[h].stripLine.value<=this.viewportMaximum&&(n=this._stripLineLabels[h].textBlock,a=n.measureText(),u=this.labelAngle===0?a.width:a.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(a.height-n.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(u+=this.tickLength),this.labelPlacement==="inside"&&(i+=0<this._index?u:0),i<u&&(i=u),this.stripLineLabelEffectiveWidth=this._stripLineLabels[h].effectiveWidth=u)}return(this.title?this._titleTextBlock.measureText().height+2:0)+i+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+o},K.prototype.createLabelsAndCalculateHeight=function(){var i=0;this._labels=[],this._stripLineLabels=[];var h,o=0,n=this.chart.isNavigator?0:5;if(this._position==="bottom"||this._position==="top"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(o=0;o<this._labels.length;o++){h=this._labels[o].textBlock;var a=h.measureText(),u=0,u=this.labelAngle===0?a.height:a.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(a.height-h.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle));i<u&&(this.labelEffectiveHeight=i=u),this._labels[o].effectiveHeight=u}for(o=0;o<this._stripLineLabels.length;o++)this._stripLineLabels[o].stripLine.labelPlacement==="outside"&&this._stripLineLabels[o].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[o].stripLine.value<=this.viewportMaximum&&(h=this._stripLineLabels[o].textBlock,a=h.measureText(),u=this.labelAngle===0?a.height:a.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(a.height-h.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(u+=this.tickLength),this.labelPlacement==="inside"&&(i+=0<this._index?u:0),i<u&&(i=u),this.stripLineLabelEffectiveHeight=this._stripLineLabels[o].effectiveHeight=u)}return(this.title?this._titleTextBlock.measureText().height+2:0)+i+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+n},K.setLayout=function(i,h,o,n,a,u){var f,v,b,g,p=i[0]?i[0].chart:h[0].chart,m=p.isNavigator?0:10,x=p._axes;if(i&&0<i.length)for(var c=0;c<i.length;c++)i[c]&&i[c].calculateAxisParameters();if(h&&0<h.length)for(c=0;c<h.length;c++)h[c].calculateAxisParameters();if(o&&0<o.length)for(c=0;c<o.length;c++)o[c].calculateAxisParameters();if(n&&0<n.length)for(c=0;c<n.length;c++)n[c].calculateAxisParameters();for(c=0;c<x.length;c++)if(x[c]&&x[c].scaleBreaks&&x[c].scaleBreaks._appliedBreaks.length)for(var C=x[c].scaleBreaks._appliedBreaks,S=0;S<C.length&&!(C[S].startValue>x[c].viewportMaximum);S++)C[S].endValue<x[c].viewportMinimum||(M(x[c].scaleBreaks.firstBreakIndex)&&(x[c].scaleBreaks.firstBreakIndex=S),C[S].startValue>=x[c].viewPortMinimum&&(x[c].scaleBreaks.lastBreakIndex=S));for(var I=S=0,T=0,_=0,k=0,L=0,O=0,R,G,q=v=0,U,z,X,C=U=z=X=!1,c=0;c<x.length;c++)x[c]&&x[c].title&&(x[c]._titleTextBlock=new je(x[c].ctx,{text:x[c].title,horizontalAlign:"center",fontSize:x[c].titleFontSize,fontFamily:x[c].titleFontFamily,fontWeight:x[c].titleFontWeight,fontColor:x[c].titleFontColor,fontStyle:x[c].titleFontStyle,borderColor:x[c].titleBorderColor,borderThickness:x[c].titleBorderThickness,backgroundColor:x[c].titleBackgroundColor,cornerRadius:x[c].titleCornerRadius,textBaseline:"middle"}));for(c=0;c<x.length;c++)if(x[c].title)switch(x[c]._position){case"left":x[c]._titleTextBlock.maxWidth=x[c].titleMaxWidth||u.height,x[c]._titleTextBlock.maxHeight=x[c].titleWrap?.8*u.width:1.5*x[c].titleFontSize,x[c]._titleTextBlock.angle=-90;break;case"right":x[c]._titleTextBlock.maxWidth=x[c].titleMaxWidth||u.height,x[c]._titleTextBlock.maxHeight=x[c].titleWrap?.8*u.width:1.5*x[c].titleFontSize,x[c]._titleTextBlock.angle=90;break;default:x[c]._titleTextBlock.maxWidth=x[c].titleMaxWidth||u.width,x[c]._titleTextBlock.maxHeight=x[c].titleWrap?.8*u.height:1.5*x[c].titleFontSize,x[c]._titleTextBlock.angle=0}if(a==="normal"){for(var _=[],k=[],L=[],O=[],W=[],N=[],Z=[],ie=[];4>S;){var B=0,_e=0,Le=0,Ge=0,$e=a=0,ge=0,bt=0,Ve=0,Oe=0,me=0,ft=0;if(o&&0<o.length)for(L=[],c=me=0;c<o.length;c++)L.push(Math.ceil(o[c]?o[c].createLabelsAndCalculateWidth():0)),me+=L[c],ge+=o[c]&&!p.isNavigator?o[c].margin:0;else L.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(Z.push(L),n&&0<n.length)for(O=[],c=ft=0;c<n.length;c++)O.push(Math.ceil(n[c]?n[c].createLabelsAndCalculateWidth():0)),ft+=O[c],bt+=n[c]?n[c].margin:0;else O.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(ie.push(O),f=Math.round(u.x1+me+ge),b=Math.round(u.x2-ft-bt>p.width-m?p.width-m:u.x2-ft-bt),i&&0<i.length)for(_=[],c=Ve=0;c<i.length;c++)i[c]&&(i[c].lineCoordinates={}),i[c].lineCoordinates.width=Math.abs(b-f),i[c].title&&(i[c]._titleTextBlock.maxWidth=0<i[c].titleMaxWidth&&i[c].titleMaxWidth<i[c].lineCoordinates.width?i[c].titleMaxWidth:i[c].lineCoordinates.width),_.push(Math.ceil(i[c]?i[c].createLabelsAndCalculateHeight():0)),Ve+=_[c],a+=i[c]&&!p.isNavigator?i[c].margin:0;else _.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(W.push(_),h&&0<h.length)for(k=[],c=Oe=0;c<h.length;c++)h[c]&&(h[c].lineCoordinates={}),h[c].lineCoordinates.width=Math.abs(b-f),h[c].title&&(h[c]._titleTextBlock.maxWidth=0<h[c].titleMaxWidth&&h[c].titleMaxWidth<h[c].lineCoordinates.width?h[c].titleMaxWidth:h[c].lineCoordinates.width),k.push(Math.ceil(h[c]?h[c].createLabelsAndCalculateHeight():0)),Oe+=k[c],$e+=h[c]&&!p.isNavigator?h[c].margin:0;else k.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateHeight():0));if(N.push(k),i&&0<i.length)for(c=0;c<i.length;c++)i[c]&&(i[c].lineCoordinates.x1=f,b=Math.round(u.x2-ft-bt>p.width-m?p.width-m:u.x2-ft-bt),i[c]._labels&&1<i[c]._labels.length&&(v=g=0,g=i[c]._labels[1],v=i[c].valueType==="dateTime"?i[c]._labels[i[c]._labels.length-2]:i[c]._labels[i[c]._labels.length-1],I=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle)),T=v.textBlock.width*Math.cos(Math.PI/180*Math.abs(v.textBlock.angle))+(v.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(v.textBlock.angle))),!i[c]||!i[c].labelAutoFit||M(R)||M(G)||p.isNavigator||p.stockChart||(v=0,0<i[c].labelAngle?G+T>b&&(v+=0<i[c].labelAngle?G+T-b-ft:0):0>i[c].labelAngle?R-I<f&&R-I<i[c].viewportMinimum&&(q=f-(ge+i[c].tickLength+L+R-I+i[c].labelFontSize/2)):i[c].labelAngle===0&&(G+T>b&&(v=G+T/2-b-ft),R-I<f&&R-I<i[c].viewportMinimum&&(q=f-ge-i[c].tickLength-L-R+I/2)),i[c].viewportMaximum===i[c].maximum&&i[c].viewportMinimum===i[c].minimum&&0<i[c].labelAngle&&0<v?b-=v:i[c].viewportMaximum===i[c].maximum&&i[c].viewportMinimum===i[c].minimum&&0>i[c].labelAngle&&0<q?f+=q:i[c].viewportMaximum===i[c].maximum&&i[c].viewportMinimum===i[c].minimum&&i[c].labelAngle===0&&(0<q&&(f+=q),0<v&&(b-=v))),p.panEnabled?Ve=M(p.sessionVariables.axisX.height)?p.sessionVariables.axisX.height=Ve:p.sessionVariables.axisX.height:p.sessionVariables.axisX.height=Ve,v=Math.round(u.y2-Ve-a+B),g=Math.round(u.y2),i[c].lineCoordinates.x2=b,i[c].lineCoordinates.width=b-f,i[c].lineCoordinates.y1=v,i[c].lineCoordinates.y2=v,i[c].labelPlacement==="inside"&&0<c&&(i[c].lineCoordinates.y1=i[c-1].lineCoordinates.y2+B+(i[c].labelEffectiveHeight||0),i[c].lineCoordinates.y2=i[c].lineCoordinates.y1+i[c].lineThickness/2),i[c].tickPlacement==="inside"&&0<c&&(i[c].lineCoordinates.y1+=i[c].tickLength,i[c].lineCoordinates.y2=i[c].lineCoordinates.y1+i[c].lineThickness/2),i[c].bounds={x1:f,y1:v,x2:b,y2:g-(Ve+a-_[c]-B),width:b-f},i[c].bounds.height=i[c].bounds.y2-i[c].bounds.y1),B+=_[c]+i[c].margin;if(h&&0<h.length)for(c=0;c<h.length;c++)h[c].lineCoordinates.x1=Math.round(u.x1+me+ge),h[c].lineCoordinates.x2=Math.round(u.x2-ft-bt>p.width-m?p.width-m:u.x2-ft-bt),h[c].lineCoordinates.width=Math.abs(b-f),h[c]._labels&&1<h[c]._labels.length&&(g=h[c]._labels[1],v=h[c].valueType==="dateTime"?h[c]._labels[h[c]._labels.length-2]:h[c]._labels[h[c]._labels.length-1],I=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle)),T=v.textBlock.width*Math.cos(Math.PI/180*Math.abs(v.textBlock.angle))+(v.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(v.textBlock.angle))),p.panEnabled?Oe=M(p.sessionVariables.axisX2.height)?p.sessionVariables.axisX2.height=Oe:p.sessionVariables.axisX2.height:p.sessionVariables.axisX2.height=Oe,v=Math.round(u.y1),g=h[c].lineCoordinates.y1=v+Oe+$e-_e,h[c].lineCoordinates.y2=v,h[c].labelPlacement==="inside"&&0<c&&(h[c].lineCoordinates.y1=h[c-1].lineCoordinates.y1-_e-(h[c].labelEffectiveHeight||0)),h[c].tickPlacement==="inside"&&0<c&&(h[c].lineCoordinates.y1-=h[c].tickLength),h[c].bounds={x1:f,y1:v+(Oe+$e-k[c]-_e),x2:b,y2:g,width:b-f},h[c].bounds.height=h[c].bounds.y2-h[c].bounds.y1,_e+=k[c]+h[c].margin;if(o&&0<o.length)for(c=0;c<o.length;c++)ge=p.isNavigator?0:10,o[c]&&(f=Math.round(i[0]?i[0].lineCoordinates.x1:h[0].lineCoordinates.x1),ge=o[c]._labels&&0<o[c]._labels.length?o[c]._labels[o[c]._labels.length-1].textBlock.height/2:m,v=Math.round(u.y1+Oe+$e<Math.max(ge,m)?Math.max(ge,m):u.y1+Oe+$e),b=Math.round(i[0]?i[0].lineCoordinates.x1:h[0].lineCoordinates.x1),ge=0<i.length?0:o[c]._labels&&0<o[c]._labels.length?o[c]._labels[0].textBlock.height/2:m,g=Math.round(u.y2-Ve-a-ge),o[c].lineCoordinates={x1:f-Le,y1:v,x2:b-Le,y2:g,height:Math.abs(g-v)},o[c].labelPlacement==="inside"&&0<c&&(o[c].lineCoordinates.x1=o[c-1].lineCoordinates.x1-Le-(o[c].labelEffectiveWidth||0),o[c].lineCoordinates.x2=o[c].lineCoordinates.x1+o[c].lineThickness/2),o[c].tickPlacement==="inside"&&0<c&&(o[c].lineCoordinates.x1-=o[c].tickLength,o[c].lineCoordinates.x2=o[c].lineCoordinates.x1+o[c].lineThickness/2),o[c].bounds={x1:f-(L[c]+Le),y1:v,x2:b-Le,y2:g,height:g-v},o[c].bounds.width=o[c].bounds.x2-o[c].bounds.x1,o[c].title&&(o[c]._titleTextBlock.maxWidth=0<o[c].titleMaxWidth&&o[c].titleMaxWidth<o[c].lineCoordinates.height?o[c].titleMaxWidth:o[c].lineCoordinates.height),Le+=L[c]+o[c].margin);if(n&&0<n.length)for(c=0;c<n.length;c++)n[c]&&(f=Math.round(i[0]?i[0].lineCoordinates.x2:h[0].lineCoordinates.x2),b=Math.round(f),ge=n[c]._labels&&0<n[c]._labels.length?n[c]._labels[n[c]._labels.length-1].textBlock.height/2:0,v=Math.round(u.y1+Oe+$e<Math.max(ge,m)?Math.max(ge,m):u.y1+Oe+$e),ge=0<i.length?0:n[c]._labels&&0<n[c]._labels.length?n[c]._labels[0].textBlock.height/2:0,g=Math.round(u.y2-(Ve+a+ge)),n[c].lineCoordinates={x1:f+Ge,y1:v,x2:f+Ge,y2:g,height:Math.abs(g-v)},n[c].labelPlacement==="inside"&&0<c&&(n[c].lineCoordinates.x1=n[c-1].lineCoordinates.x2+Ge+(n[c].labelEffectiveWidth||0),n[c].lineCoordinates.x2=n[c].lineCoordinates.x1+n[c].lineThickness/2),n[c].tickPlacement==="inside"&&0<c&&(n[c].lineCoordinates.x1+=n[c].tickLength,n[c].lineCoordinates.x2=n[c].lineCoordinates.x1+n[c].lineThickness/2),n[c].bounds={x1:f+Ge,y1:v,x2:b+(O[c]+Ge),y2:g,height:g-v},n[c].bounds.width=n[c].bounds.x2-n[c].bounds.x1,n[c].title&&(n[c]._titleTextBlock.maxWidth=0<n[c].titleMaxWidth&&n[c].titleMaxWidth<n[c].lineCoordinates.height?n[c].titleMaxWidth:n[c].lineCoordinates.height),Ge+=O[c]+n[c].margin);if(i&&0<i.length)for(c=0;c<i.length;c++)i[c]&&(i[c].calculateValueToPixelConversionParameters(),i[c].calculateBreaksSizeInValues(),i[c]._labels&&1<i[c]._labels.length&&(R=(i[c].logarithmic?Math.log(i[c]._labels[1].position/i[c].viewportMinimum)/i[c].conversionParameters.lnLogarithmBase:i[c]._labels[1].position-i[c].viewportMinimum)*Math.abs(i[c].conversionParameters.pixelPerUnit)+i[c].lineCoordinates.x1,f=i[c]._labels[i[c]._labels.length-(i[c].valueType==="dateTime"?2:1)].position,f=i[c].getApparentDifference(i[c].viewportMinimum,f),G=i[c].logarithmic?(1<f?Math.log(f)/i[c].conversionParameters.lnLogarithmBase*Math.abs(i[c].conversionParameters.pixelPerUnit):0)+i[c].lineCoordinates.x1:(0<f?f*Math.abs(i[c].conversionParameters.pixelPerUnit):0)+i[c].lineCoordinates.x1));if(h&&0<h.length)for(c=0;c<h.length;c++)h[c].calculateValueToPixelConversionParameters(),h[c].calculateBreaksSizeInValues(),h[c]._labels&&1<h[c]._labels.length&&(R=(h[c].logarithmic?Math.log(h[c]._labels[1].position/h[c].viewportMinimum)/h[c].conversionParameters.lnLogarithmBase:h[c]._labels[1].position-h[c].viewportMinimum)*Math.abs(h[c].conversionParameters.pixelPerUnit)+h[c].lineCoordinates.x1,f=h[c]._labels[h[c]._labels.length-(h[c].valueType==="dateTime"?2:1)].position,f=h[c].getApparentDifference(h[c].viewportMinimum,f),G=h[c].logarithmic?(1<f?Math.log(f)/h[c].conversionParameters.lnLogarithmBase*Math.abs(h[c].conversionParameters.pixelPerUnit):0)+h[c].lineCoordinates.x1:(0<f?f*Math.abs(h[c].conversionParameters.pixelPerUnit):0)+h[c].lineCoordinates.x1);for(c=0;c<x.length;c++)x[c].type==="axisY"&&(x[c].calculateValueToPixelConversionParameters(),x[c].calculateBreaksSizeInValues());if(0<S){if(i&&0<i.length)for(c=0;c<i.length;c++)C=W[S-1][c]===W[S][c];else C=!0;if(h&&0<h.length)for(c=0;c<h.length;c++)U=N[S-1][c]===N[S][c];else U=!0;if(o&&0<o.length)for(c=0;c<o.length;c++)z=Z[S-1][c]===Z[S][c];else z=!0;if(n&&0<n.length)for(c=0;c<n.length;c++)X=ie[S-1][c]===ie[S][c];else X=!0}if(C&&U&&z&&X)break;S++}if(i&&0<i.length)for(c=0;c<i.length;c++)i[c].calculateStripLinesThicknessInValues(),i[c].calculateBreaksInPixels();if(h&&0<h.length)for(c=0;c<h.length;c++)h[c].calculateStripLinesThicknessInValues(),h[c].calculateBreaksInPixels();if(o&&0<o.length)for(c=0;c<o.length;c++)o[c].calculateStripLinesThicknessInValues(),o[c].calculateBreaksInPixels();if(n&&0<n.length)for(c=0;c<n.length;c++)n[c].calculateStripLinesThicknessInValues(),n[c].calculateBreaksInPixels()}else{for(m=[],R=[],q=[],I=[],G=[],T=[],W=[],N=[];4>S;){if(Ve=Ge=Le=bt=ge=$e=a=ie=Z=B=Oe=0,i&&0<i.length)for(q=[],c=Ge=0;c<i.length;c++)q.push(Math.ceil(i[c]?i[c].createLabelsAndCalculateWidth():0)),Ge+=q[c],a+=i[c]&&!p.isNavigator?i[c].margin:0;else q.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(W.push(q),h&&0<h.length)for(I=[],c=Ve=0;c<h.length;c++)I.push(Math.ceil(h[c]?h[c].createLabelsAndCalculateWidth():0)),Ve+=I[c],$e+=h[c]?h[c].margin:0;else I.push(Math.ceil(h[0]?h[0].createLabelsAndCalculateWidth():0));if(N.push(I),o&&0<o.length)for(c=0;c<o.length;c++)o[c].lineCoordinates={},f=Math.round(u.x1+Ge+a),b=Math.round(u.x2-Ve-$e>p.width-10?p.width-10:u.x2-Ve-$e),o[c].labelAutoFit&&!M(_)&&(0<!i.length&&(f=0>o[c].labelAngle?Math.max(f,_):o[c].labelAngle===0?Math.max(f,_/2):f),0<!h.length&&(b=0<o[c].labelAngle||o[c].labelAngle===0?b-k/2:b)),o[c].lineCoordinates.x1=f,o[c].lineCoordinates.x2=b,o[c].lineCoordinates.width=Math.abs(b-f),o[c].title&&(o[c]._titleTextBlock.maxWidth=0<o[c].titleMaxWidth&&o[c].titleMaxWidth<o[c].lineCoordinates.width?o[c].titleMaxWidth:o[c].lineCoordinates.width);if(n&&0<n.length)for(c=0;c<n.length;c++)n[c].lineCoordinates={},f=Math.round(u.x1+Ge+a),b=Math.round(u.x2-Ve-$e>n[c].chart.width-10?n[c].chart.width-10:u.x2-Ve-$e),n[c]&&n[c].labelAutoFit&&!M(L)&&(0<!i.length&&(f=0<n[c].labelAngle?Math.max(f,L):n[c].labelAngle===0?Math.max(f,L/2):f),0<!h.length&&(b-=O/2)),n[c].lineCoordinates.x1=f,n[c].lineCoordinates.x2=b,n[c].lineCoordinates.width=Math.abs(b-f),n[c].title&&(n[c]._titleTextBlock.maxWidth=0<n[c].titleMaxWidth&&n[c].titleMaxWidth<n[c].lineCoordinates.width?n[c].titleMaxWidth:n[c].lineCoordinates.width);if(o&&0<o.length)for(m=[],c=Le=0;c<o.length;c++)m.push(Math.ceil(o[c]?o[c].createLabelsAndCalculateHeight():0)),Le+=m[c]+o[c].margin,ge+=o[c].margin;else m.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(G.push(m),n&&0<n.length)for(R=[],c=0;c<n.length;c++)R.push(Math.ceil(n[c]?n[c].createLabelsAndCalculateHeight():0)),bt+=n[c].margin;else R.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(T.push(R),o&&0<o.length)for(c=0;c<o.length;c++)0<o[c]._labels.length&&(g=o[c]._labels[0],v=o[c]._labels[o[c]._labels.length-1],_=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle)),k=v.textBlock.width*Math.cos(Math.PI/180*Math.abs(v.textBlock.angle))+(v.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(v.textBlock.angle)));if(n&&0<n.length)for(c=0;c<n.length;c++)n[c]&&0<n[c]._labels.length&&(g=n[c]._labels[0],v=n[c]._labels[n[c]._labels.length-1],L=g.textBlock.width*Math.cos(Math.PI/180*Math.abs(g.textBlock.angle))+(g.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(g.textBlock.angle)),O=v.textBlock.width*Math.cos(Math.PI/180*Math.abs(v.textBlock.angle))+(v.textBlock.height-v.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(v.textBlock.angle)));if(p.panEnabled)for(c=0;c<o.length;c++)m[c]=M(p.sessionVariables.axisY[c].height)?p.sessionVariables.axisY[c].height=m[c]:p.sessionVariables.axisY[c].height;else for(c=0;c<o.length;c++)p.sessionVariables.axisY[c].height=m[c];if(o&&0<o.length)for(c=o.length-1;0<=c;c--)v=Math.round(u.y2),g=Math.round(u.y2>o[c].chart.height?o[c].chart.height:u.y2),o[c].lineCoordinates.y1=v-(m[c]+o[c].margin+Oe),o[c].lineCoordinates.y2=v-(m[c]+o[c].margin+Oe),o[c].labelPlacement==="inside"&&0<c&&(o[c].lineCoordinates.y1=o[c].lineCoordinates.y1+m[c]-(o[c]._titleTextBlock?o[c]._titleTextBlock.height:0)-o[c].tickLength-(o[c].stripLineLabelEffectiveHeight||0)-5,o[c].lineCoordinates.y2=o[c].lineCoordinates.y1+o[c].lineThickness/2),o[c].tickPlacement==="inside"&&0<c&&(o[c].lineCoordinates.y1+=o[c].tickLength,o[c].lineCoordinates.y2=o[c].lineCoordinates.y1+o[c].lineThickness/2),o[c].bounds={x1:f,y1:v-(m[c]+Oe+o[c].margin),x2:b,y2:g-(Oe+o[c].margin),width:b-f,height:m[c]},o[c].title&&(o[c]._titleTextBlock.maxWidth=0<o[c].titleMaxWidth&&o[c].titleMaxWidth<o[c].lineCoordinates.width?o[c].titleMaxWidth:o[c].lineCoordinates.width),Oe+=m[c]+o[c].margin;if(n&&0<n.length)for(c=n.length-1;0<=c;c--)n[c]&&(v=Math.round(u.y1),g=Math.round(u.y1+(R[c]+n[c].margin+B)),n[c].lineCoordinates.y1=g,n[c].lineCoordinates.y2=g,n[c].labelPlacement==="inside"&&0<c&&(n[c].lineCoordinates.y1=g-R[c]+(n[c]._titleTextBlock?n[c]._titleTextBlock.height:0)+n[c].tickLength+(n[c].stripLineLabelEffectiveHeight||0),n[c].lineCoordinates.y2=n[c].lineCoordinates.y1-n[c].lineThickness/2),n[c].tickPlacement==="inside"&&0<c&&(n[c].lineCoordinates.y1-=n[c].tickLength,n[c].lineCoordinates.y2=n[c].lineCoordinates.y1-n[c].lineThickness/2),n[c].bounds={x1:f,y1:v+(n[c].margin+B),x2:b,y2:g,width:b-f},n[c].bounds.height=n[c].bounds.y2-n[c].bounds.y1,n[c].title&&(n[c]._titleTextBlock.maxWidth=0<n[c].titleMaxWidth&&n[c].titleMaxWidth<n[c].lineCoordinates.width?n[c].titleMaxWidth:n[c].lineCoordinates.width),B+=R[c]+n[c].margin);if(i&&0<i.length)for(c=0;c<i.length;c++){if(ge=i[c]._labels&&0<i[c]._labels.length?i[c]._labels[0].textBlock.fontSize/2:0,f=Math.round(u.x1+a),v=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:u.y1<Math.max(ge,10)?Math.max(ge,10):u.y1):u.y1<Math.max(ge,10)?Math.max(ge,10):u.y1,b=Math.round(u.x1+Ge+a),g=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:u.y2-Le>p.height-Math.max(ge,10)?p.height-Math.max(ge,10):u.y2-Le):u.y2>p.height-Math.max(ge,10)?p.height-Math.max(ge,10):u.y2,o&&0<o.length)for(ge=0;ge<o.length;ge++)o[ge]&&o[ge].labelAutoFit&&(b=o[ge].lineCoordinates.x1,f=0>o[ge].labelAngle||o[ge].labelAngle===0?b-Ge:f);if(n&&0<n.length)for(ge=0;ge<n.length;ge++)n[ge]&&n[ge].labelAutoFit&&(b=n[ge].lineCoordinates.x1,f=b-Ge);i[c].lineCoordinates={x1:b-Z,y1:v,x2:b-Z,y2:g,height:Math.abs(g-v)},i[c].labelPlacement==="inside"&&0<c&&(i[c].lineCoordinates.x1=i[c].lineCoordinates.x1-(q[c]-(i[c]._titleTextBlock?i[c]._titleTextBlock.height:0))+i[c].tickLength+(i[c].stripLineLabelEffectiveWidth||0),i[c].lineCoordinates.x2=i[c].lineCoordinates.x1+i[c].lineThickness/2),i[c].tickPlacement==="inside"&&0<c&&(i[c].lineCoordinates.x1-=i[c].tickLength,i[c].lineCoordinates.x2=i[c].lineCoordinates.x1+i[c].lineThickness/2),i[c].bounds={x1:b-(q[c]+Z),y1:v,x2:b-Z,y2:g,height:g-v},i[c].bounds.width=i[c].bounds.x2-i[c].bounds.x1,i[c].title&&(i[c]._titleTextBlock.maxWidth=0<i[c].titleMaxWidth&&i[c].titleMaxWidth<i[c].lineCoordinates.height?i[c].titleMaxWidth:i[c].lineCoordinates.height),i[c].calculateValueToPixelConversionParameters(),i[c].calculateBreaksSizeInValues(),Z+=q[c]+i[c].margin}if(h&&0<h.length)for(c=0;c<h.length;c++){if(ge=h[c]._labels&&0<h[c]._labels.length?h[c]._labels[0].textBlock.fontSize/2:0,f=Math.round(u.x1-a),v=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:u.y1<Math.max(ge,10)?Math.max(ge,10):u.y1):u.y1<Math.max(ge,10)?Math.max(ge,10):u.y1,b=Math.round(u.x2-Ve-$e),g=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:u.y2-Le>p.height-Math.max(ge,10)?p.height-Math.max(ge,10):u.y2-Le):u.y2>p.height-Math.max(ge,10)?p.height-Math.max(ge,10):u.y2,o&&0<o.length)for(ge=0;ge<o.length;ge++)o[ge]&&o[ge].labelAutoFit&&(b=0>o[ge].labelAngle?Math.max(b,_):o[ge].labelAngle===0?Math.max(b,_/2):b,f=0>o[ge].labelAngle||o[ge].labelAngle===0?b-Ve:f);if(n&&0<n.length)for(ge=0;ge<n.length;ge++)n[ge]&&n[ge].labelAutoFit&&(b=n[ge].lineCoordinates.x2,f=b-Ve);h[c].lineCoordinates={x1:b+ie,y1:v,x2:b+ie,y2:g,height:Math.abs(g-v)},h[c].labelPlacement==="inside"&&0<c&&(h[c].lineCoordinates.x1=h[c].lineCoordinates.x1+(I[c]-(h[c]._titleTextBlock?h[c]._titleTextBlock.height:0)-2)-h[c].tickLength-(h[c].stripLineLabelEffectiveWidth||0),h[c].lineCoordinates.x2=h[c].lineCoordinates.x1+h[c].lineThickness/2),h[c].tickPlacement==="inside"&&0<c&&(h[c].lineCoordinates.x1+=h[c].tickLength,h[c].lineCoordinates.x2=h[c].lineCoordinates.x1+h[c].lineThickness/2),h[c].bounds={x1:h[c].lineCoordinates.x1,y1:v,x2:b+I[c]+ie,y2:g,width:b-f,height:g-v},h[c].bounds.width=h[c].bounds.x2-h[c].bounds.x1,h[c].title&&(h[c]._titleTextBlock.maxWidth=0<h[c].titleMaxWidth&&h[c].titleMaxWidth<h[c].lineCoordinates.height?h[c].titleMaxWidth:h[c].lineCoordinates.height),h[c].calculateValueToPixelConversionParameters(),h[c].calculateBreaksSizeInValues(),ie+=I[c]+h[c].margin}for(c=0;c<x.length;c++)x[c].type==="axisY"&&(x[c].calculateValueToPixelConversionParameters(),x[c].calculateBreaksSizeInValues());if(0<S){if(i&&0<i.length)for(c=0;c<i.length;c++)C=W[S-1][c]===W[S][c];else C=!0;if(h&&0<h.length)for(c=0;c<h.length;c++)U=N[S-1][c]===N[S][c];else U=!0;if(o&&0<o.length)for(c=0;c<o.length;c++)z=G[S-1][c]===G[S][c];else z=!0;if(n&&0<n.length)for(c=0;c<n.length;c++)X=T[S-1][c]===T[S][c];else X=!0}if(C&&U&&z&&X)break;S++}if(o&&0<o.length)for(c=0;c<o.length;c++)o[c].calculateStripLinesThicknessInValues(),o[c].calculateBreaksInPixels();if(n&&0<n.length)for(c=0;c<n.length;c++)n[c].calculateStripLinesThicknessInValues(),n[c].calculateBreaksInPixels();if(i&&0<i.length)for(c=0;c<i.length;c++)i[c].calculateStripLinesThicknessInValues(),i[c].calculateBreaksInPixels();if(h&&0<h.length)for(c=0;c<h.length;c++)h[c].calculateStripLinesThicknessInValues(),h[c].calculateBreaksInPixels()}},K.render=function(i,h,o,n,a){var u=i[0]?i[0].chart:h[0].chart;if(a=u.ctx,u.alignVerticalAxes&&u.alignVerticalAxes(),a.save(),a.beginPath(),i&&i.length&&a.rect(5,i[0].bounds.y1,i[0].chart.width-10,i[i.length-1].bounds.y2),h&&h.length&&a.rect(5,h[h.length-1].bounds.y1,h[0].chart.width-10,h[0].bounds.y2),a.clip(),i&&0<i.length)for(var f=0;f<i.length;f++)i[f].renderLabelsTicksAndTitle();if(h&&0<h.length)for(f=0;f<h.length;f++)h[f].renderLabelsTicksAndTitle();if(a.restore(),o&&0<o.length)for(f=0;f<o.length;f++)o[f].renderLabelsTicksAndTitle();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].renderLabelsTicksAndTitle();if(u.preparePlotArea(),u=u.plotArea,a.save(),a.beginPath(),a.rect(u.x1,u.y1,Math.abs(u.x2-u.x1),Math.abs(u.y2-u.y1)),a.clip(),i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderStripLinesOfThicknessType("value");if(h&&0<h.length)for(f=0;f<h.length;f++)h[f].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(f=0;f<o.length;f++)o[f].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderInterlacedColors();if(h&&0<h.length)for(f=0;f<h.length;f++)h[f].renderInterlacedColors();if(o&&0<o.length)for(f=0;f<o.length;f++)o[f].renderInterlacedColors();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].renderInterlacedColors();if(a.restore(),i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderGrid(),V&&(i[f].createMask(),i[f].renderBreaksBackground());if(h&&0<h.length)for(f=0;f<h.length;f++)h[f].renderGrid(),V&&(h[f].createMask(),h[f].renderBreaksBackground());if(o&&0<o.length)for(f=0;f<o.length;f++)o[f].renderGrid(),V&&(o[f].createMask(),o[f].renderBreaksBackground());if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].renderGrid(),V&&(n[f].createMask(),n[f].renderBreaksBackground());if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderAxisLine();if(h&&0<h.length)for(f=0;f<h.length;f++)h[f].renderAxisLine();if(o&&0<o.length)for(f=0;f<o.length;f++)o[f].renderAxisLine();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].renderAxisLine();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].renderStripLinesOfThicknessType("pixel");if(h&&0<h.length)for(f=0;f<h.length;f++)h[f].renderStripLinesOfThicknessType("pixel");if(o&&0<o.length)for(f=0;f<o.length;f++)o[f].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].renderStripLinesOfThicknessType("pixel")},K.prototype.calculateStripLinesThicknessInValues=function(){for(var i=0;i<this.stripLines.length;i++)if(this.stripLines[i].startValue!==null&&this.stripLines[i].endValue!==null){var h=Math.min(this.stripLines[i].startValue,this.stripLines[i].endValue),o=Math.max(this.stripLines[i].startValue,this.stripLines[i].endValue),n=this.getApparentDifference(h,o);this.stripLines[i].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(h)+this.convertValueToPixel(o))/2),this.stripLines[i].thickness=n,this.stripLines[i]._thicknessType="value"}},K.prototype.calculateBreaksSizeInValues=function(){for(var i=this._position==="left"||this._position==="right"?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,h=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],o=this.conversionParameters.pixelPerUnit||i/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),n=this.scaleBreaks&&!M(this.scaleBreaks.options.spacing),a,u=0;u<h.length;u++)a=n||!M(h[u].options.spacing),h[u].spacing=$i(h[u].spacing,i,8,a?.1*i:8,a?0:3)<<0,h[u].size=0>h[u].spacing?0:Math.abs(h[u].spacing/o),this.logarithmic&&(h[u].size=Math.pow(this.logarithmBase,h[u].size))},K.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];i.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var h=0;h<i.length&&!(i[h].startValue>this.conversionParameters.maximum);h++)i[h].endValue<this.conversionParameters.minimum||(M(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=h),i[h].startValue>=this.conversionParameters.minimum&&(i[h].startPixel=this.convertValueToPixel(i[h].startValue),this.scaleBreaks.lastBreakIndex=h),i[h].endValue<=this.conversionParameters.maximum&&(i[h].endPixel=this.convertValueToPixel(i[h].endValue)))}},K.prototype.renderLabelsTicksAndTitle=function(){var i=this,h=!1,o=0,n=0,a=1,u=0;if(this.labelAngle!==0&&this.labelAngle!==360&&(a=1.2),typeof this.options.interval>"u"){if(this._position==="bottom"||this._position==="top")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var o=[],a=this.labelAngle!==0&&this.labelAngle!==360?1:1.2,f,v=this.viewportMaximum,b=this.lineCoordinates.width/Math.log(this.range),p=this._labels.length-1;0<=p&&(m=this._labels[p],!(m.position<this.viewportMinimum));p--)m.position>this.viewportMaximum||!(p===this._labels.length-1||f<Math.log(v/m.position)*b/a)||(o.push(m),v=m.position,f=m.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||(f=m.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),o+=f);o>this.lineCoordinates.width*a&&this.labelAutoFit&&(h=!0)}if(this._position==="left"||this._position==="right")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var o=[],g,v=this.viewportMaximum,b=this.lineCoordinates.height/Math.log(this.range),p=this._labels.length-1;0<=p&&(m=this._labels[p],!(m.position<this.viewportMinimum));p--)m.position>this.viewportMaximum||!(p===this._labels.length-1||g<Math.log(v/m.position)*b)||(o.push(m),v=m.position,g=m.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||(g=m.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),n+=g);n>this.lineCoordinates.height*a&&this.labelAutoFit&&(h=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(c,C){return c.position-C.position});var p=0,m,x;if(this._position==="bottom"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0,this.ctx.beginPath(),this.ctx.moveTo(n,x.y<<0),this.ctx.lineTo(n,x.y+this.tickLength<<0),this.ctx.stroke()),h&&u++%2!==0&&this.labelAutoFit||(m.textBlock.angle===0?(x.x-=m.textBlock.width/2,x.y=this.labelPlacement==="inside"?x.y-((this.tickPlacement==="inside"?this.tickLength:0)+m.textBlock.height-m.textBlock.fontSize/2):x.y+(this.tickPlacement==="inside"?0:this.tickLength)+m.textBlock.fontSize/2+5):(x.x=this.labelPlacement==="inside"?0>this.labelAngle?x.x:x.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):x.x-(0>this.labelAngle?m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),x.y=this.labelPlacement==="inside"?0>this.labelAngle?x.y-(this.tickPlacement==="inside"?this.tickLength:0)-5:x.y-(this.tickPlacement==="inside"?this.tickLength:0)-Math.abs(m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):x.y+(this.tickPlacement==="inside"?0:this.tickLength)+Math.abs(0>this.labelAngle?m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),m.textBlock.x=x.x,m.textBlock.y=x.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<i._labels.length;p++)if(m=i._labels[p],!(m.position<i.viewportMinimum||m.position>i.viewportMaximum)&&(x=i.getPixelCoordinatesOnAxis(m.position),i.tickThickness)){i.ctx.lineWidth=i.tickThickness,i.ctx.strokeStyle=i.tickColor;var c=i.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0;i.ctx.save(),i.ctx.beginPath(),i.ctx.moveTo(c,x.y<<0),i.ctx.lineTo(c,x.y-i.tickLength<<0),i.ctx.stroke(),i.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock.fontSize/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="top"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0,this.ctx.beginPath(),this.ctx.moveTo(n,x.y<<0),this.ctx.lineTo(n,x.y-this.tickLength<<0),this.ctx.stroke()),h&&u++%2!==0&&this.labelAutoFit||(m.textBlock.angle===0?(x.x-=m.textBlock.width/2,x.y=this.labelPlacement==="inside"?x.y+this.labelFontSize/2+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.y-((this.tickPlacement==="inside"?0:this.tickLength)+m.textBlock.height-m.textBlock.fontSize/2)):(x.x=this.labelPlacement==="inside"?0<this.labelAngle?x.x:x.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):x.x+(m.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),x.y=this.labelPlacement==="inside"?0<this.labelAngle?x.y+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.y-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.y-((this.tickPlacement==="inside"?0:this.tickLength)+((m.textBlock.height-m.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),m.textBlock.x=x.x,m.textBlock.y=x.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<i._labels.length;p++)if(m=i._labels[p],!(m.position<i.viewportMinimum||m.position>i.viewportMaximum)&&(x=i.getPixelCoordinatesOnAxis(m.position),i.tickThickness)){i.ctx.lineWidth=i.tickThickness,i.ctx.strokeStyle=i.tickColor;var c=i.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0;i.ctx.save(),i.ctx.beginPath(),i.ctx.moveTo(c,x.y<<0),i.ctx.lineTo(c,x.y+i.tickLength<<0),i.ctx.stroke(),i.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock.fontSize/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="left"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0,this.ctx.beginPath(),this.ctx.moveTo(x.x<<0,n),this.ctx.lineTo(x.x-this.tickLength<<0,n),this.ctx.stroke()),h&&u++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(m.textBlock.y=x.y,m.textBlock.x=this.labelPlacement==="inside"?x.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):(m.textBlock.y=this.labelPlacement==="inside"?x.y:x.y-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),m.textBlock.x=this.labelPlacement==="inside"?x.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:0<this.labelAngle?x.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5:x.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(m.textBlock.height-m.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength))));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<i._labels.length;p++)if(m=i._labels[p],!(m.position<i.viewportMinimum||m.position>i.viewportMaximum)&&(x=i.getPixelCoordinatesOnAxis(m.position),i.tickThickness)){i.ctx.lineWidth=i.tickThickness,i.ctx.strokeStyle=i.tickColor;var c=i.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0;i.ctx.save(),i.ctx.beginPath(),i.ctx.moveTo(x.x<<0,c),i.ctx.lineTo(x.x+i.tickLength<<0,c),i.ctx.stroke(),i.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock.fontSize/2+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="right"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0,this.ctx.beginPath(),this.ctx.moveTo(x.x<<0,n),this.ctx.lineTo(x.x+this.tickLength<<0,n),this.ctx.stroke()),h&&u++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(m.textBlock.y=x.y,m.textBlock.x=this.labelPlacement==="inside"?x.x-m.textBlock.width-(this.tickPlacement==="inside"?this.tickLength:0)-5:x.x+(this.tickPlacement==="inside"?0:this.tickLength)+5):(m.textBlock.y=this.labelPlacement==="inside"?x.y-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?x.y:x.y-(m.textBlock.height-m.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),m.textBlock.x=this.labelPlacement==="inside"?x.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:0<this.labelAngle?x.x+(m.textBlock.height-m.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength):x.x+(this.tickPlacement==="inside"?0:this.tickLength)+5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<i._labels.length;p++)if(m=i._labels[p],!(m.position<i.viewportMinimum||m.position>i.viewportMaximum)&&(x=i.getPixelCoordinatesOnAxis(m.position),i.tickThickness)){i.ctx.lineWidth=i.tickThickness,i.ctx.strokeStyle=i.tickColor;var c=i.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0;i.ctx.save(),i.ctx.beginPath(),i.ctx.moveTo(x.x<<0,c),i.ctx.lineTo(x.x-i.tickLength<<0,c),i.ctx.stroke(),i.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock.fontSize/2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(u=0,this.labelPlacement==="inside")this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<i._labels.length;p++)m=i._labels[p],m.position<i.viewportMinimum||m.position>i.viewportMaximum||h&&u++%2!==0&&i.labelAutoFit||(i.ctx.save(),i.ctx.beginPath(),m.textBlock.render(!0),i.ctx.restore())},this);else for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||h&&u++%2!==0&&this.labelAutoFit||m.textBlock.render(!0)},K.prototype.renderInterlacedColors=function(){var i=this.chart.plotArea.ctx,h,o,n=this.chart.plotArea,a=0;if(h=!0,(this._position==="bottom"||this._position==="top")&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)h?(h=this.getPixelCoordinatesOnAxis(this._labels[a].position),o=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),i.fillRect(Math.min(o.x,h.x),n.y1,Math.abs(o.x-h.x),Math.abs(n.y1-n.y2)),h=!1):h=!0;else if((this._position==="left"||this._position==="right")&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)h?(o=this.getPixelCoordinatesOnAxis(this._labels[a].position),h=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),i.fillRect(n.x1,Math.min(o.y,h.y),Math.abs(n.x1-n.x2),Math.abs(h.y-o.y)),h=!1):h=!0;i.beginPath()},K.prototype.renderStripLinesOfThicknessType=function(i){if(this.stripLines&&0<this.stripLines.length&&i){var h=this,o,n,a=0,u=0,f=!1;n=!1;for(var v=[],b=[],g=!1,a=0;a<this.stripLines.length;a++){var p=this.stripLines[a];p._thicknessType===i&&(i==="pixel"&&(p.value<this.viewportMinimum||p.value>this.viewportMaximum||M(p.value)||isNaN(this.range))||i==="value"&&(p.startValue<=this.viewportMinimum&&p.endValue<=this.viewportMinimum||p.startValue>=this.viewportMaximum&&p.endValue>=this.viewportMaximum||M(p.startValue)||M(p.endValue)||isNaN(this.range))||v.push(p))}for(a=0;a<this._stripLineLabels.length;a++)if(p=this.stripLines[a],o=this._stripLineLabels[a],!(o.position<this.viewportMinimum||o.position>this.viewportMaximum||isNaN(this.range)))if(n=this.getPixelCoordinatesOnAxis(o.position),o.stripLine.labelPlacement==="outside"){if(p&&(this.ctx.strokeStyle=p.color,this.ctx.lineWidth=p._thicknessType==="pixel"?p.thickness:this.tickThickness),this._position==="bottom"){var m=this.ctx.lineWidth%2===1?(n.x<<0)+.5:n.x<<0;this.ctx.beginPath(),this.ctx.moveTo(m,n.y<<0),this.ctx.lineTo(m,n.y+this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(n.x-=o.textBlock.width/2,n.y+=this.tickLength+o.textBlock.fontSize/2+5):(n.x-=0>this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,n.y+=this.tickLength+Math.abs(0>this.labelAngle?o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else this._position==="top"?(m=this.ctx.lineWidth%2===1?(n.x<<0)+.5:n.x<<0,this.ctx.beginPath(),this.ctx.moveTo(m,n.y<<0),this.ctx.lineTo(m,n.y-this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(n.x-=o.textBlock.width/2,n.y-=this.tickLength+o.textBlock.height-o.textBlock.fontSize/2):(n.x+=(o.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),n.y-=this.tickLength+(o.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):this._position==="left"?(m=this.ctx.lineWidth%2===1?(n.y<<0)+.5:n.y<<0,this.ctx.beginPath(),this.ctx.moveTo(n.x<<0,m),this.ctx.lineTo(n.x-this.tickLength<<0,m),this.ctx.stroke(),this.labelAngle===0?n.x=n.x-o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(n.y-=o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),n.x=0<this.labelAngle?n.x-o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:n.x-o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(o.textBlock.height-o.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):this._position==="right"&&(m=this.ctx.lineWidth%2===1?(n.y<<0)+.5:n.y<<0,this.ctx.beginPath(),this.ctx.moveTo(n.x<<0,m),this.ctx.lineTo(n.x+this.tickLength<<0,m),this.ctx.stroke(),this.labelAngle===0?n.x=n.x+this.tickLength+5:(n.y=0>this.labelAngle?n.y:n.y-(o.textBlock.height-o.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),n.x=0<this.labelAngle?n.x+(o.textBlock.height-o.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:n.x+this.tickLength+5));o.textBlock.x=n.x,o.textBlock.y=n.y,b.push(o)}else p._thicknessType===i&&(o.textBlock.angle=-90,this._position==="bottom"?(o.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-p.thickness/2>this.chart.plotArea.x1?M(p.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,M(p.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=o.textBlock.angle===-90?o.stripLine.labelAlign==="near"?this.chart.plotArea.y2-3:o.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y1+o.textBlock.width+3:o.stripLine.labelAlign==="near"?this.chart.plotArea.y2-o.textBlock.width-3:o.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y1+3):this._position==="top"?(o.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-p.thickness/2>this.chart.plotArea.x1?M(p.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,M(p.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=o.textBlock.angle===-90?o.stripLine.labelAlign==="near"?this.chart.plotArea.y1+o.textBlock.width+3:o.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y2-3:o.stripLine.labelAlign==="near"?this.chart.plotArea.y1+3:o.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y2-o.textBlock.width-3):this._position==="left"?(o.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-p.thickness/2>this.chart.plotArea.y1?M(p.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:M(p.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.y+=o.textBlock.height/2-o.textBlock.fontSize+3,n.x=o.stripLine.labelAlign==="near"?this.chart.plotArea.x1+3:o.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x2-o.textBlock.width-3):this._position==="right"&&(o.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-p.thickness/2>this.chart.plotArea.y1?M(p.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:M(p.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+p.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2+3,n.x=o.stripLine.labelAlign==="near"?this.chart.plotArea.x2-o.textBlock.width-3:o.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x1+3),o.textBlock.x=n.x,o.textBlock.y=n.y,b.push(o));if(!g){for(n=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),a=0;a<v.length;a++)p=v[a],p.showOnTop?f||(f=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),u=0;u<v.length;u++)p=v[u],p.showOnTop&&p.render();this.ctx.restore()},p)):p.render();for(a=0;a<b.length;a++)o=b[a],o.stripLine.showOnTop?n||(n=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(u=0;u<b.length;u++)o=b[u],o.stripLine.labelPlacement==="inside"&&o.stripLine.showOnTop&&(h.ctx.save(),h.ctx.beginPath(),h.ctx.rect(h.chart.plotArea.x1,h.chart.plotArea.y1,h.chart.plotArea.width,h.chart.plotArea.height),h.ctx.clip(),o.textBlock.render(!0),h.ctx.restore())},o.textBlock)):o.stripLine.labelPlacement==="inside"&&o.textBlock.render(!0);this.ctx.restore(),g=!0}if(g)for(n=!1,a=0;a<b.length;a++)o=b[a],o.stripLine.labelPlacement==="outside"&&o.textBlock.render(!0)}},K.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},K.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var i=this.scaleBreaks._appliedBreaks;V?(this.maskCanvas=xt(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var h=0;h<i.length;h++)i[h].endValue<this.viewportMinimum||i[h].startValue>this.viewportMaximum||isNaN(this.range)||i[h].render(this.maskCtx);this.maskCtx.restore()}},K.prototype.renderCrosshair=function(i,h){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(i,h)},K.prototype.showCrosshair=function(i){M(i)||i<this.viewportMinimum||i>this.viewportMaximum||(this._position==="top"||this._position==="bottom"?this.crosshair.render(this.convertValueToPixel(i),null,i):this.crosshair.render(null,this.convertValueToPixel(i),i))},K.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var i=this.chart.ctx;i.save();var h,o=this.chart.plotArea;if(i.lineWidth=this.gridThickness,i.strokeStyle=this.gridColor,i.setLineDash&&i.setLineDash(te(this.gridDashType,this.gridThickness)),this._position==="bottom"||this._position==="top")for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(i.beginPath(),h=this.getPixelCoordinatesOnAxis(this._labels[n].position),h=i.lineWidth%2===1?(h.x<<0)+.5:h.x<<0,i.moveTo(h,o.y1<<0),i.lineTo(h,o.y2<<0),i.stroke());else if(this._position==="left"||this._position==="right")for(var n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(i.beginPath(),h=this.getPixelCoordinatesOnAxis(this._labels[n].position),h=i.lineWidth%2===1?(h.y<<0)+.5:h.y<<0,i.moveTo(o.x1<<0,h),i.lineTo(o.x2<<0,h),i.stroke());i.restore()}},K.prototype.renderAxisLine=function(){var i=this.chart.ctx,h=V?this.chart._preRenderCtx:i,o=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2)),a,u;if(h.save(),this._position==="bottom"||this._position==="top"){if(this.lineThickness){this.reversed?(a=this.lineCoordinates.x2,u=this.lineCoordinates.x1):(a=this.lineCoordinates.x1,u=this.lineCoordinates.x2),h.lineWidth=this.lineThickness,h.strokeStyle=this.lineColor?this.lineColor:"black",h.setLineDash&&h.setLineDash(te(this.lineDashType,this.lineThickness));var f=this.lineThickness%2===1?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;if(h.beginPath(),this.scaleBreaks&&!M(this.scaleBreaks.firstBreakIndex))if(M(this.scaleBreaks.lastBreakIndex))a=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var v=this.scaleBreaks.firstBreakIndex;v<=this.scaleBreaks.lastBreakIndex;v++)h.moveTo(a,f),h.lineTo(this.scaleBreaks._appliedBreaks[v].startPixel+o,f),a=this.scaleBreaks._appliedBreaks[v].endPixel+n;a&&(h.moveTo(a,f),h.lineTo(u,f)),h.stroke()}}else if((this._position==="left"||this._position==="right")&&this.lineThickness){if(this.reversed?(a=this.lineCoordinates.y1,u=this.lineCoordinates.y2):(a=this.lineCoordinates.y2,u=this.lineCoordinates.y1),h.lineWidth=this.lineThickness,h.strokeStyle=this.lineColor,h.setLineDash&&h.setLineDash(te(this.lineDashType,this.lineThickness)),f=this.lineThickness%2===1?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,h.beginPath(),this.scaleBreaks&&!M(this.scaleBreaks.firstBreakIndex))if(M(this.scaleBreaks.lastBreakIndex))a=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(v=this.scaleBreaks.firstBreakIndex;v<=this.scaleBreaks.lastBreakIndex;v++)h.moveTo(f,a),h.lineTo(f,this.scaleBreaks._appliedBreaks[v].startPixel+n),a=this.scaleBreaks._appliedBreaks[v].endPixel+o;a&&(h.moveTo(f,a),h.lineTo(f,u)),h.stroke()}V&&(i.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),h.clearRect(0,0,this.chart.width,this.chart.height)),h.restore()},K.prototype.getPixelCoordinatesOnAxis=function(i){var h={};return(this._position==="bottom"||this._position==="top")&&(h.x=this.convertValueToPixel(i),h.y=this.lineCoordinates.y1),(this._position==="left"||this._position==="right")&&(h.y=this.convertValueToPixel(i),h.x=this.lineCoordinates.x2),h},K.prototype.convertPixelToValue=function(i){if(typeof i>"u")return null;var o=0,a=0,h,o=!0,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a=typeof i=="number"?i:this._position==="left"||this._position==="right"?i.y:i.x;if(this.logarithmic){if(i=h=Math.pow(this.logarithmBase,(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),a<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(a=0;a<n.length;a++)if(!(n[a].endValue<this.conversionParameters.minimum))if(o)if(n[a].startValue<this.conversionParameters.minimum){if(1<n[a].size&&this.conversionParameters.minimum*Math.pow(n[a].endValue/n[a].startValue,Math.log(h)/Math.log(n[a].size))<n[a].endValue){i=Math.pow(n[a].endValue/n[a].startValue,Math.log(h)/Math.log(n[a].size));break}else i*=n[a].endValue/this.conversionParameters.minimum/Math.pow(n[a].size,Math.log(n[a].endValue/this.conversionParameters.minimum)/Math.log(n[a].endValue/n[a].startValue)),h/=Math.pow(n[a].size,Math.log(n[a].endValue/this.conversionParameters.minimum)/Math.log(n[a].endValue/n[a].startValue));o=!1}else if(h>n[a].startValue/this.conversionParameters.minimum){if(h/=n[a].startValue/this.conversionParameters.minimum,h<n[a].size){i*=Math.pow(n[a].endValue/n[a].startValue,n[a].size===1?1:Math.log(h)/Math.log(n[a].size))/h;break}else i*=n[a].endValue/n[a].startValue/n[a].size;h/=n[a].size,o=!1}else break;else if(h>n[a].startValue/n[a-1].endValue){if(h/=n[a].startValue/n[a-1].endValue,h<n[a].size){i*=Math.pow(n[a].endValue/n[a].startValue,n[a].size===1?1:Math.log(h)/Math.log(n[a].size))/h;break}else i*=n[a].endValue/n[a].startValue/n[a].size;h/=n[a].size}else break}else for(a=n.length-1;0<=a;a--)if(!(n[a].startValue>this.conversionParameters.minimum))if(o)if(n[a].endValue>this.conversionParameters.minimum){if(1<n[a].size&&this.conversionParameters.minimum*Math.pow(n[a].endValue/n[a].startValue,Math.log(h)/Math.log(n[a].size))>n[a].startValue){i=Math.pow(n[a].endValue/n[a].startValue,Math.log(h)/Math.log(n[a].size));break}else i*=n[a].startValue/this.conversionParameters.minimum*Math.pow(n[a].size,Math.log(n[a].startValue/this.conversionParameters.minimum)/Math.log(n[a].endValue/n[a].startValue))*h,h*=Math.pow(n[a].size,Math.log(this.conversionParameters.minimum/n[a].startValue)/Math.log(n[a].endValue/n[a].startValue));o=!1}else if(h<n[a].endValue/this.conversionParameters.minimum){if(h/=n[a].endValue/this.conversionParameters.minimum,h>1/n[a].size){i*=Math.pow(n[a].endValue/n[a].startValue,1>=n[a].size?1:Math.log(h)/Math.log(n[a].size))*h;break}else i/=n[a].endValue/n[a].startValue/n[a].size;h*=n[a].size,o=!1}else break;else if(h<n[a].endValue/n[a+1].startValue){if(h/=n[a].endValue/n[a+1].startValue,h>1/n[a].size){i*=Math.pow(n[a].endValue/n[a].startValue,1>=n[a].size?1:Math.log(h)/Math.log(n[a].size))*h;break}else i/=n[a].endValue/n[a].startValue/n[a].size;h*=n[a].size}else break;o=i*this.viewportMinimum}else{if(i=h=(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,a<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(a=0;a<n.length;a++)if(!(n[a].endValue<this.conversionParameters.minimum))if(o)if(n[a].startValue<this.conversionParameters.minimum){if(n[a].size&&this.conversionParameters.minimum+h*(n[a].endValue-n[a].startValue)/n[a].size<n[a].endValue){i=0>=n[a].size?0:h*(n[a].endValue-n[a].startValue)/n[a].size;break}else i+=n[a].endValue-this.conversionParameters.minimum-n[a].size*(n[a].endValue-this.conversionParameters.minimum)/(n[a].endValue-n[a].startValue),h-=n[a].size*(n[a].endValue-this.conversionParameters.minimum)/(n[a].endValue-n[a].startValue);o=!1}else if(h>n[a].startValue-this.conversionParameters.minimum){if(h-=n[a].startValue-this.conversionParameters.minimum,h<n[a].size){i+=(n[a].endValue-n[a].startValue)*(n[a].size===0?1:h/n[a].size)-h;break}else i+=n[a].endValue-n[a].startValue-n[a].size;h-=n[a].size,o=!1}else break;else if(h>n[a].startValue-n[a-1].endValue){if(h-=n[a].startValue-n[a-1].endValue,h<n[a].size){i+=(n[a].endValue-n[a].startValue)*(n[a].size===0?1:h/n[a].size)-h;break}else i+=n[a].endValue-n[a].startValue-n[a].size;h-=n[a].size}else break}else for(a=n.length-1;0<=a;a--)if(!(n[a].startValue>this.conversionParameters.minimum))if(o)if(n[a].endValue>this.conversionParameters.minimum)if(n[a].size&&this.conversionParameters.minimum+h*(n[a].endValue-n[a].startValue)/n[a].size>n[a].startValue){i=0>=n[a].size?0:h*(n[a].endValue-n[a].startValue)/n[a].size;break}else i+=n[a].startValue-this.conversionParameters.minimum+n[a].size*(this.conversionParameters.minimum-n[a].startValue)/(n[a].endValue-n[a].startValue),h+=n[a].size*(this.conversionParameters.minimum-n[a].startValue)/(n[a].endValue-n[a].startValue),o=!1;else if(h<n[a].endValue-this.conversionParameters.minimum){if(h-=n[a].endValue-this.conversionParameters.minimum,h>-1*n[a].size){i+=(n[a].endValue-n[a].startValue)*(n[a].size===0?1:h/n[a].size)+h;break}else i-=n[a].endValue-n[a].startValue-n[a].size;h+=n[a].size,o=!1}else break;else if(h<n[a].endValue-n[a+1].startValue){if(h-=n[a].endValue-n[a+1].startValue,h>-1*n[a].size){i+=(n[a].endValue-n[a].startValue)*(n[a].size===0?1:h/n[a].size)+h;break}else i-=n[a].endValue-n[a].startValue-n[a].size;h+=n[a].size}else break;o=this.conversionParameters.minimum+i}return o},K.prototype.convertValueToPixel=function(i){return i=this.getApparentDifference(this.conversionParameters.minimum,i,i),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(i/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.type==="axisX"?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(i-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(i-this.conversionParameters.minimum)+.5},K.prototype.getApparentDifference=function(i,h,o,n){var a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){o=M(o)?h/i:o;for(var u=0;u<a.length&&!(h<a[u].startValue);u++)i>a[u].endValue||(i<=a[u].startValue&&h>=a[u].endValue?o=o/a[u].endValue*a[u].startValue*a[u].size:i>=a[u].startValue&&h>=a[u].endValue?o=o/a[u].endValue*i*Math.pow(a[u].size,Math.log(a[u].endValue/i)/Math.log(a[u].endValue/a[u].startValue)):i<=a[u].startValue&&h<=a[u].endValue?o=o/h*a[u].startValue*Math.pow(a[u].size,Math.log(h/a[u].startValue)/Math.log(a[u].endValue/a[u].startValue)):!n&&i>a[u].startValue&&h<a[u].endValue&&(o=i*Math.pow(a[u].size,Math.log(h/i)/Math.log(a[u].endValue/a[u].startValue))))}else for(o=M(o)?Math.abs(h-i):o,u=0;u<a.length&&!(h<a[u].startValue);u++)i>a[u].endValue||(i<=a[u].startValue&&h>=a[u].endValue?o=o-a[u].endValue+a[u].startValue+a[u].size:i>a[u].startValue&&h>=a[u].endValue?o=o-a[u].endValue+i+a[u].size*(a[u].endValue-i)/(a[u].endValue-a[u].startValue):i<=a[u].startValue&&h<a[u].endValue?o=o-h+a[u].startValue+a[u].size*(h-a[u].startValue)/(a[u].endValue-a[u].startValue):!n&&i>a[u].startValue&&h<a[u].endValue&&(o=i+a[u].size*(h-i)/(a[u].endValue-a[u].startValue)));return o},K.prototype.setViewPortRange=function(i,h){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(i,h),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(i,h)},K.prototype.getXValueAt=function(i){if(!i)return null;var h=null;return this._position==="left"?h=this.convertPixelToValue(i.y):this._position==="bottom"&&(h=this.convertPixelToValue(i.x)),h},K.prototype.calculateValueToPixelConversionParameters=function(i){i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var h={pixelPerUnit:null,minimum:null,reference:null},o=this.lineCoordinates.width,n=this.lineCoordinates.height,o=this._position==="bottom"||this._position==="top"?o:n,n=Math.abs(this.range);if(this.logarithmic)for(var a=0;a<i.length&&!(this.viewportMaximum<i[a].startValue);a++)this.viewportMinimum>i[a].endValue||(this.viewportMinimum>=i[a].startValue&&this.viewportMaximum<=i[a].endValue?o=0:this.viewportMinimum<=i[a].startValue&&this.viewportMaximum>=i[a].endValue?(n=n/i[a].endValue*i[a].startValue,o=0<i[a].spacing.toString().indexOf("%")?o*(1-parseFloat(i[a].spacing)/100):o-Math.min(i[a].spacing,.1*o)):this.viewportMinimum>i[a].startValue&&this.viewportMaximum>=i[a].endValue?(n=n/i[a].endValue*this.viewportMinimum,o=0<i[a].spacing.toString().indexOf("%")?o*(1-parseFloat(i[a].spacing)/100*Math.log(i[a].endValue/this.viewportMinimum)/Math.log(i[a].endValue/i[a].startValue)):o-Math.min(i[a].spacing,.1*o)*Math.log(i[a].endValue/this.viewportMinimum)/Math.log(i[a].endValue/i[a].startValue)):this.viewportMinimum<=i[a].startValue&&this.viewportMaximum<i[a].endValue&&(n=n/this.viewportMaximum*i[a].startValue,o=0<i[a].spacing.toString().indexOf("%")?o*(1-parseFloat(i[a].spacing)/100*Math.log(this.viewportMaximum/i[a].startValue)/Math.log(i[a].endValue/i[a].startValue)):o-Math.min(i[a].spacing,.1*o)*Math.log(this.viewportMaximum/i[a].startValue)/Math.log(i[a].endValue/i[a].startValue)));else for(a=0;a<i.length&&!(this.viewportMaximum<i[a].startValue);a++)this.viewportMinimum>i[a].endValue||(this.viewportMinimum>=i[a].startValue&&this.viewportMaximum<=i[a].endValue?o=0:this.viewportMinimum<=i[a].startValue&&this.viewportMaximum>=i[a].endValue?(n=n-i[a].endValue+i[a].startValue,o=0<i[a].spacing.toString().indexOf("%")?o*(1-parseFloat(i[a].spacing)/100):o-Math.min(i[a].spacing,.1*o)):this.viewportMinimum>i[a].startValue&&this.viewportMaximum>=i[a].endValue?(n=n-i[a].endValue+this.viewportMinimum,o=0<i[a].spacing.toString().indexOf("%")?o*(1-parseFloat(i[a].spacing)/100*(i[a].endValue-this.viewportMinimum)/(i[a].endValue-i[a].startValue)):o-Math.min(i[a].spacing,.1*o)*(i[a].endValue-this.viewportMinimum)/(i[a].endValue-i[a].startValue)):this.viewportMinimum<=i[a].startValue&&this.viewportMaximum<i[a].endValue&&(n=n-this.viewportMaximum+i[a].startValue,o=0<i[a].spacing.toString().indexOf("%")?o*(1-parseFloat(i[a].spacing)/100*(this.viewportMaximum-i[a].startValue)/(i[a].endValue-i[a].startValue)):o-Math.min(i[a].spacing,.1*o)*(this.viewportMaximum-i[a].startValue)/(i[a].endValue-i[a].startValue)));h.minimum=this.viewportMinimum,h.maximum=this.viewportMaximum,h.range=n,(this._position==="bottom"||this._position==="top")&&(this.logarithmic?(h.lnLogarithmBase=Math.log(this.logarithmBase),h.pixelPerUnit=(this.reversed?-1:1)*o*h.lnLogarithmBase/Math.log(Math.abs(n))):h.pixelPerUnit=(this.reversed?-1:1)*o/Math.abs(n),h.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),(this._position==="left"||this._position==="right")&&(this.logarithmic?(h.lnLogarithmBase=Math.log(this.logarithmBase),h.pixelPerUnit=(this.reversed?1:-1)*o*h.lnLogarithmBase/Math.log(Math.abs(n))):h.pixelPerUnit=(this.reversed?1:-1)*o/Math.abs(n),h.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=h},K.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var o=this.chart.layoutManager.getFreeSpace(),i=!1,h=!1;this._position==="bottom"||this._position==="top"?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width);var o=this.type==="axisX"?this.chart.plotInfo.axisPlacement==="xySwapped"?62:70:this.chart.plotInfo.axisPlacement==="xySwapped"?50:40,f=4;this.type==="axisX"&&(f=600>this.maxWidth?8:6);var o=Math.max(f,Math.floor(this.maxWidth/o)),n,a,u,f=0;if(!M(this.options.viewportMinimum)&&!M(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),M(this.options.viewportMinimum)&&!M(this.sessionVariables.newViewportMinimum)&&!isNaN(this.sessionVariables.newViewportMinimum)?this.viewportMinimum=this.sessionVariables.newViewportMinimum:(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),M(this.options.viewportMaximum)&&!M(this.sessionVariables.newViewportMaximum)&&!isNaN(this.sessionVariables.newViewportMaximum)?this.viewportMaximum=this.sessionVariables.newViewportMaximum:(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(f=0;f<this.scaleBreaks._appliedBreaks.length;f++)if((!M(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[f].startValue||!M(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[f].startValue||!M(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[f].startValue)&&(!M(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[f].endValue||!M(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[f].endValue||!M(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[f].endValue)){this.scaleBreaks._appliedBreaks.splice(f,1);break}}if(this.type==="axisX"){if(this.dataSeries&&0<this.dataSeries.length)for(n=0;n<this.dataSeries.length;n++)this.dataSeries[n].xValueType==="dateTime"&&(h=!0);n=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,a-n===0&&(f=typeof this.options.interval>"u"?.4:this.options.interval,a+=f,n-=f),this.dataInfo.minDiff!==1/0?u=this.dataInfo.minDiff:1<a-n?u=.5*Math.abs(a-n):(u=1,h&&(i=!0))}else this.type==="axisY"&&(n=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(a)?isFinite(n)?isFinite(a)||(a=n):n=a:(a=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),n===0&&a===0?(a+=9,n=0):a-n===0?(f=Math.min(Math.abs(.01*Math.abs(a)),5),a+=f,n-=f):n>a?(f=Math.min(.01*Math.abs(this.getApparentDifference(a,n,null,!0)),5),0<=a?n=a-f:a=isFinite(n)?n+f:0):(f=Math.min(.01*Math.abs(this.getApparentDifference(n,a,null,!0)),.05),a!==0&&(a+=f),n!==0&&(n-=f)),u=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-n?.5*Math.abs(a-n):1,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&0>a&&(a=0));f=this.getApparentDifference(isNaN(this.viewportMinimum)||this.viewportMinimum===null?n:this.viewportMinimum,isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum,null,!0),this.type==="axisX"&&h?(this.valueType="dateTime",this.intervalType||(f/1<=o?(this.interval=1,this.intervalType="millisecond"):f/2<=o?(this.interval=2,this.intervalType="millisecond"):f/5<=o?(this.interval=5,this.intervalType="millisecond"):f/10<=o?(this.interval=10,this.intervalType="millisecond"):f/20<=o?(this.interval=20,this.intervalType="millisecond"):f/50<=o?(this.interval=50,this.intervalType="millisecond"):f/100<=o?(this.interval=100,this.intervalType="millisecond"):f/200<=o?(this.interval=200,this.intervalType="millisecond"):f/250<=o?(this.interval=250,this.intervalType="millisecond"):f/300<=o?(this.interval=300,this.intervalType="millisecond"):f/400<=o?(this.interval=400,this.intervalType="millisecond"):f/500<=o?(this.interval=500,this.intervalType="millisecond"):f/(1*Pe.secondDuration)<=o?(this.interval=1,this.intervalType="second"):f/(2*Pe.secondDuration)<=o?(this.interval=2,this.intervalType="second"):f/(5*Pe.secondDuration)<=o?(this.interval=5,this.intervalType="second"):f/(10*Pe.secondDuration)<=o?(this.interval=10,this.intervalType="second"):f/(15*Pe.secondDuration)<=o?(this.interval=15,this.intervalType="second"):f/(20*Pe.secondDuration)<=o?(this.interval=20,this.intervalType="second"):f/(30*Pe.secondDuration)<=o?(this.interval=30,this.intervalType="second"):f/(1*Pe.minuteDuration)<=o?(this.interval=1,this.intervalType="minute"):f/(2*Pe.minuteDuration)<=o?(this.interval=2,this.intervalType="minute"):f/(5*Pe.minuteDuration)<=o?(this.interval=5,this.intervalType="minute"):f/(10*Pe.minuteDuration)<=o?(this.interval=10,this.intervalType="minute"):f/(15*Pe.minuteDuration)<=o?(this.interval=15,this.intervalType="minute"):f/(20*Pe.minuteDuration)<=o?(this.interval=20,this.intervalType="minute"):f/(30*Pe.minuteDuration)<=o?(this.interval=30,this.intervalType="minute"):f/(1*Pe.hourDuration)<=o?(this.interval=1,this.intervalType="hour"):f/(2*Pe.hourDuration)<=o?(this.interval=2,this.intervalType="hour"):f/(3*Pe.hourDuration)<=o?(this.interval=3,this.intervalType="hour"):f/(6*Pe.hourDuration)<=o?(this.interval=6,this.intervalType="hour"):f/(1*Pe.dayDuration)<=o?(this.interval=1,this.intervalType="day"):f/(2*Pe.dayDuration)<=o?(this.interval=2,this.intervalType="day"):f/(4*Pe.dayDuration)<=o?(this.interval=4,this.intervalType="day"):f/(1*Pe.weekDuration)<=o?(this.interval=1,this.intervalType="week"):f/(2*Pe.weekDuration)<=o?(this.interval=2,this.intervalType="week"):f/(3*Pe.weekDuration)<=o?(this.interval=3,this.intervalType="week"):f/(1*Pe.monthDuration)<=o?(this.interval=1,this.intervalType="month"):f/(2*Pe.monthDuration)<=o?(this.interval=2,this.intervalType="month"):f/(3*Pe.monthDuration)<=o?(this.interval=3,this.intervalType="month"):f/(6*Pe.monthDuration)<=o?(this.interval=6,this.intervalType="month"):(this.interval=f/(1*Pe.yearDuration)<=o?1:f/(2*Pe.yearDuration)<=o?2:f/(4*Pe.yearDuration)<=o?4:Math.floor(K.getNiceNumber(f/(o-1),!0)/Pe.yearDuration),this.intervalType="year")),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-u/2),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=a+u/2),i?this.autoValueFormatString="MMM DD YYYY HH:mm":this.intervalType==="year"?this.autoValueFormatString="YYYY":this.intervalType==="month"?this.autoValueFormatString="MMM YYYY":this.intervalType==="week"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="day"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="hour"?this.autoValueFormatString="hh:mm TT":this.intervalType==="minute"?this.autoValueFormatString="hh:mm TT":this.intervalType==="second"?this.autoValueFormatString="hh:mm:ss TT":this.intervalType==="millisecond"&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",f=K.getNiceNumber(f,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:K.getNiceNumber(f/(o-1),!0),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?n-u/2:Math.floor(n/this.interval)*this.interval),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?a+u/2:Math.ceil(a/this.interval)*this.interval),this.viewportMaximum===0&&this.viewportMinimum===0&&(this.options.viewportMinimum===0?this.viewportMaximum+=10:this.options.viewportMaximum===0&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=K.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0)))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(n=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,a-n===0&&(f=typeof this.options.interval>"u"?.4:this.options.interval,a+=f,n-=f),u=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-n?.5*Math.abs(a-n):1):this.type==="axisY"&&(n=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(a)?n===0&&a===0?(a+=9,n=0):a-n===0?(f=Math.min(Math.abs(.01*Math.abs(a)),5),a+=f,n-=f):n>a?(f=Math.min(.01*Math.abs(this.getApparentDifference(a,n,null,!0)),5),0<=a?n=a-f:a=isFinite(n)?n+f:0):(f=Math.min(.01*Math.abs(this.getApparentDifference(n,a,null,!0)),.05),a!==0&&(a+=f),n!==0&&(n-=f)):(a=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),u=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-n?.5*Math.abs(a-n):1,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&0>a&&(a=0)),Math.abs(this.getApparentDifference(n,a,null,!0)),this.type==="axisX"&&h?(this.valueType="dateTime",(this.minimum===null||isNaN(this.minimum))&&(this.minimum=n-u/2,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(this.maximum===null||isNaN(this.maximum))&&(this.maximum=a+u/2,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?n-u/2:Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),this.maximum===null&&(this.maximum=this.type==="axisX"?a+u/2:Math.ceil(a/this.interval)*this.interval,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),this.maximum===0&&this.minimum===0&&(this.options.minimum===0?this.maximum+=10:this.options.maximum===0&&(this.minimum-=10)))),M(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),M(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition=this.type==="axisX"&&h?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=K.generateValueFormatString(this.range,2))}},K.prototype.calculateLogarithmicAxisParameters=function(){var o=this.chart.layoutManager.getFreeSpace(),i=Math.log(this.logarithmBase),h;this._position==="bottom"||this._position==="top"?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width);var o=this.type==="axisX"?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),n,a,u,f;if(f=1,(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(f=0;f<this.scaleBreaks._appliedBreaks.length;f++)if((!M(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[f].startValue||!M(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[f].startValue||!M(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[f].startValue)&&(!M(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[f].endValue||!M(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[f].endValue||!M(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[f].endValue)){this.scaleBreaks._appliedBreaks.splice(f,1);break}}this.type==="axisX"?(n=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,a/n===1&&(f=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a*=f,n/=f),u=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(n=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,0>=n&&!isFinite(a)?(a=typeof this.options.interval>"u"?0:this.options.interval,n=1):0>=n?n=a:isFinite(a)||(a=n),n===1&&a===1?(a*=this.logarithmBase-1/this.logarithmBase,n=1):a/n===1?(f=Math.min(a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a*=f,n/=f):n>a?(f=Math.min(n/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=a?n=a/f:a=n*f):(f=Math.min(a/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),a!==1&&(a*=f),n!==1&&(n/=f)),u=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&1<n&&(n=1),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&1>a&&(a=1)),f=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum)/(isNaN(this.viewportMinimum)||this.viewportMinimum===null?n:this.viewportMinimum);var v=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum)-(isNaN(this.viewportMinimum)||this.viewportMinimum===null?n:this.viewportMinimum);if(this.intervalType="number",f=Math.pow(this.logarithmBase,K.getNiceNumber(Math.abs(Math.log(f)/i),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=K.getNiceExponent(Math.log(f)/i/(o-1),!0),h=K.getNiceNumber(v/(o-1),!0)),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?n/Math.sqrt(u):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/i/this.interval))),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?a*Math.sqrt(u):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/i/this.interval))),this.viewportMaximum===1&&this.viewportMinimum===1&&(this.options.viewportMinimum===1?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:this.options.viewportMaximum===1&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=K.getNiceExponent(Math.ceil(Math.log(f)/i)/(o-1)),h=K.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(n=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,a/n===1&&(f=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a*=f,n/=f),u=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(n=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(a)?n===1&&a===1?(a*=this.logarithmBase,n/=this.logarithmBase):a/n===1?(f=Math.pow(this.logarithmBase,this.interval),a*=f,n/=f):n>a?(f=Math.min(.01*(n/a),5),1<=a?n=a/f:a=n*f):(f=Math.min(a/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),a!==1&&(a*=f),n!==1&&(n/=f)):(a=typeof this.options.interval>"u"?0:this.options.interval,n=1),u=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/n>this.logarithmBase?a/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&1<n&&(n=1),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&1>a&&(a=1)),this.intervalType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?n/Math.sqrt(u):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/i/this.interval)),M(this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),this.maximum===null&&(this.maximum=this.type==="axisX"?a*Math.sqrt(u):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/i/this.interval)),M(this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),this.maximum===1&&this.minimum===1&&(this.options.minimum===1?this.maximum*=this.logarithmBase-1/this.logarithmBase:this.options.maximum===1&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=o,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>o?2:3)){for(i=Math.floor(this.viewportMinimum/h+.5)*h;i<this.viewportMinimum;)i+=h;this.equidistantInterval=!1,this.intervalStartPosition=i,this.interval=h}else this.options.interval||(h=Math.ceil(this.interval),this.range>this.interval&&(this.interval=h,n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=n;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(i=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(i)||!isFinite(i))&&(i=2),2<i))for(f=0;f<i-2;f++)this.valueFormatString+="#"},K.generateValueFormatString=function(i,h){var o="#,##0.",n=h;1>i&&(n+=Math.floor(Math.abs(Math.log(i)/Math.LN10)),isNaN(n)||!isFinite(n))&&(n=h);for(var a=0;a<n;a++)o+="#";return o},K.getNiceExponent=function(i,h){var o=Math.floor(Math.log(i)/Math.LN10),n=i/Math.pow(10,o),n=0>o?1>=n?1:5>=n?5:10:Math.max(Math.floor(n),1);return-20>o?Number(n*Math.pow(10,o)):Number((n*Math.pow(10,o)).toFixed(20))},K.getNiceNumber=function(i,h){var o=Math.floor(Math.log(i)/Math.LN10),n=i/Math.pow(10,o),n=h?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10;return-20>o?Number(n*Math.pow(10,o)):Number((n*Math.pow(10,o)).toFixed(20))},K.prototype.getLabelStartPoint=function(){var i=Pe[this.intervalType+"Duration"]*this.interval,i=new Date(Math.floor(this.viewportMinimum/i)*i);return this.intervalType!=="millisecond"&&(this.intervalType==="second"?0<i.getMilliseconds()&&(i.setSeconds(i.getSeconds()+1),i.setMilliseconds(0)):this.intervalType==="minute"?(0<i.getSeconds()||0<i.getMilliseconds())&&(i.setMinutes(i.getMinutes()+1),i.setSeconds(0),i.setMilliseconds(0)):this.intervalType==="hour"?(0<i.getMinutes()||0<i.getSeconds()||0<i.getMilliseconds())&&(i.setHours(i.getHours()+1),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):this.intervalType==="day"?(0<i.getHours()||0<i.getMinutes()||0<i.getSeconds()||0<i.getMilliseconds())&&(i.setDate(i.getDate()+1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):this.intervalType==="week"?(0<i.getDay()||0<i.getHours()||0<i.getMinutes()||0<i.getSeconds()||0<i.getMilliseconds())&&(i.setDate(i.getDate()+(7-i.getDay())),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):this.intervalType==="month"?(1<i.getDate()||0<i.getHours()||0<i.getMinutes()||0<i.getSeconds()||0<i.getMilliseconds())&&(i.setMonth(i.getMonth()+1),i.setDate(1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):this.intervalType==="year"&&(0<i.getMonth()||1<i.getDate()||0<i.getHours()||0<i.getMinutes()||0<i.getSeconds()||0<i.getMilliseconds())&&(i.setFullYear(i.getFullYear()+1),i.setMonth(0),i.setDate(1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0))),i},e(Fe,ut),e(qe,ut),qe.prototype.createUserOptions=function(i){if(typeof i<"u"||this.options._isPlaceholder){var h=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(j(this.parent[this.optionsName]),h=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof i>"u"?{}:i,this.parent.options[this.optionsName][h]=this.options}},qe.prototype.render=function(i){if(this.spacing!==0||this.options.lineThickness!==0&&(typeof this.options.lineThickness<"u"||this.parent.lineThickness!==0)){var h=this.ctx,o=this.ctx.globalAlpha;this.ctx=i||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var n=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),a=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,w(this.id);var u,f,v,b,g,p;i=Math.max(this.spacing,3);var m=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=m,this.ctx.setLineDash&&this.ctx.setLineDash(te(this.lineDashType,m)),this.scaleBreaks.parent._position==="bottom"||this.scaleBreaks.parent._position==="top"){if(n=m%2===1?(n.x<<0)+.5:n.x<<0,f=m%2===1?(a.x<<0)+.5:a.x<<0,this.scaleBreaks.parent._position==="top"?(a=this.chart.plotArea.y1,v=this.chart.plotArea.y2+m/2+.5<<0):(a=this.chart.plotArea.y2,v=this.chart.plotArea.y1-m/2+.5<<0,i*=-1),this.bounds={x1:n-m/2,y1:a,x2:f+m/2,y2:v},this.ctx.moveTo(n,a),this.type==="straight"||this.scaleBreaks.parent._position==="top"&&0>=i||this.scaleBreaks.parent._position==="bottom"&&0<=i)this.ctx.lineTo(n,v),this.ctx.lineTo(f,v),this.ctx.lineTo(f,a);else if(this.type==="wavy"){b=n,g=a,u=.5,p=(v-g)/i/3;for(var x=0;x<p;x++)this.ctx.bezierCurveTo(b+u*i,g+i,b+u*i,g+2*i,b,g+3*i),g+=3*i,u*=-1;for(this.ctx.bezierCurveTo(b+u*i,g+i,b+u*i,g+2*i,b,g+3*i),b=f,u*=-1,this.ctx.lineTo(b,g),x=0;x<p;x++)this.ctx.bezierCurveTo(b+u*i,g-i,b+u*i,g-2*i,b,g-3*i),g-=3*i,u*=-1}else if(this.type==="zigzag"){for(u=-1,g=a+i,b=n+i,p=(v-g)/i/2,x=0;x<p;x++)this.ctx.lineTo(b,g),b+=2*u*i,g+=2*i,u*=-1;for(this.ctx.lineTo(b,g),b+=f-n,x=0;x<p+1;x++)this.ctx.lineTo(b,g),b+=2*u*i,g-=2*i,u*=-1;this.ctx.lineTo(b+u*i,g+i)}}else if(this.scaleBreaks.parent._position==="left"||this.scaleBreaks.parent._position==="right"){if(a=m%2===1?(a.y<<0)+.5:a.y<<0,v=m%2===1?(n.y<<0)+.5:n.y<<0,this.scaleBreaks.parent._position==="left"?(n=this.chart.plotArea.x1,f=this.chart.plotArea.x2+m/2+.5<<0):(n=this.chart.plotArea.x2,f=this.chart.plotArea.x1-m/2+.5<<0,i*=-1),this.bounds={x1:n,y1:a-m/2,x2:f,y2:v+m/2},this.ctx.moveTo(n,a),this.type==="straight"||this.scaleBreaks.parent._position==="left"&&0>=i||this.scaleBreaks.parent._position==="right"&&0<=i)this.ctx.lineTo(f,a),this.ctx.lineTo(f,v),this.ctx.lineTo(n,v);else if(this.type==="wavy"){for(b=n,g=a,u=.5,p=(f-b)/i/3,x=0;x<p;x++)this.ctx.bezierCurveTo(b+i,g+u*i,b+2*i,g+u*i,b+3*i,g),b+=3*i,u*=-1;for(this.ctx.bezierCurveTo(b+i,g+u*i,b+2*i,g+u*i,b+3*i,g),g=v,u*=-1,this.ctx.lineTo(b,g),x=0;x<p;x++)this.ctx.bezierCurveTo(b-i,g+u*i,b-2*i,g+u*i,b-3*i,g),b-=3*i,u*=-1}else if(this.type==="zigzag"){for(u=1,g=a-i,b=n+i,p=(f-b)/i/2,x=0;x<p;x++)this.ctx.lineTo(b,g),g+=2*u*i,b+=2*i,u*=-1;for(this.ctx.lineTo(b,g),g+=v-a,x=0;x<p+1;x++)this.ctx.lineTo(b,g),g+=2*u*i,b-=2*i,u*=-1;this.ctx.lineTo(b+i,g+u*i)}}0<m&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=o,this.ctx=h}},e(Se,ut),Se.prototype.createUserOptions=function(i){if(typeof i<"u"||this.options._isPlaceholder){var h=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(j(this.parent.stripLines),h=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof i>"u"?{}:i,this.parent.options.stripLines[h]=this.options}},Se.prototype.render=function(){this.ctx.save();var i=this.parent.getPixelCoordinatesOnAxis(this.value),h=Math.abs(this._thicknessType==="pixel"?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<h){var o=this.opacity===null?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var n=this.ctx.globalAlpha;this.ctx.globalAlpha=o,w(this.id);var a,u,f,v;this.ctx.lineWidth=h,this.ctx.setLineDash&&this.ctx.setLineDash(te(this.lineDashType,h)),this.parent._position==="bottom"||this.parent._position==="top"?(a=u=this.ctx.lineWidth%2===1?(i.x<<0)+.5:i.x<<0,f=this.chart.plotArea.y1,v=this.chart.plotArea.y2,this.bounds={x1:a-h/2,y1:f,x2:u+h/2,y2:v}):(this.parent._position==="left"||this.parent._position==="right")&&(f=v=this.ctx.lineWidth%2===1?(i.y<<0)+.5:i.y<<0,a=this.chart.plotArea.x1,u=this.chart.plotArea.x2,this.bounds={x1:a,y1:f-h/2,x2:u,y2:v+h/2}),this.ctx.moveTo(a,f),this.ctx.lineTo(u,v),this.ctx.stroke(),this.ctx.globalAlpha=n}this.ctx.restore()},e($t,ut),$t.prototype.showAt=function(i){if(!this.enabled)return!1;var h=this.chart,o=!1;if(h.resetOverlayedCanvas(),h.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),h.plotInfo.axisPlacement==="xySwapped"){if(this.parent._position==="bottom")for(var n=0;n<h.axisY.length;n++)this.parent===h.axisY[n]&&(h.axisY[n]._crosshairValue=i>=h.axisY[n].viewportMinimum&&i<=h.axisY[n].viewportMaximum?i:null);else if(this.parent._position==="top")for(n=0;n<h.axisY2.length;n++)this.parent===h.axisY2[n]&&(h.axisY2[n]._crosshairValue=i>=h.axisY2[n].viewportMinimum&&i<=h.axisY2[n].viewportMaximum?i:null);else if(this.parent._position==="left")for(n=0;n<h.axisX.length;n++)this.parent===h.axisX[n]&&(h.axisX[n]._crosshairValue=i>=h.axisX[n].viewportMinimum&&i<=h.axisX[n].viewportMaximum?i:null);else if(this.parent._position==="right")for(n=0;n<h.axisX2.length;n++)this.parent===h.axisX2[n]&&(h.axisX2[n]._crosshairValue=i>=h.axisX2[n].viewportMinimum&&i<=h.axisX2[n].viewportMaximum?i:null)}else if(this.parent._position==="bottom")for(n=0;n<h.axisX.length;n++)this.parent===h.axisX[n]&&(h.axisX[n]._crosshairValue=i>=h.axisX[n].viewportMinimum&&i<=h.axisX[n].viewportMaximum?i:null);else if(this.parent._position==="top")for(n=0;n<h.axisX2.length;n++)this.parent===h.axisX2[n]&&(h.axisX2[n]._crosshairValue=i>=h.axisX2[n].viewportMinimum&&i<=h.axisX2[n].viewportMaximum?i:null);else if(this.parent._position==="left")for(n=0;n<h.axisY.length;n++)this.parent===h.axisY[n]&&(h.axisY[n]._crosshairValue=i>=h.axisY[n].viewportMinimum&&i<=h.axisY[n].viewportMaximum?i:null);else if(this.parent._position==="right")for(n=0;n<h.axisY2.length;n++)this.parent===h.axisY2[n]&&(h.axisY2[n]._crosshairValue=i>=h.axisY2[n].viewportMinimum&&i<=h.axisY2[n].viewportMaximum?i:null);for(n=0;n<h.axisX.length;n++)i=h.axisX[n]._crosshairValue,h.axisX[n].crosshair&&h.axisX[n].crosshair.enabled&&!M(i)&&i>=h.axisX[n].viewportMinimum&&i<=h.axisX[n].viewportMaximum&&(h.axisX[n].showCrosshair(i),h.axisX[n].crosshair._updatedValue=i,this===h.axisX[n].crosshair&&(o=!0));for(n=0;n<h.axisX2.length;n++)i=h.axisX2[n]._crosshairValue,h.axisX2[n].crosshair&&h.axisX2[n].crosshair.enabled&&!M(i)&&i>=h.axisX2[n].viewportMinimum&&i<=h.axisX2[n].viewportMaximum&&(h.axisX2[n].showCrosshair(i),h.axisX2[n].crosshair._updatedValue=i,this===h.axisX2[n].crosshair&&(o=!0));for(n=0;n<h.axisY.length;n++)i=h.axisY[n]._crosshairValue,h.axisY[n].crosshair&&h.axisY[n].crosshair.enabled&&!M(i)&&i>=h.axisY[n].viewportMinimum&&i<=h.axisY[n].viewportMaximum&&(h.axisY[n].showCrosshair(i),h.axisY[n].crosshair._updatedValue=i,this===h.axisY[n].crosshair&&(o=!0));for(n=0;n<h.axisY2.length;n++)i=h.axisY2[n]._crosshairValue,h.axisY2[n].crosshair&&h.axisY2[n].crosshair.enabled&&!M(i)&&i>=h.axisY2[n].viewportMinimum&&i<=h.axisY2[n].viewportMaximum&&(h.axisY2[n].showCrosshair(i),h.axisY2[n].crosshair._updatedValue=i,this===h.axisY2[n].crosshair&&(o=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),o},$t.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},$t.prototype.render=function(i,h,o){var n,a,u,f,v=null,b=null,g=null,p="";this.valueFormatString||(this.parent.valueType==="dateTime"?this.valueFormatString=this.parent.valueFormatString:(g=0,g=this.chart.plotInfo.axisPlacement==="xySwapped"?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=K.generateValueFormatString(this.parent.range,g)));var m=this.opacity===null?1:this.opacity,x=Math.abs(this._thicknessType==="pixel"?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),c=this.chart.overlaidCanvasCtx,C=c.globalAlpha;if(c.beginPath(),c.strokeStyle=this.color,c.lineWidth=x,c.save(),this.labelFontSize=Math.abs(M(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=M(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=M(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<x&&c.setLineDash&&c.setLineDash(te(this.lineDashType,x)),g=new je(c,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:p,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var S=0,p=[];if(this.chart.plotInfo.axisPlacement==="xySwapped"){var I=null;this.parent._position==="bottom"||this.parent._position==="top"?S=this.parent.dataSeries[0].axisX.convertPixelToValue({y:h}):(this.parent._position==="left"||this.parent._position==="right")&&(S=this.parent.convertPixelToValue({y:h}));for(var T=0;T<this.parent.dataSeries.length;T++)(I=this.parent.dataSeries[T].getDataPointAtX(S,!0))&&0<=I.index&&(I.dataSeries=this.parent.dataSeries[T],I.dataPoint.y!==null&&I.dataSeries.visible&&p.push(I));if(I=null,p.length===0)return;if(p.sort(function(G,q){return G.distance-q.distance}),I=Math.abs(i-this.parent.convertValueToPixel(p[0].dataPoint.y)),T=0,p[0].dataSeries.type==="rangeBar"||p[0].dataSeries.type==="error")for(var I=Math.abs(i-this.parent.convertValueToPixel(p[T].dataPoint.y[0])),_=0,S=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(var k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(i-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else _=Math.abs(i-this.parent.convertValueToPixel(p[S].dataPoint.y)),_<I&&(I=_,T=S);else if(p[0].dataSeries.type==="stackedBar")for(var I=Math.abs(i-this.parent.convertValueToPixel(p[0].dataPoint.y)),L=_=0,S=T=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(i-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else L+=p[S].dataPoint.y,_=Math.abs(i-this.parent.convertValueToPixel(L)),_<I&&(I=_,T=S);else if(p[0].dataSeries.type==="stackedBar100")for(var I=Math.abs(i-this.parent.convertValueToPixel(p[0].dataPoint.y)),O=L=_=0,S=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(i-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else L+=p[S].dataPoint.y,O=p[S].dataPoint.x.getTime?p[S].dataPoint.x.getTime():p[S].dataPoint.x,O=100*(L/p[S].dataSeries.plotUnit.dataPointYSums[O]),_=Math.abs(i-this.parent.convertValueToPixel(O)),_<I&&(I=_,T=S);else for(I=Math.abs(i-this.parent.convertValueToPixel(p[0].dataPoint.y)),S=T=_=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(i-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else _=Math.abs(i-this.parent.convertValueToPixel(p[S].dataPoint.y)),_<I&&(I=_,T=S);if(k=p[T],this.parent._position==="bottom"||this.parent._position==="top"){if(n=0,this.parent.dataSeries[T].type==="rangeBar"||this.parent.dataSeries[T].type==="error"){for(I=Math.abs(i-this.parent.convertValueToPixel(k.dataPoint.y[0])),S=_=0;S<k.dataPoint.y.length;S++)_=Math.abs(i-this.parent.convertValueToPixel(k.dataPoint.y[S])),_<I&&(I=_,n=S);v=c.lineWidth%2===1?(this.parent.convertValueToPixel(k.dataPoint.y[n])<<0)+.5:this.parent.convertValueToPixel(k.dataPoint.y[n])<<0,this.value=k.dataPoint.y[n],g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y[n]}):M(this.options.label)?St(M(o)?k.dataPoint.y[n]:o,this.valueFormatString,this.chart._cultureInfo):this.label}else if(this.parent.dataSeries[T].type==="stackedBar"){for(I=Math.abs(i-this.parent.convertValueToPixel(p[0].dataPoint.y)),L=_=0,S=T;0<=S;S--)L+=p[S].dataPoint.y,_=Math.abs(i-this.parent.convertValueToPixel(L)),_<I&&(I=_,n=S);v=c.lineWidth%2===1?(this.parent.convertValueToPixel(L)<<0)+.5:this.parent.convertValueToPixel(L)<<0,this.value=L,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y}):M(this.options.label)?St(M(o)?k.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label}else if(this.parent.dataSeries[T].type==="stackedBar100"){for(I=Math.abs(i-this.parent.convertValueToPixel(p[0].dataPoint.y)),O=L=_=0,S=T;0<=S;S--)L+=p[S].dataPoint.y,O=p[S].dataPoint.x.getTime?p[S].dataPoint.x.getTime():p[S].dataPoint.x,O=100*(L/p[S].dataSeries.plotUnit.dataPointYSums[O]),_=Math.abs(i-this.parent.convertValueToPixel(O)),_<I&&(I=_,n=S);v=c.lineWidth%2===1?(this.parent.convertValueToPixel(O)<<0)+.5:this.parent.convertValueToPixel(O)<<0,this.value=O,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:O}):M(this.options.label)?St(M(o)?O:o,this.valueFormatString,this.chart._cultureInfo):this.label}else v=c.lineWidth%2===1?(this.parent.convertValueToPixel(k.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(k.dataPoint.y)<<0,this.value=k.dataPoint.y,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y}):M(this.options.label)?St(M(o)?k.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label;n=a=v,u=this.chart.plotArea.y1,f=this.chart.plotArea.y2,this.bounds={x1:n-x/2,y1:u,x2:a+x/2,y2:f},g.x=n-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2?g.x=this.chart.bounds.x2-g.width:g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),g.y=this.parent.lineCoordinates.y2+(this.parent._position==="top"?-g.height+this.parent.tickLength:g.fontSize/2)+2,g.y+g.height>this.chart.bounds.y2?g.y=this.chart.bounds.y2-g.height:g.y<this.chart.bounds.y1&&(g.y=this.chart.bounds.y1)}else if(this.parent._position==="left"||this.parent._position==="right"){if(u=f=b=c.lineWidth%2===1?(this.parent.convertValueToPixel(k.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(k.dataPoint.x)<<0,n=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:n,y1:u-x/2,x2:a,y2:f+x/2},O=!1,this.parent.labels)for(p=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=p)if(this.parent.labels[S])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(S=this.parent.convertPixelToValue({y:h}),I=null,T=0;T<this.parent.dataSeries.length;T++)(I=this.parent.dataSeries[T].getDataPointAtX(S,!0))&&0<=I.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):M(this.options.label)?I.dataPoint.label:this.label)}else g.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):M(this.options.label)?St(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):M(this.options.label)?Sn(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=k.dataPoint.x,g.y=f+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),this.parent._position==="left"?g.x=this.parent.lineCoordinates.x2-g.measureText().width:this.parent._position==="right"&&(g.x=this.parent.lineCoordinates.x2)}}else if(this.parent._position==="bottom"||this.parent._position==="top"){for(S=this.parent.convertPixelToValue({x:i}),T=0;T<this.parent.dataSeries.length;T++)(I=this.parent.dataSeries[T].getDataPointAtX(S,!0))&&0<=I.index&&(I.dataSeries=this.parent.dataSeries[T],I.dataPoint.y!==null&&I.dataSeries.visible&&p.push(I));if(p.length===0)return;if(p.sort(function(G,q){return G.distance-q.distance}),k=p[0],n=a=v=c.lineWidth%2===1?(this.parent.convertValueToPixel(k.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(k.dataPoint.x)<<0,u=this.chart.plotArea.y1,f=this.chart.plotArea.y2,this.bounds={x1:n-x/2,y1:u,x2:a+x/2,y2:f},O=!1,this.parent.labels)for(p=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=p)if(this.parent.labels[S])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(S=this.parent.convertPixelToValue({x:i}),I=null,T=0;T<this.parent.dataSeries.length;T++)(I=this.parent.dataSeries[T].getDataPointAtX(S,!0))&&0<=I.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):M(this.options.label)?I.dataPoint.label:this.label)}else g.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):M(this.options.label)?St(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):M(this.options.label)?Sn(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=k.dataPoint.x,g.x=n-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.width),g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),this.parent._position==="bottom"?g.y=this.parent.lineCoordinates.y2+g.fontSize/2+2:this.parent._position==="top"&&(g.y=this.parent.lineCoordinates.y1-g.height+g.fontSize/2+2)}else if(this.parent._position==="left"||this.parent._position==="right"){for(!M(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(S=this.parent.dataSeries[0].axisX.convertPixelToValue({x:i})),T=0;T<this.parent.dataSeries.length;T++)(I=this.parent.dataSeries[T].getDataPointAtX(S,!0))&&0<=I.index&&(I.dataSeries=this.parent.dataSeries[T],I.dataPoint.y!==null&&I.dataSeries.visible&&p.push(I));if(p.length===0)return;if(p.sort(function(G,q){return G.distance-q.distance}),T=0,p[0].dataSeries.type==="rangeColumn"||p[0].dataSeries.type==="rangeArea"||p[0].dataSeries.type==="error"||p[0].dataSeries.type==="rangeSplineArea"||p[0].dataSeries.type==="candlestick"||p[0].dataSeries.type==="ohlc"||p[0].dataSeries.type==="boxAndWhisker")for(I=Math.abs(h-this.parent.convertValueToPixel(p[0].dataPoint.y[0])),S=_=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(h-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else _=Math.abs(h-this.parent.convertValueToPixel(p[S].dataPoint.y)),_<I&&(I=_,T=S);else if(p[0].dataSeries.type==="stackedColumn"||p[0].dataSeries.type==="stackedArea")for(I=Math.abs(h-this.parent.convertValueToPixel(p[0].dataPoint.y)),S=L=_=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(h-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else L+=p[S].dataPoint.y,_=Math.abs(h-this.parent.convertValueToPixel(L)),_<I&&(I=_,T=S);else if(p[0].dataSeries.type==="stackedColumn100"||p[0].dataSeries.type==="stackedArea100")for(I=Math.abs(h-this.parent.convertValueToPixel(p[0].dataPoint.y)),S=O=L=_=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(h-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else L+=p[S].dataPoint.y,O=p[S].dataPoint.x.getTime?p[S].dataPoint.x.getTime():p[S].dataPoint.x,O=100*(L/p[S].dataSeries.plotUnit.dataPointYSums[O]),_=Math.abs(h-this.parent.convertValueToPixel(O)),_<I&&(I=_,T=S);else for(I=Math.abs(h-this.parent.convertValueToPixel(p[0].dataPoint.y)),S=_=0;S<p.length;S++)if(p[S].dataPoint.y&&p[S].dataPoint.y.length)for(k=0;k<p[S].dataPoint.y.length;k++)_=Math.abs(h-this.parent.convertValueToPixel(p[S].dataPoint.y[k])),_<I&&(I=_,T=S);else _=Math.abs(h-this.parent.convertValueToPixel(p[S].dataPoint.y)),_<I&&(I=_,T=S);if(k=p[T],n=0,this.parent.dataSeries[T].type==="rangeColumn"||this.parent.dataSeries[T].type==="rangeArea"||this.parent.dataSeries[T].type==="error"||this.parent.dataSeries[T].type==="rangeSplineArea"||this.parent.dataSeries[T].type==="candlestick"||this.parent.dataSeries[T].type==="ohlc"||this.parent.dataSeries[T].type==="boxAndWhisker"){for(I=Math.abs(h-this.parent.convertValueToPixel(k.dataPoint.y[0])),S=_=0;S<k.dataPoint.y.length;S++)_=Math.abs(h-this.parent.convertValueToPixel(k.dataPoint.y[S])),_<I&&(I=_,n=S);b=c.lineWidth%2===1?(this.parent.convertValueToPixel(k.dataPoint.y[n])<<0)+.5:this.parent.convertValueToPixel(k.dataPoint.y[n])<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y[n]}):M(this.options.label)?St(M(o)?k.dataPoint.y[n]:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=k.dataPoint.y[n]}else if(this.parent.dataSeries[T].type==="stackedColumn"||this.parent.dataSeries[T].type==="stackedArea"){for(I=Math.abs(h-this.parent.convertValueToPixel(p[0].dataPoint.y)),L=_=0,S=T;0<=S;S--)L+=p[S].dataPoint.y,_=Math.abs(h-this.parent.convertValueToPixel(L)),_<I&&(I=_,n=S);b=c.lineWidth%2===1?(this.parent.convertValueToPixel(L)<<0)+.5:this.parent.convertValueToPixel(L)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y}):M(this.options.label)?St(M(o)?k.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=L}else if(this.parent.dataSeries[T].type==="stackedColumn100"||this.parent.dataSeries[T].type==="stackedArea100"){for(I=Math.abs(h-this.parent.convertValueToPixel(p[0].dataPoint.y)),L=_=0,S=T;0<=S;S--)L+=p[S].dataPoint.y,O=p[S].dataPoint.x.getTime?p[S].dataPoint.x.getTime():p[S].dataPoint.x,O=100*(L/p[S].dataSeries.plotUnit.dataPointYSums[O]),_=Math.abs(h-this.parent.convertValueToPixel(O)),_<I&&(I=_,n=S);b=c.lineWidth%2===1?(this.parent.convertValueToPixel(O)<<0)+.5:this.parent.convertValueToPixel(O)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:O}):M(this.options.label)?St(M(o)?O:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=O}else this.parent.dataSeries[T].type==="waterfall"?(b=c.lineWidth%2===1?(this.parent.convertValueToPixel(k.dataSeries.dataPointEOs[k.index].cumulativeSum)<<0)+.5:this.parent.convertValueToPixel(k.dataSeries.dataPointEOs[k.index].cumulativeSum)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataSeries.dataPointEOs[k.index].cumulativeSum}):M(this.options.label)?St(M(o)?k.dataSeries.dataPointEOs[k.index].cumulativeSum:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=k.dataSeries.dataPointEOs[k.index].cumulativeSum):(b=c.lineWidth%2===1?(M(i)?h:this.parent.convertValueToPixel(k.dataPoint.y)<<0)+.5:M(i)?h:this.parent.convertValueToPixel(k.dataPoint.y)<<0,g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?k.dataPoint.y:o}):M(this.options.label)?St(M(o)?k.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=k.dataPoint.y);u=f=b,n=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:n,y1:u-x/2,x2:a,y2:f+x/2},g.y=f+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),this.parent._position==="left"?g.x=this.parent.lineCoordinates.x2-g.measureText().width:this.parent._position==="right"&&(g.x=this.parent.lineCoordinates.x2)}p=null,c.globalAlpha=m,(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent._position==="top"&&g.y-g.fontSize/2<this.chart.bounds.y1&&(g.y=this.chart.bounds.y1+g.fontSize/2),this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-g.fontSize/2+g.measureText().height>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.height+g.fontSize/2+2),n>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&a<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&(0<x&&(c.moveTo(n,u),c.lineTo(a,f),c.stroke(),this._hidden=!1),c.restore())),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent._position==="left"&&g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),this.parent._position==="right"&&g.x+g.measureText().width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.measureText().width),f>=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMinimum:this.parent.viewportMaximum)&&u<=this.parent.convertValueToPixel(this.parent.reversed?this.parent.viewportMaximum:this.parent.viewportMinimum)&&(0<x&&(c.moveTo(n,u),c.lineTo(a,f),c.stroke(),this._hidden=!1),c.restore()))}else{if(this.parent._position==="bottom"||this.parent._position==="top"?(n=a=v=c.lineWidth%2===1?(i<<0)+.5:i<<0,u=this.chart.plotArea.y1,f=this.chart.plotArea.y2,this.bounds={x1:n-x/2,y1:u,x2:a+x/2,y2:f}):(this.parent._position==="left"||this.parent._position==="right")&&(u=f=b=c.lineWidth%2===1?(h<<0)+.5:h<<0,n=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:n,y1:u-x/2,x2:a,y2:f+x/2}),this.chart.plotInfo.axisPlacement==="xySwapped")if(this.parent._position==="left"||this.parent._position==="right"){if(O=!1,this.parent.labels)for(p=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=p)if(this.parent.labels[S])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(S=this.parent.convertPixelToValue({y:h}),I=null,T=0;T<this.parent.dataSeries.length;T++)(I=this.parent.dataSeries[T].getDataPointAtX(S,!0))&&0<=I.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?this.parent.convertPixelToValue(i):o}):M(this.options.label)?I.dataPoint.label:this.label)}else g.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?this.parent.convertPixelToValue(h):o}):M(this.options.label)?St(M(o)?this.parent.convertPixelToValue(h):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?this.parent.convertPixelToValue(h):o}):M(this.options.label)?Sn(M(o)?this.parent.convertPixelToValue(h):o,this.valueFormatString,this.chart._cultureInfo):this.label;g.y=h+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),this.parent._position==="left"?g.x=this.parent.lineCoordinates.x1-g.measureText().width:this.parent._position==="right"&&(g.x=this.parent.lineCoordinates.x2)}else(this.parent._position==="bottom"||this.parent._position==="top")&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?this.parent.convertPixelToValue(i):o}):M(this.options.label)?St(M(o)?this.parent.convertPixelToValue(i):o,this.valueFormatString,this.chart._cultureInfo):this.label,g.x=n-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.width),g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),this.parent._position==="bottom"?g.y=this.parent.lineCoordinates.y2+g.fontSize/2+2:this.parent._position==="top"&&(g.y=this.parent.lineCoordinates.y1-g.height+g.fontSize/2+2));else if(this.parent._position==="bottom"||this.parent._position==="top"){if(O=!1,p="",this.parent.labels)for(p=Math.ceil(this.parent.interval),S=0;S<this.parent.viewportMaximum;S+=p)if(this.parent.labels[S])O=!0;else{O=!1;break}if(O){if(this.parent.type==="axisX")for(S=this.parent.convertPixelToValue({x:i}),I=null,T=0;T<this.parent.dataSeries.length;T++)(I=this.parent.dataSeries[T].getDataPointAtX(S,!0))&&0<=I.index&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?this.parent.convertPixelToValue(i):o}):M(this.options.label)?M(o)?I.dataPoint.label:o:this.label)}else g.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(i):"":o}):M(this.options.label)?St(M(o)?this.parent.convertPixelToValue(i):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?this.parent.convertPixelToValue(i):o}):M(this.options.label)?Sn(M(o)?this.parent.convertPixelToValue(i):o,this.valueFormatString,this.chart._cultureInfo):this.label;g.x=n-g.measureText().width/2,g.x+g.width>this.chart.bounds.x2&&(g.x=this.chart.bounds.x2-g.width),g.x<this.chart.bounds.x1&&(g.x=this.chart.bounds.x1),this.parent._position==="bottom"?g.y=this.parent.lineCoordinates.y2+g.fontSize/2+2:this.parent._position==="top"&&(g.y=this.parent.lineCoordinates.y1-g.height+g.fontSize/2+2)}else(this.parent._position==="left"||this.parent._position==="right")&&(g.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M(o)?this.parent.convertPixelToValue(h):o}):M(this.options.label)?St(M(o)?this.parent.convertPixelToValue(h):o,this.valueFormatString,this.chart._cultureInfo):this.label,g.y=h+g.fontSize/2-g.measureText().height/2+2,g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2+2:g.y+g.measureText().height-g.fontSize/2>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.measureText().height+g.fontSize/2),this.parent._position==="left"?g.x=this.parent.lineCoordinates.x2-g.measureText().width:this.parent._position==="right"&&(g.x=this.parent.lineCoordinates.x2));this.parent._position==="left"&&g.x<this.chart.bounds.x1?g.x=this.chart.bounds.x1:this.parent._position==="right"&&g.x+g.measureText().width>this.chart.bounds.x2?g.x=this.chart.bounds.x2-g.measureText().width:this.parent._position==="top"&&g.y-g.fontSize/2<this.chart.bounds.y1?g.y=this.chart.bounds.y1+g.fontSize/2:this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-g.fontSize/2+g.measureText().height>this.chart.bounds.y2&&(g.y=this.chart.bounds.y2-g.height+g.fontSize/2+2),c.globalAlpha=m,0<x&&(c.moveTo(n,u),c.lineTo(a,f),c.stroke(),this._hidden=!1),c.restore(),this.value=this.parent._position==="bottom"||this.parent._position==="top"?this.parent.convertPixelToValue(i):this.parent.convertPixelToValue(h)}(this.parent._position==="bottom"||this.parent._position==="top")&&(this._updatedValue=this.parent.convertPixelToValue(v)),(this.parent._position==="left"||this.parent._position==="right")&&(this._updatedValue=this.parent.convertPixelToValue(b)),this._textBlock=g,this._label=o,M(o)||this.renderLabel(),c.globalAlpha=C},$t.prototype.renderLabel=function(){M(this._textBlock)||M(this._textBlock.text)||!(typeof this._textBlock.text.valueOf()=="number"||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),M(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent)},e(vt,ut),vt.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var i=document.createElement("div");i.style.width="auto",i.style.height="auto",i.style.minWidth="50px",i.style.lineHeight="normal",i.style.margin="0px 0px 0px 0px",i.style.padding="5px",i.style.fontFamily="Calibri, Arial, Georgia, serif",i.style.fontWeight="normal",i.style.fontStyle=V?"italic":"normal",i.style.fontSize="14px",i.style.color="#000000",i.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",i.style.textAlign="left",i.style.border="2px solid gray",i.style.background=V?"rgba(255,255,255,.9)":"rgb(255,255,255)",i.style.textIndent="0px",i.style.whiteSpace="nowrap",i.style.borderRadius="5px",i.style.MozUserSelect="none",i.style.WebkitUserSelect="none",i.style.msUserSelect="none",i.style.userSelect="none",V||(i.style.filter="alpha(opacity = 90)",i.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),i.innerText="Sample Tooltip",this.container.appendChild(i),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},vt.prototype.mouseMoveHandler=function(i,h){this._lastUpdated&&4>new Date().getTime()-this._lastUpdated||(this._lastUpdated=new Date().getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(i,h),!this._updatedEventParameters||isNaN(this._prevX)||isNaN(this._prevY)||this.dispatchEvent("updated",this._updatedEventParameters,this))},vt.prototype._updateToolTip=function(i,h,o){if(o=typeof o>"u"?!0:o,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof i>"u"||typeof h>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;i=this._prevX,h=this._prevY}else this._prevX=i,this._prevY=h;var n=null,a=null,u=[],f=0;if(this.shared&&this.enabled&&this.chart.plotInfo.axisPlacement!=="none"){var v=[];if(this.chart.axisX)for(var b=0;b<this.chart.axisX.length;b++){for(var f=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX[b].convertPixelToValue({y:h}):this.chart.axisX[b].convertPixelToValue({x:i}),g=null,n=0;n<this.chart.axisX[b].dataSeries.length;n++)(g=this.chart.axisX[b].dataSeries[n].getDataPointAtX(f,o))&&0<=g.index&&(g.dataSeries=this.chart.axisX[b].dataSeries[n],g.dataPoint.y!==null&&g.dataSeries.visible&&v.push(g));g=null}if(this.chart.axisX2)for(b=0;b<this.chart.axisX2.length;b++){for(f=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX2[b].convertPixelToValue({y:h}):this.chart.axisX2[b].convertPixelToValue({x:i}),g=null,n=0;n<this.chart.axisX2[b].dataSeries.length;n++)(g=this.chart.axisX2[b].dataSeries[n].getDataPointAtX(f,o))&&0<=g.index&&(g.dataSeries=this.chart.axisX2[b].dataSeries[n],g.dataPoint.y!==null&&g.dataSeries.visible&&v.push(g));g=null}if(v.length===0)return;for(v.sort(function(p,m){return p.distance-m.distance}),o=v[0],n=0;n<v.length;n++)v[n].dataPoint.x.valueOf()===o.dataPoint.x.valueOf()&&u.push(v[n]);v=null}else{if(n=this.chart.getDataPointAtXY(i,h,o))this.currentDataPointIndex=n.dataPointIndex,this.currentSeriesIndex=n.dataSeries.index;else if(V)if(n=Tt(i,h,this.chart._eventManager.ghostCtx),0<n&&typeof this.chart._eventManager.objectMap[n]<"u"){if(n=this.chart._eventManager.objectMap[n],n.objectType==="legendItem")return;this.currentSeriesIndex=n.dataSeriesIndex,this.currentDataPointIndex=0<=n.dataPointIndex?n.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(a=this.chart.data[this.currentSeriesIndex],g={},0<=this.currentDataPointIndex)n=a.dataPoints[this.currentDataPointIndex],g.dataSeries=a,g.dataPoint=n,g.index=this.currentDataPointIndex,g.distance=Math.abs(n.x-f),a.type==="waterfall"&&(g.cumulativeSumYStartValue=a.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,g.cumulativeSum=a.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||a.type!=="line"&&a.type!=="stepLine"&&a.type!=="spline"&&a.type!=="area"&&a.type!=="stepArea"&&a.type!=="splineArea"&&a.type!=="stackedArea"&&a.type!=="stackedArea100"&&a.type!=="rangeArea"&&a.type!=="rangeSplineArea"&&a.type!=="candlestick"&&a.type!=="ohlc"&&a.type!=="boxAndWhisker")return;f=a.axisX.convertPixelToValue({x:i}),g=a.getDataPointAtX(f,o),M(g)||(g.dataSeries=a,this.currentDataPointIndex=g.index,n=g.dataPoint)}if(!M(g)&&!M(g.dataPoint)&&!M(g.dataPoint.y))if(g.dataSeries.axisY)if(0<g.dataPoint.y.length){for(n=o=0;n<g.dataPoint.y.length;n++)g.dataPoint.y[n]<g.dataSeries.axisY.viewportMinimum?o--:g.dataPoint.y[n]>g.dataSeries.axisY.viewportMaximum&&o++;o<g.dataPoint.y.length&&o>-g.dataPoint.y.length&&u.push(g)}else a.type==="column"||a.type==="bar"?0>g.dataPoint.y?0>g.dataSeries.axisY.viewportMinimum&&g.dataSeries.axisY.viewportMaximum>=g.dataPoint.y&&u.push(g):g.dataSeries.axisY.viewportMinimum<=g.dataPoint.y&&0<=g.dataSeries.axisY.viewportMaximum&&u.push(g):a.type==="bubble"?(o=this.chart._eventManager.objectMap[a.dataPointIds[g.index]].size/2,g.dataPoint.y>=g.dataSeries.axisY.viewportMinimum-o&&g.dataPoint.y<=g.dataSeries.axisY.viewportMaximum+o&&u.push(g)):a.type==="waterfall"?(o=0,g.cumulativeSumYStartValue<g.dataSeries.axisY.viewportMinimum?o--:g.cumulativeSumYStartValue>g.dataSeries.axisY.viewportMaximum&&o++,g.cumulativeSum<g.dataSeries.axisY.viewportMinimum?o--:g.cumulativeSum>g.dataSeries.axisY.viewportMaximum&&o++,2>o&&-2<o&&u.push(g)):(0<=g.dataSeries.type.indexOf("100")||a.type==="stackedColumn"||a.type==="stackedBar"||g.dataPoint.y>=g.dataSeries.axisY.viewportMinimum&&g.dataPoint.y<=g.dataSeries.axisY.viewportMaximum)&&u.push(g);else u.push(g)}}if(0<u.length){if(this.highlightObjects(u),this.enabled){if(o="",o=this.getToolTipInnerHTML({entries:u}),o!==null){if(this.contentDiv.innerHTML=o,this.isToolTipDefinedInData&&M(this.options.content)&&M(this.options.contentFormatter))for(f=this.contentDiv.getElementsByTagName("span"),n=0;n<f.length;n++)f[n]&&(f[n].style.color=f[n].getAttribute("data-color"));f=!1,this.container.style.display==="none"&&(f=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:V?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=u[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:u[0].dataPoint.color?u[0].dataPoint.color:0<u[0].dataPoint.y?u[0].dataSeries.risingColor:u[0].dataSeries.fallingColor:u[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:u[0].dataSeries.color?u[0].dataSeries.color:u[0].dataSeries._colorSet[a.index%u[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:u[0].dataPoint.color?u[0].dataPoint.color:u[0].dataSeries.color?u[0].dataSeries.color:u[0].dataSeries._colorSet[u[0].index%u[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:V?"italic":"normal"}catch{}u[0].dataSeries.type==="pie"||u[0].dataSeries.type==="doughnut"||u[0].dataSeries.type==="funnel"||u[0].dataSeries.type==="pyramid"||u[0].dataSeries.type==="bar"||u[0].dataSeries.type==="rangeBar"||u[0].dataSeries.type==="stackedBar"||u[0].dataSeries.type==="stackedBar100"?i=i-10-this.container.clientWidth:(i=u[0].dataSeries.axisX.convertValueToPixel(u[0].dataPoint.x)-this.container.clientWidth<<0,i-=10),0>i&&(i+=this.container.clientWidth+20),i+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(i=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),h=u.length!==1||this.shared||u[0].dataSeries.type!=="line"&&u[0].dataSeries.type!=="stepLine"&&u[0].dataSeries.type!=="spline"&&u[0].dataSeries.type!=="area"&&u[0].dataSeries.type!=="stepArea"&&u[0].dataSeries.type!=="splineArea"?u[0].dataSeries.type==="bar"||u[0].dataSeries.type==="rangeBar"||u[0].dataSeries.type==="stackedBar"||u[0].dataSeries.type==="stackedBar100"?u[0].dataSeries.axisX.convertValueToPixel(u[0].dataPoint.x):h:u[0].dataSeries.axisY.convertValueToPixel(u[0].dataPoint.y),h=-h+10,0<h+this.container.clientHeight+5&&(h-=h+this.container.clientHeight+5-0),this.fixMozTransitionDelay(i,h),!this.animationEnabled||f?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=i,this.positionBottom=h,this.container.style.left=i+"px",this.container.style.bottom=h+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(h=[],n=0;n<u.length;n++)h.push({xValue:u[n].dataPoint.x,dataPoint:u[n].dataPoint,dataSeries:u[n].dataSeries,dataPointIndex:u[n].index,dataSeriesIndex:u[n].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:o,entries:h},this._entries=u}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},vt.prototype.highlightObjects=function(i){var h=this.chart.overlaidCanvasCtx;(M(this.chart.clearedOverlayedCanvas)||this.chart.clearedOverlayedCanvas==="toolTip")&&(this.chart.resetOverlayedCanvas(),h.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"),h.save();var o=this.chart.plotArea,n=0;for(h.beginPath(),h.rect(o.x1,o.y1,o.x2-o.x1,o.y2-o.y1),h.clip(),o=0;o<i.length;o++){var a=i[o];if((a=this.chart._eventManager.objectMap[a.dataSeries.dataPointIds[a.index]])&&a.objectType&&a.objectType==="dataPoint"){var n=this.chart.data[a.dataSeriesIndex],u=n.dataPoints[a.dataPointIndex],f=a.dataPointIndex;u.highlightEnabled===!1||n.highlightEnabled!==!0&&u.highlightEnabled!==!0||(n.type==="line"||n.type==="stepLine"||n.type==="spline"||n.type==="scatter"||n.type==="area"||n.type==="stepArea"||n.type==="splineArea"||n.type==="stackedArea"||n.type==="stackedArea100"||n.type==="rangeArea"||n.type==="rangeSplineArea"?(u=n.getMarkerProperties(f,a.x1,a.y1,this.chart.overlaidCanvasCtx),u.size=Math.max(1.5*u.size<<0,10),u.borderColor=u.borderColor||"#FFFFFF",u.borderThickness=u.borderThickness||Math.ceil(.1*u.size),ct.drawMarkers([u]),typeof a.y2<"u"&&(u=n.getMarkerProperties(f,a.x1,a.y2,this.chart.overlaidCanvasCtx),u.size=Math.max(1.5*u.size<<0,10),u.borderColor=u.borderColor||"#FFFFFF",u.borderThickness=u.borderThickness||Math.ceil(.1*u.size),ct.drawMarkers([u]))):n.type==="bubble"?(u=n.getMarkerProperties(f,a.x1,a.y1,this.chart.overlaidCanvasCtx),u.size=a.size,u.color="white",u.borderColor="white",h.globalAlpha=.3,ct.drawMarkers([u]),h.globalAlpha=1):n.type==="column"||n.type==="stackedColumn"||n.type==="stackedColumn100"||n.type==="bar"||n.type==="rangeBar"||n.type==="stackedBar"||n.type==="stackedBar100"||n.type==="rangeColumn"||n.type==="waterfall"?wt(h,a.x1,a.y1,a.x2,a.y2,"white",0,null,!1,!1,!1,!1,.3):n.type==="pie"||n.type==="doughnut"?ei(h,a.center,a.radius,"white",n.type,a.startAngle,a.endAngle,.3,a.percentInnerRadius):n.type==="funnel"||n.type==="pyramid"?Gt(h,a.funnelSection,.3,"white"):n.type==="candlestick"?(h.globalAlpha=1,h.strokeStyle=a.color,h.lineWidth=2*a.borderThickness,n=h.lineWidth%2===0?0:.5,h.beginPath(),h.moveTo(a.x3-n,Math.min(a.y2,a.y3)),h.lineTo(a.x3-n,Math.min(a.y1,a.y4)),h.stroke(),h.beginPath(),h.moveTo(a.x3-n,Math.max(a.y1,a.y4)),h.lineTo(a.x3-n,Math.max(a.y2,a.y3)),h.stroke(),wt(h,a.x1,Math.min(a.y1,a.y4),a.x2,Math.max(a.y1,a.y4),"transparent",2*a.borderThickness,a.color,!1,!1,!1,!1),h.globalAlpha=1):n.type==="ohlc"?(h.globalAlpha=1,h.strokeStyle=a.color,h.lineWidth=2*a.borderThickness,n=h.lineWidth%2===0?0:.5,h.beginPath(),h.moveTo(a.x3-n,a.y2),h.lineTo(a.x3-n,a.y3),h.stroke(),h.beginPath(),h.moveTo(a.x3,a.y1),h.lineTo(a.x1,a.y1),h.stroke(),h.beginPath(),h.moveTo(a.x3,a.y4),h.lineTo(a.x2,a.y4),h.stroke(),h.globalAlpha=1):n.type==="boxAndWhisker"?(h.save(),h.globalAlpha=1,h.strokeStyle=a.stemColor,h.lineWidth=2*a.stemThickness,0<a.stemThickness&&(h.beginPath(),h.moveTo(a.x3,a.y2+a.borderThickness/2),h.lineTo(a.x3,a.y1+a.whiskerThickness/2),h.stroke(),h.beginPath(),h.moveTo(a.x3,a.y4-a.whiskerThickness/2),h.lineTo(a.x3,a.y3-a.borderThickness/2),h.stroke()),h.beginPath(),wt(h,a.x1-a.borderThickness/2,Math.max(a.y2+a.borderThickness/2,a.y3+a.borderThickness/2),a.x2+a.borderThickness/2,Math.min(a.y2-a.borderThickness/2,a.y3-a.borderThickness/2),"transparent",a.borderThickness,a.color,!1,!1,!1,!1),h.globalAlpha=1,h.strokeStyle=a.whiskerColor,h.lineWidth=2*a.whiskerThickness,0<a.whiskerThickness&&(h.beginPath(),h.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y4),h.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y4),h.stroke(),h.beginPath(),h.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y1),h.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y1),h.stroke()),h.globalAlpha=1,h.strokeStyle=a.lineColor,h.lineWidth=2*a.lineThickness,0<a.lineThickness&&(h.beginPath(),h.moveTo(a.x1,a.y5),h.lineTo(a.x2,a.y5),h.stroke()),h.restore(),h.globalAlpha=1):n.type==="error"&&$(h,a.x1,a.y1,a.x2,a.y2,"white",a.whiskerProperties,a.stemProperties,a.isXYSwapped,.3))}}h.restore(),h.globalAlpha=1,h.beginPath()},vt.prototype.getToolTipInnerHTML=function(i){i=i.entries;var h=null,o=null,n=null,a=0,u="";this.isToolTipDefinedInData=!0;for(var f=0;f<i.length;f++)if(i[f].dataSeries.toolTipContent||i[f].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&typeof this.content=="function"||this.contentFormatter))i={chart:this.chart,toolTip:this.options,entries:i},h=this.contentFormatter?this.contentFormatter(i):this.content(i);else if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){for(var v=null,b="",f=0;f<i.length;f++){if(o=i[f].dataSeries,n=i[f].dataPoint,a=i[f].index,u="",f===0&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?b+=typeof this.chart.axisX[0].labels[n.x]<"u"?this.chart.axisX[0].labels[n.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(b+=typeof this.chart.axisX2[0].labels[n.x]<"u"?this.chart.axisX2[0].labels[n.x]:"{x}"),b+="</br>",!o.visible)continue;b=this.chart.replaceKeywordsWithValue(b,n,o,a)}n.toolTipContent===null||typeof n.toolTipContent>"u"&&o.options.toolTipContent===null||(o.type==="line"||o.type==="stepLine"||o.type==="spline"||o.type==="area"||o.type==="stepArea"||o.type==="splineArea"||o.type==="column"||o.type==="bar"||o.type==="scatter"||o.type==="stackedColumn"||o.type==="stackedColumn100"||o.type==="stackedBar"||o.type==="stackedBar100"||o.type==="stackedArea"||o.type==="stackedArea100"||o.type==="waterfall"?(this.chart.axisX&&1<this.chart.axisX.length&&(u+=v!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),u+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}`,v=o.axisXIndex):o.type==="bubble"?(this.chart.axisX&&1<this.chart.axisX.length&&(u+=v!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),u+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}`):o.type==="rangeColumn"||o.type==="rangeBar"||o.type==="rangeArea"||o.type==="rangeSplineArea"||o.type==="error"?(this.chart.axisX&&1<this.chart.axisX.length&&(u+=v!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),u+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}`):o.type==="candlestick"||o.type==="ohlc"?(this.chart.axisX&&1<this.chart.axisX.length&&(u+=v!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),u+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}`):o.type==="boxAndWhisker"&&(this.chart.axisX&&1<this.chart.axisX.length&&(u+=v!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),u+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}`),h===null&&(h=""),o.visible&&(this.reversed===!0?(h=this.chart.replaceKeywordsWithValue(u,n,o,a)+h,f<i.length-1&&(h="</br>"+h)):(h+=this.chart.replaceKeywordsWithValue(u,n,o,a),f<i.length-1&&(h+="</br>"))))}h!==null&&(h=b+h)}else{if(o=i[0].dataSeries,n=i[0].dataPoint,a=i[0].index,n.toolTipContent===null||typeof n.toolTipContent>"u"&&o.options.toolTipContent===null)return null;o.type==="line"||o.type==="stepLine"||o.type==="spline"||o.type==="area"||o.type==="stepArea"||o.type==="splineArea"||o.type==="column"||o.type==="bar"||o.type==="scatter"||o.type==="stackedColumn"||o.type==="stackedColumn100"||o.type==="stackedBar"||o.type==="stackedBar100"||o.type==="stackedArea"||o.type==="stackedArea100"||o.type==="waterfall"?u=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":o.type==="bubble"?u=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":o.type==="pie"||o.type==="doughnut"||o.type==="funnel"||o.type==="pyramid"?u=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(n.name?"{name}:</span>&nbsp;&nbsp;":n.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":o.type==="rangeColumn"||o.type==="rangeBar"||o.type==="rangeArea"||o.type==="rangeSplineArea"||o.type==="error"?u=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":o.type==="candlestick"||o.type==="ohlc"?u=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(n.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":o.type==="boxAndWhisker"&&(u=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(n.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),h===null&&(h=""),h+=this.chart.replaceKeywordsWithValue(u,n,o,a)}return h},vt.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var i=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=i,this.container.style.MsTransition=i,this.container.style.transition=i,this.container.style.MozTransition=this.mozContainerTransition}},vt.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},vt.prototype.hide=function(i){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(typeof i>"u"||i)&&this.chart.resetOverlayedCanvas())},vt.prototype.show=function(i,h,o){this._updateToolTip(i,h,typeof o>"u"?!1:o)},vt.prototype.showAtIndex=function(i,h){},vt.prototype.showAtX=function(i,h){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var o,n,a,u=[];if(a=!1,h=!M(h)&&0<=h&&h<this.chart.data.length?h:0,this.shared)for(var f=0;f<this.chart.data.length;f++)o=this.chart.data[f],(n=o.getDataPointAtX(i,!1))&&n.dataPoint&&!M(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,u.push(n));else o=this.chart.data[h],(n=o.getDataPointAtX(i,!1))&&n.dataPoint&&!M(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,u.push(n));if(0<u.length){for(f=0;f<u.length;f++)if(n=u[f],(this.shared||0<=n.dataSeries.type.indexOf("100"))&&n.dataPoint.x>=n.dataSeries.axisX.viewportMinimum&&n.dataPoint.x<=n.dataSeries.axisX.viewportMaximum){a=!1;break}else if(n.dataPoint.x<n.dataSeries.axisX.viewportMinimum||n.dataPoint.x>n.dataSeries.axisX.viewportMaximum||n.dataPoint.y<n.dataSeries.axisY.viewportMinimum||n.dataPoint.y>n.dataSeries.axisY.viewportMaximum)a=!0;else{a=!1;break}if(a)return this.hide(),!1;if(this.highlightObjects(u),this._entries=u,f="",f=this.getToolTipInnerHTML({entries:u}),f!==null){if(this.contentDiv.innerHTML=f,this.isToolTipDefinedInData&&M(this.options.content)&&M(this.options.contentFormatter))for(n=this.contentDiv.getElementsByTagName("span"),f=0;f<n.length;f++)n[f]&&(n[f].style.color=n[f].getAttribute("data-color"));f=!1,this.container.style.display==="none"&&(f=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:V?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=u[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:u[0].dataPoint.color?u[0].dataPoint.color:0<u[0].dataPoint.y?u[0].dataSeries.risingColor:u[0].dataSeries.fallingColor:u[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:u[0].dataSeries.color?u[0].dataSeries.color:u[0].dataSeries._colorSet[o.index%u[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:u[0].dataPoint.color?u[0].dataPoint.color:u[0].dataSeries.color?u[0].dataSeries.color:u[0].dataSeries._colorSet[u[0].index%u[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:V?"italic":"normal"}catch{}u[0].dataSeries.type==="pie"||u[0].dataSeries.type==="doughnut"||u[0].dataSeries.type==="funnel"||u[0].dataSeries.type==="pyramid"?o=mouseX-10-this.container.clientWidth:(o=u[0].dataSeries.type==="bar"||u[0].dataSeries.type==="rangeBar"||u[0].dataSeries.type==="stackedBar"||u[0].dataSeries.type==="stackedBar100"?u[0].dataSeries.axisY.convertValueToPixel(u[0].dataPoint.y)-this.container.clientWidth<<0:u[0].dataSeries.axisX.convertValueToPixel(u[0].dataPoint.x)-this.container.clientWidth<<0,o-=10),0>o&&(o+=this.container.clientWidth+20),o+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(o=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),u=(u.length!==1||this.shared||u[0].dataSeries.type!=="line"&&u[0].dataSeries.type!=="stepLine"&&u[0].dataSeries.type!=="spline"&&u[0].dataSeries.type!=="area"&&u[0].dataSeries.type!=="stepArea"&&u[0].dataSeries.type!=="splineArea")&&(u[0].dataSeries.type==="bar"||u[0].dataSeries.type==="rangeBar"||u[0].dataSeries.type==="stackedBar"||u[0].dataSeries.type==="stackedBar100")?u[0].dataSeries.axisX.convertValueToPixel(u[0].dataPoint.x):u[0].dataSeries.axisY.convertValueToPixel(u[0].dataPoint.y),u=-u+10,0<u+this.container.clientHeight+5&&(u-=u+this.container.clientHeight+5-0),this.fixMozTransitionDelay(o,u),!this.animationEnabled||f?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=o+"px",this.container.style.bottom=u+"px"}else return this.hide(!1),!1}else return this.hide(),!1;return!0},vt.prototype.fixMozTransitionDelay=function(i,h){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var o=parseFloat(this.container.style.left),o=isNaN(o)?0:o,n=parseFloat(this.container.style.bottom),n=isNaN(n)?0:n;10<Math.sqrt(Math.pow(o-i,2)+Math.pow(n-h,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},vt.prototype.getContainerTransition=function(i){return"left "+i+"s ease-out 0s, bottom "+i+"s ease-out 0s"},Et.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],V&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},Et.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},Et.prototype.mouseEventHandler=function(i){if(i.type==="mousemove"||i.type==="click"){var h=[],o=Lr(i),n=null;if((n=this.chart.getObjectAtXY(o.x,o.y,!1))&&typeof this.objectMap[n]<"u")if(n=this.objectMap[n],n.objectType==="dataPoint"){var a=this.chart.data[n.dataSeriesIndex],u=a.dataPoints[n.dataPointIndex],f=n.dataPointIndex;n.eventParameter={x:o.x,y:o.y,dataPoint:u,dataSeries:a.options,dataPointIndex:f,dataSeriesIndex:a.index,chart:this.chart},n.eventContext={context:u,userContext:u,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},h.push(n),n=this.objectMap[a.id],n.eventParameter={x:o.x,y:o.y,dataPoint:u,dataSeries:a.options,dataPointIndex:f,dataSeriesIndex:a.index,chart:this.chart},n.eventContext={context:a,userContext:a.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},h.push(this.objectMap[a.id])}else n.objectType==="legendItem"&&(a=this.chart.data[n.dataSeriesIndex],u=n.dataPointIndex!==null?a.dataPoints[n.dataPointIndex]:null,n.eventParameter={x:o.x,y:o.y,dataSeries:a.options,dataPoint:u,dataPointIndex:n.dataPointIndex,dataSeriesIndex:n.dataSeriesIndex,chart:this.chart},n.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},h.push(n));for(a=[],o=0;o<this.mouseoveredObjectMaps.length;o++){for(u=!0,n=0;n<h.length;n++)if(h[n].id===this.mouseoveredObjectMaps[o].id){u=!1;break}u?this.fireEvent(this.mouseoveredObjectMaps[o],"mouseout",i):a.push(this.mouseoveredObjectMaps[o])}for(this.mouseoveredObjectMaps=a,o=0;o<h.length;o++){for(a=!1,n=0;n<this.mouseoveredObjectMaps.length;n++)if(h[o].id===this.mouseoveredObjectMaps[n].id){a=!0;break}a||(this.fireEvent(h[o],"mouseover",i),this.mouseoveredObjectMaps.push(h[o])),i.type==="click"?this.fireEvent(h[o],"click",i):i.type==="mousemove"&&this.fireEvent(h[o],"mousemove",i)}}},Et.prototype.fireEvent=function(i,h,o){if(i&&h){var n=i.eventParameter,a=i.eventContext,u=i.eventContext.userContext;u&&a&&u[a[h]]&&u[a[h]].call(u,n),h!=="mouseout"?u.cursor&&u.cursor!==o.target.style.cursor&&(o.target.style.cursor=u.cursor):(o.target.style.cursor=this.chart._defaultCursor,delete i.eventParameter,delete i.eventContext),h==="click"&&i.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[i.dataSeriesIndex],n),h==="click"&&i.objectType==="dataPoint"&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[i.dataSeriesIndex],n)}},Je.prototype.animate=function(i,h,o,n,a){var u=this;for(this.chart.isAnimating=!0,a=a||ve.easing.linear,o&&this.animations.push({startTime:new Date().getTime()+(i||0),duration:h,animationCallback:o,onComplete:n}),i=[];0<this.animations.length;)h=this.animations.shift(),o=new Date().getTime(),n=0,h.startTime<=o&&(n=a(Math.min(o-h.startTime,h.duration),0,1,h.duration),n=Math.min(n,1),isNaN(n)||!isFinite(n))&&(n=1),1>n&&i.push(h),h.animationCallback(n),1<=n&&h.onComplete&&h.onComplete();this.animations=i,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){u.animate.call(u)}):this.chart.isAnimating=!1},Je.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var ve={yScaleAnimation:function(i,h){if(i!==0){var o=h.dest,n=h.source.canvas,a=h.animationBase;o.drawImage(n,0,0,n.width,n.height,0,a-a*i,o.canvas.width/Rt,i*o.canvas.height/Rt)}},xScaleAnimation:function(i,h){if(i!==0){var o=h.dest,n=h.source.canvas,a=h.animationBase;o.drawImage(n,0,0,n.width,n.height,a-a*i,0,i*o.canvas.width/Rt,o.canvas.height/Rt)}},xClipAnimation:function(i,h){if(i!==0){var o=h.dest,n=h.source.canvas;o.save(),0<i&&o.drawImage(n,0,0,n.width*i,n.height,0,0,n.width*i/Rt,n.height/Rt),o.restore()}},fadeInAnimation:function(i,h){if(i!==0){var o=h.dest,n=h.source.canvas;o.save(),o.globalAlpha=i,o.drawImage(n,0,0,n.width,n.height,0,0,o.canvas.width/Rt,o.canvas.height/Rt),o.restore()}},easing:{linear:function(i,h,o,n){return o*i/n+h},easeOutQuad:function(i,h,o,n){return-o*(i/=n)*(i-2)+h},easeOutQuart:function(i,h,o,n){return-o*((i=i/n-1)*i*i*i-1)+h},easeInQuad:function(i,h,o,n){return o*(i/=n)*i+h},easeInQuart:function(i,h,o,n){return o*(i/=n)*i*i*i+h}}},ct={drawMarker:function(i,h,o,n,a,u,f,v){if(o){var b=1;o.fillStyle=u||"#000000",o.strokeStyle=f||"#000000",o.lineWidth=v||0,o.setLineDash&&o.setLineDash(te("solid",v)),n==="circle"?(o.moveTo(i,h),o.beginPath(),o.arc(i,h,a/2,0,2*Math.PI,!1),u&&o.fill(),v&&(f?o.stroke():(b=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=b))):n==="square"?(o.beginPath(),o.rect(i-a/2,h-a/2,a,a),u&&o.fill(),v&&(f?o.stroke():(b=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=b))):n==="triangle"?(o.beginPath(),o.moveTo(i-a/2,h+a/2),o.lineTo(i+a/2,h+a/2),o.lineTo(i,h-a/2),o.closePath(),u&&o.fill(),v&&(f?o.stroke():(b=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=b)),o.beginPath()):n==="cross"&&(o.strokeStyle=u,o.lineWidth=a/4,o.beginPath(),o.moveTo(i-a/2,h-a/2),o.lineTo(i+a/2,h+a/2),o.stroke(),o.moveTo(i+a/2,h-a/2),o.lineTo(i-a/2,h+a/2),o.stroke())}},drawMarkers:function(i){for(var h=0;h<i.length;h++){var o=i[h];ct.drawMarker(o.x,o.y,o.ctx,o.type,o.size,o.color,o.borderColor,o.borderThickness)}}};return P}(),A.version="v3.7.37 GA",window.CanvasJS&&A&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=A)})();document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new te(this))}function t(A,H,Q){var J=Ni.call(arguments,2);return function(){return A.apply(H,J.concat(Ni.call(arguments)))}}function r(A){return String(A).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function s(A){A.namespaces.g_vml_||A.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),A.namespaces.g_o_||A.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),A.styleSheets.ex_canvas_||(A=A.createStyleSheet(),A.owningElement.id="ex_canvas_",A.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function l(A){var H=A.srcElement;switch(A.propertyName){case"width":H.getContext().clearRect(),H.style.width=H.attributes.width.nodeValue+"px",H.firstChild.style.width=H.clientWidth+"px";break;case"height":H.getContext().clearRect(),H.style.height=H.attributes.height.nodeValue+"px",H.firstChild.style.height=H.clientHeight+"px"}}function d(A){A=A.srcElement,A.firstChild&&(A.firstChild.style.width=A.clientWidth+"px",A.firstChild.style.height=A.clientHeight+"px")}function y(){return[[1,0,0],[0,1,0],[0,0,1]]}function w(A,H){for(var Q=y(),J=0;3>J;J++)for(var ae=0;3>ae;ae++){for(var oe=0,we=0;3>we;we++)oe+=A[J][we]*H[we][ae];Q[J][ae]=oe}return Q}function E(A,H){H.fillStyle=A.fillStyle,H.lineCap=A.lineCap,H.lineJoin=A.lineJoin,H.lineWidth=A.lineWidth,H.miterLimit=A.miterLimit,H.shadowBlur=A.shadowBlur,H.shadowColor=A.shadowColor,H.shadowOffsetX=A.shadowOffsetX,H.shadowOffsetY=A.shadowOffsetY,H.strokeStyle=A.strokeStyle,H.globalAlpha=A.globalAlpha,H.font=A.font,H.textAlign=A.textAlign,H.textBaseline=A.textBaseline,H.arcScaleX_=A.arcScaleX_,H.arcScaleY_=A.arcScaleY_,H.lineScale_=A.lineScale_}function M(A){var Q=A.indexOf("(",3),H=A.indexOf(")",Q+1),Q=A.substring(Q+1,H).split(",");return(Q.length!=4||A.charAt(3)!="a")&&(Q[3]=1),Q}function j(A,H,Q){return Math.min(Q,Math.max(H,A))}function Y(A,H,Q){return 0>Q&&Q++,1<Q&&Q--,1>6*Q?A+6*(H-A)*Q:1>2*Q?H:2>3*Q?A+6*(H-A)*(2/3-Q):A}function re(A){if(A in Jt)return Jt[A];var H,Q=1;if(A=String(A),A.charAt(0)=="#")H=A;else if(/^rgb/.test(A)){Q=M(A),H="#";for(var J,ae=0;3>ae;ae++)J=Q[ae].indexOf("%")!=-1?Math.floor(255*(parseFloat(Q[ae])/100)):+Q[ae],H+=Gi[j(J,0,255)];Q=+Q[3]}else if(/^hsl/.test(A)){if(ae=Q=M(A),H=parseFloat(ae[0])/360%360,0>H&&H++,J=j(parseFloat(ae[1])/100,0,1),ae=j(parseFloat(ae[2])/100,0,1),J==0)J=ae=H=ae;else{var oe=.5>ae?ae*(1+J):ae+J-ae*J,we=2*ae-oe;J=Y(we,oe,H+1/3),ae=Y(we,oe,H),H=Y(we,oe,H-1/3)}H="#"+Gi[Math.floor(255*J)]+Gi[Math.floor(255*ae)]+Gi[Math.floor(255*H)],Q=Q[3]}else H=Dn[A]||A;return Jt[A]={color:H,alpha:Q}}function te(A){this.m_=y(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*je,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=A;var H="width:"+A.clientWidth+"px;height:"+A.clientHeight+"px;overflow:hidden;position:absolute",Q=A.ownerDocument.createElement("div");Q.style.cssText=H,A.appendChild(Q),H=Q.cloneNode(!1),H.style.backgroundColor="red",H.style.filter="alpha(opacity=0)",A.appendChild(H),this.element_=Q,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function de(A,H,Q,J){A.currentPath_.push({type:"bezierCurveTo",cp1x:H.x,cp1y:H.y,cp2x:Q.x,cp2y:Q.y,x:J.x,y:J.y}),A.currentX_=J.x,A.currentY_=J.y}function He(A,H){var J=re(A.strokeStyle),Q=J.color,J=J.alpha*A.globalAlpha,ae=A.lineScale_*A.lineWidth;1>ae&&(J*=ae),H.push("<g_vml_:stroke",' opacity="',J,'"',' joinstyle="',A.lineJoin,'"',' miterlimit="',A.miterLimit,'"',' endcap="',fi[A.lineCap]||"square",'"',' weight="',ae,'px"',' color="',Q,'" />')}function Tt(A,H,Q,J){var ae=A.fillStyle,oe=A.arcScaleX_,we=A.arcScaleY_,Xe=J.x-Q.x,Dt=J.y-Q.y;if(ae instanceof Yt){var Ne=0,De=J=0,pe=0,yt=1;if(ae.type_=="gradient"){Ne=ae.x1_/oe,Q=ae.y1_/we;var Pe=be(A,ae.x0_/oe,ae.y0_/we),Ne=be(A,Ne,Q),Ne=180*Math.atan2(Ne.x-Pe.x,Ne.y-Pe.y)/Math.PI;0>Ne&&(Ne+=360),1e-6>Ne&&(Ne=0)}else Pe=be(A,ae.x0_,ae.y0_),J=(Pe.x-Q.x)/Xe,De=(Pe.y-Q.y)/Dt,Xe/=oe*je,Dt/=we*je,yt=ht.max(Xe,Dt),pe=2*ae.r0_/yt,yt=2*ae.r1_/yt-pe;oe=ae.colors_,oe.sort(function(ii,Ia){return ii.offset-Ia.offset}),we=oe.length,Pe=oe[0].color,Q=oe[we-1].color,Xe=oe[0].alpha*A.globalAlpha,A=oe[we-1].alpha*A.globalAlpha;for(var Dt=[],Zi=0;Zi<we;Zi++){var an=oe[Zi];Dt.push(an.offset*yt+pe+" "+an.color)}H.push('<g_vml_:fill type="',ae.type_,'"',' method="none" focus="100%"',' color="',Pe,'"',' color2="',Q,'"',' colors="',Dt.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',Xe,'"',' angle="',Ne,'"',' focusposition="',J,",",De,'" />')}else ae instanceof xt?Xe&&Dt&&H.push("<g_vml_:fill",' position="',-Q.x/Xe*oe*oe,",",-Q.y/Dt*we*we,'"',' type="tile"',' src="',ae.src_,'" />'):(ae=re(A.fillStyle),H.push('<g_vml_:fill color="',ae.color,'" opacity="',ae.alpha*A.globalAlpha,'" />'))}function be(A,H,Q){return A=A.m_,{x:je*(H*A[0][0]+Q*A[1][0]+A[2][0])-Ri,y:je*(H*A[0][1]+Q*A[1][1]+A[2][1])-Ri}}function Ct(A,H,Q){isFinite(H[0][0])&&isFinite(H[0][1])&&isFinite(H[1][0])&&isFinite(H[1][1])&&isFinite(H[2][0])&&isFinite(H[2][1])&&(A.m_=H,Q&&(A.lineScale_=rn(ut(H[0][0]*H[1][1]-H[0][1]*H[1][0]))))}function Yt(A){this.type_=A,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function xt(A,H){if(!A||A.nodeType!=1||A.tagName!="IMG")throw new Ae("TYPE_MISMATCH_ERR");if(A.readyState!="complete")throw new Ae("INVALID_STATE_ERR");switch(H){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=H;break;default:throw new Ae("SYNTAX_ERR")}this.src_=A.src,this.width_=A.width,this.height_=A.height}function Ae(A){this.code=this[A],this.message=A+": DOM Exception "+this.code}var ht=Math,it=ht.round,Ht=ht.sin,$i=ht.cos,ut=ht.abs,rn=ht.sqrt,je=10,Ri=je/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var Ni=Array.prototype.slice;s(document);var on={init:function(A){A=A||document,A.createElement("canvas"),A.attachEvent("onreadystatechange",t(this.init_,this,A))},init_:function(A){A=A.getElementsByTagName("canvas");for(var H=0;H<A.length;H++)this.initElement(A[H])},initElement:function(A){if(!A.getContext){A.getContext=e,s(A.ownerDocument),A.innerHTML="",A.attachEvent("onpropertychange",l),A.attachEvent("onresize",d);var H=A.attributes;H.width&&H.width.specified?A.style.width=H.width.nodeValue+"px":A.width=A.clientWidth,H.height&&H.height.specified?A.style.height=H.height.nodeValue+"px":A.height=A.clientHeight}return A}};on.init();for(var Gi=[],Ce=0;16>Ce;Ce++)for(var Oi=0;16>Oi;Oi++)Gi[16*Ce+Oi]=Ce.toString(16)+Oi.toString(16);var Dn={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},Jt={},V={},fi={butt:"flat",round:"round"},Ce=te.prototype;Ce.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Ce.beginPath=function(){this.currentPath_=[]},Ce.moveTo=function(A,H){var Q=be(this,A,H);this.currentPath_.push({type:"moveTo",x:Q.x,y:Q.y}),this.currentX_=Q.x,this.currentY_=Q.y},Ce.lineTo=function(A,H){var Q=be(this,A,H);this.currentPath_.push({type:"lineTo",x:Q.x,y:Q.y}),this.currentX_=Q.x,this.currentY_=Q.y},Ce.bezierCurveTo=function(A,H,Q,J,ae,oe){ae=be(this,ae,oe),A=be(this,A,H),Q=be(this,Q,J),de(this,A,Q,ae)},Ce.quadraticCurveTo=function(A,H,Q,J){A=be(this,A,H),Q=be(this,Q,J),J={x:this.currentX_+2/3*(A.x-this.currentX_),y:this.currentY_+2/3*(A.y-this.currentY_)},de(this,J,{x:J.x+(Q.x-this.currentX_)/3,y:J.y+(Q.y-this.currentY_)/3},Q)},Ce.arc=function(A,H,Q,J,ae,oe){Q*=je;var we=oe?"at":"wa",Xe=A+$i(J)*Q-Ri,Dt=H+Ht(J)*Q-Ri;J=A+$i(ae)*Q-Ri,ae=H+Ht(ae)*Q-Ri,Xe!=J||oe||(Xe+=.125),A=be(this,A,H),Xe=be(this,Xe,Dt),J=be(this,J,ae),this.currentPath_.push({type:we,x:A.x,y:A.y,radius:Q,xStart:Xe.x,yStart:Xe.y,xEnd:J.x,yEnd:J.y})},Ce.rect=function(A,H,Q,J){this.moveTo(A,H),this.lineTo(A+Q,H),this.lineTo(A+Q,H+J),this.lineTo(A,H+J),this.closePath()},Ce.strokeRect=function(A,H,Q,J){var ae=this.currentPath_;this.beginPath(),this.moveTo(A,H),this.lineTo(A+Q,H),this.lineTo(A+Q,H+J),this.lineTo(A,H+J),this.closePath(),this.stroke(),this.currentPath_=ae},Ce.fillRect=function(A,H,Q,J){var ae=this.currentPath_;this.beginPath(),this.moveTo(A,H),this.lineTo(A+Q,H),this.lineTo(A+Q,H+J),this.lineTo(A,H+J),this.closePath(),this.fill(),this.currentPath_=ae},Ce.createLinearGradient=function(A,H,Q,J){var ae=new Yt("gradient");return ae.x0_=A,ae.y0_=H,ae.x1_=Q,ae.y1_=J,ae},Ce.createRadialGradient=function(A,H,Q,J,ae,oe){var we=new Yt("gradientradial");return we.x0_=A,we.y0_=H,we.r0_=Q,we.x1_=J,we.y1_=ae,we.r1_=oe,we},Ce.drawImage=function(A,H){var Q,J,ae,oe,we,Xe,Dt,Ne;ae=A.runtimeStyle.width,oe=A.runtimeStyle.height,A.runtimeStyle.width="auto",A.runtimeStyle.height="auto";var De=A.width,pe=A.height;if(A.runtimeStyle.width=ae,A.runtimeStyle.height=oe,arguments.length==3)Q=arguments[1],J=arguments[2],we=Xe=0,Dt=ae=De,Ne=oe=pe;else if(arguments.length==5)Q=arguments[1],J=arguments[2],ae=arguments[3],oe=arguments[4],we=Xe=0,Dt=De,Ne=pe;else if(arguments.length==9)we=arguments[1],Xe=arguments[2],Dt=arguments[3],Ne=arguments[4],Q=arguments[5],J=arguments[6],ae=arguments[7],oe=arguments[8];else throw Error("Invalid number of arguments");var yt=be(this,Q,J),Pe=[];if(Pe.push(" <g_vml_:group",' coordsize="',10*je,",",10*je,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Zi=[];Zi.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",it(yt.x/je),",","Dy=",it(yt.y/je),"");var an=be(this,Q+ae,J),ii=be(this,Q,J+oe);Q=be(this,Q+ae,J+oe),yt.x=ht.max(yt.x,an.x,ii.x,Q.x),yt.y=ht.max(yt.y,an.y,ii.y,Q.y),Pe.push("padding:0 ",it(yt.x/je),"px ",it(yt.y/je),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Zi.join(""),", sizingmethod='clip');")}else Pe.push("top:",it(yt.y/je),"px;left:",it(yt.x/je),"px;");Pe.push(' ">','<g_vml_:image src="',A.src,'"',' style="width:',je*ae,"px;"," height:",je*oe,'px"',' cropleft="',we/De,'"',' croptop="',Xe/pe,'"',' cropright="',(De-we-Dt)/De,'"',' cropbottom="',(pe-Xe-Ne)/pe,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Pe.join(""))},Ce.stroke=function(A){var H=[];H.push("<g_vml_:shape",' filled="',!!A,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*je,",",10*je,'"',' stroked="',!A,'"',' path="');for(var Q={x:null,y:null},J={x:null,y:null},ae=0;ae<this.currentPath_.length;ae++){var oe=this.currentPath_[ae];switch(oe.type){case"moveTo":H.push(" m ",it(oe.x),",",it(oe.y));break;case"lineTo":H.push(" l ",it(oe.x),",",it(oe.y));break;case"close":H.push(" x "),oe=null;break;case"bezierCurveTo":H.push(" c ",it(oe.cp1x),",",it(oe.cp1y),",",it(oe.cp2x),",",it(oe.cp2y),",",it(oe.x),",",it(oe.y));break;case"at":case"wa":H.push(" ",oe.type," ",it(oe.x-this.arcScaleX_*oe.radius),",",it(oe.y-this.arcScaleY_*oe.radius)," ",it(oe.x+this.arcScaleX_*oe.radius),",",it(oe.y+this.arcScaleY_*oe.radius)," ",it(oe.xStart),",",it(oe.yStart)," ",it(oe.xEnd),",",it(oe.yEnd))}oe&&((Q.x==null||oe.x<Q.x)&&(Q.x=oe.x),(J.x==null||oe.x>J.x)&&(J.x=oe.x),(Q.y==null||oe.y<Q.y)&&(Q.y=oe.y),(J.y==null||oe.y>J.y)&&(J.y=oe.y))}H.push(' ">'),A?Tt(this,H,Q,J):He(this,H),H.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",H.join(""))},Ce.fill=function(){this.stroke(!0)},Ce.closePath=function(){this.currentPath_.push({type:"close"})},Ce.save=function(){var A={};E(this,A),this.aStack_.push(A),this.mStack_.push(this.m_),this.m_=w(y(),this.m_)},Ce.restore=function(){this.aStack_.length&&(E(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Ce.translate=function(A,H){Ct(this,w([[1,0,0],[0,1,0],[A,H,1]],this.m_),!1)},Ce.rotate=function(A){var H=$i(A);A=Ht(A),Ct(this,w([[H,A,0],[-A,H,0],[0,0,1]],this.m_),!1)},Ce.scale=function(A,H){this.arcScaleX_*=A,this.arcScaleY_*=H,Ct(this,w([[A,0,0],[0,H,0],[0,0,1]],this.m_),!0)},Ce.transform=function(A,H,Q,J,ae,oe){Ct(this,w([[A,H,0],[Q,J,0],[ae,oe,1]],this.m_),!0)},Ce.setTransform=function(A,H,Q,J,ae,oe){Ct(this,[[A,H,0],[Q,J,0],[ae,oe,1]],!0)},Ce.drawText_=function(A,H,Q,J,ae){var oe=this.m_;J=0;var we=1e3,Xe=0,Dt=[],Ne;if(Ne=this.font,V[Ne])Ne=V[Ne];else{var De=document.createElement("div").style;try{De.font=Ne}catch{}Ne=V[Ne]={style:De.fontStyle||"normal",variant:De.fontVariant||"normal",weight:De.fontWeight||"normal",size:De.fontSize||10,family:De.fontFamily||"sans-serif"}}var De=Ne,pe=this.element_;Ne={};for(var yt in De)Ne[yt]=De[yt];switch(yt=parseFloat(pe.currentStyle.fontSize),pe=parseFloat(De.size),typeof De.size=="number"?Ne.size=De.size:De.size.indexOf("px")!=-1?Ne.size=pe:De.size.indexOf("em")!=-1?Ne.size=yt*pe:De.size.indexOf("%")!=-1?Ne.size=yt/100*pe:De.size.indexOf("pt")!=-1?Ne.size=pe/.75:Ne.size=yt,Ne.size*=.981,yt=Ne.style+" "+Ne.variant+" "+Ne.weight+" "+Ne.size+"px "+Ne.family,pe=this.element_.currentStyle,De=this.textAlign.toLowerCase(),De){case"left":case"center":case"right":break;case"end":De=pe.direction=="ltr"?"right":"left";break;case"start":De=pe.direction=="rtl"?"right":"left";break;default:De="left"}switch(this.textBaseline){case"hanging":case"top":Xe=Ne.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":Xe=-Ne.size/2.25}switch(De){case"right":J=1e3,we=.05;break;case"center":J=we=500}H=be(this,H+0,Q+Xe),Dt.push('<g_vml_:line from="',-J,' 0" to="',we,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!ae,'" stroked="',!!ae,'" style="position:absolute;width:1px;height:1px;">'),ae?He(this,Dt):Tt(this,Dt,{x:-J,y:0},{x:we,y:Ne.size}),ae=oe[0][0].toFixed(3)+","+oe[1][0].toFixed(3)+","+oe[0][1].toFixed(3)+","+oe[1][1].toFixed(3)+",0,0",H=it(H.x/je)+","+it(H.y/je),Dt.push('<g_vml_:skew on="t" matrix="',ae,'" ',' offset="',H,'" origin="',J,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',r(A),'" style="v-text-align:',De,";font:",r(yt),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",Dt.join(""))},Ce.fillText=function(A,H,Q,J){this.drawText_(A,H,Q,J,!1)},Ce.strokeText=function(A,H,Q,J){this.drawText_(A,H,Q,J,!0)},Ce.measureText=function(A){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var H=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(H.createTextNode(A)),{width:this.textMeasureEl_.offsetWidth}},Ce.clip=function(){},Ce.arcTo=function(){},Ce.createPattern=function(A,H){return new xt(A,H)},Yt.prototype.addColorStop=function(A,H){H=re(H),this.colors_.push({offset:A,color:H.color,alpha:H.alpha})},Ce=Ae.prototype=Error(),Ce.INDEX_SIZE_ERR=1,Ce.DOMSTRING_SIZE_ERR=2,Ce.HIERARCHY_REQUEST_ERR=3,Ce.WRONG_DOCUMENT_ERR=4,Ce.INVALID_CHARACTER_ERR=5,Ce.NO_DATA_ALLOWED_ERR=6,Ce.NO_MODIFICATION_ALLOWED_ERR=7,Ce.NOT_FOUND_ERR=8,Ce.NOT_SUPPORTED_ERR=9,Ce.INUSE_ATTRIBUTE_ERR=10,Ce.INVALID_STATE_ERR=11,Ce.SYNTAX_ERR=12,Ce.INVALID_MODIFICATION_ERR=13,Ce.NAMESPACE_ERR=14,Ce.INVALID_ACCESS_ERR=15,Ce.VALIDATION_ERR=16,Ce.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=on,CanvasRenderingContext2D=te,CanvasGradient=Yt,CanvasPattern=xt,DOMException=Ae}()});var Ac=null;var _a=1,Fc=Symbol("SIGNAL");function oi(e){let t=Ac;return Ac=e,t}var Lc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nm(e){if(!(Aa(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===_a)){if(!e.producerMustRecompute(e)&&!ka(e)){e.dirty=!1,e.lastCleanEpoch=_a;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=_a}}function Rc(e){return e&&(e.nextProducerIndex=0),oi(e)}function Nc(e,t){if(oi(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Aa(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ea(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ka(e){Br(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==r.version||(nm(r),s!==r.version))return!0}return!1}function Oc(e){if(Br(e),Aa(e))for(let t=0;t<e.producerNode.length;t++)Ea(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ea(e,t){if(sm(e),Br(e),e.liveConsumerNode.length===1)for(let s=0;s<e.producerNode.length;s++)Ea(e.producerNode[s],e.producerIndexOfThis[s]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let s=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];Br(l),l.producerIndexOfThis[s]=t}}function Aa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Br(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function sm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function rm(){throw new Error}var om=rm;function Bc(e){om=e}function ze(e){return typeof e=="function"}function Gn(e){let r=e(s=>{Error.call(s),s.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Vr=Gn(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((s,l)=>`${l+1}) ${s.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Es(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Ot=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let d of r)d.remove(this);else r.remove(this);let{initialTeardown:s}=this;if(ze(s))try{s()}catch(d){t=d instanceof Vr?d.errors:[d]}let{_finalizers:l}=this;if(l){this._finalizers=null;for(let d of l)try{Vc(d)}catch(y){t=t??[],y instanceof Vr?t=[...t,...y.errors]:t.push(y)}}if(t)throw new Vr(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Vc(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Es(r,t)}remove(t){let{_finalizers:r}=this;r&&Es(r,t),t instanceof e&&t._removeParent(this)}};Ot.EMPTY=(()=>{let e=new Ot;return e.closed=!0,e})();var Fa=Ot.EMPTY;function Wr(e){return e instanceof Ot||e&&"closed"in e&&ze(e.remove)&&ze(e.add)&&ze(e.unsubscribe)}function Vc(e){ze(e)?e():e.unsubscribe()}var Ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zn={setTimeout(e,t,...r){let{delegate:s}=Zn;return s?.setTimeout?s.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=Zn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function jr(e){Zn.setTimeout(()=>{let{onUnhandledError:t}=Ii;if(t)t(e);else throw e})}function As(){}var Wc=La("C",void 0,void 0);function jc(e){return La("E",void 0,e)}function zc(e){return La("N",e,void 0)}function La(e,t,r){return{kind:e,value:t,error:r}}var In=null;function Kn(e){if(Ii.useDeprecatedSynchronousErrorHandling){let t=!In;if(t&&(In={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:s}=In;if(In=null,r)throw s}}else e()}function Uc(e){Ii.useDeprecatedSynchronousErrorHandling&&In&&(In.errorThrown=!0,In.error=e)}var Pn=class extends Ot{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wr(t)&&t.add(this)):this.destination=hm}static create(t,r,s){return new Qn(t,r,s)}next(t){this.isStopped?Na(zc(t),this):this._next(t)}error(t){this.isStopped?Na(jc(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Na(Wc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},am=Function.prototype.bind;function Ra(e,t){return am.call(e,t)}var Oa=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(s){zr(s)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(s){zr(s)}else zr(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){zr(r)}}},Qn=class extends Pn{constructor(t,r,s){super();let l;if(ze(t)||!t)l={next:t??void 0,error:r??void 0,complete:s??void 0};else{let d;this&&Ii.useDeprecatedNextContext?(d=Object.create(t),d.unsubscribe=()=>this.unsubscribe(),l={next:t.next&&Ra(t.next,d),error:t.error&&Ra(t.error,d),complete:t.complete&&Ra(t.complete,d)}):l=t}this.destination=new Oa(l)}};function zr(e){Ii.useDeprecatedSynchronousErrorHandling?Uc(e):jr(e)}function lm(e){throw e}function Na(e,t){let{onStoppedNotification:r}=Ii;r&&Zn.setTimeout(()=>r(e,t))}var hm={closed:!0,next:As,error:lm,complete:As};var Jn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ai(e){return e}function Ba(...e){return Va(e)}function Va(e){return e.length===0?ai:e.length===1?e[0]:function(r){return e.reduce((s,l)=>l(s),r)}}var mt=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let s=new e;return s.source=this,s.operator=r,s}subscribe(r,s,l){let d=um(r)?r:new Qn(r,s,l);return Kn(()=>{let{operator:y,source:w}=this;d.add(y?y.call(d,w):w?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(r){try{return this._subscribe(r)}catch(s){r.error(s)}}forEach(r,s){return s=Xc(s),new s((l,d)=>{let y=new Qn({next:w=>{try{r(w)}catch(E){d(E),y.unsubscribe()}},error:d,complete:l});this.subscribe(y)})}_subscribe(r){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(r)}[Jn](){return this}pipe(...r){return Va(r)(this)}toPromise(r){return r=Xc(r),new r((s,l)=>{let d;this.subscribe(y=>d=y,y=>l(y),()=>s(d))})}}return e.create=t=>new e(t),e})();function Xc(e){var t;return(t=e??Ii.Promise)!==null&&t!==void 0?t:Promise}function cm(e){return e&&ze(e.next)&&ze(e.error)&&ze(e.complete)}function um(e){return e&&e instanceof Pn||cm(e)&&Wr(e)}function Wa(e){return ze(e?.lift)}function ot(e){return t=>{if(Wa(t))return t.lift(function(r){try{return e(r,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(e,t,r,s,l){return new ja(e,t,r,s,l)}var ja=class extends Pn{constructor(t,r,s,l,d,y){super(t),this.onFinalize=d,this.shouldUnsubscribe=y,this._next=r?function(w){try{r(w)}catch(E){t.error(E)}}:super._next,this._error=l?function(w){try{l(w)}catch(E){t.error(E)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function qn(){return ot((e,t)=>{let r=null;e._refCount++;let s=at(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let l=e._connection,d=r;r=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});e.subscribe(s),s.closed||(r=e.connect())})}var es=class extends mt{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Wa(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ot;let r=this.getSubject();t.add(this.source.subscribe(at(r,void 0,()=>{this._teardown(),r.complete()},s=>{this._teardown(),r.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ot.EMPTY)}return t}refCount(){return qn()(this)}};var Yc=Gn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var li=(()=>{class e extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let s=new Ur(this,this);return s.operator=r,s}_throwIfClosed(){if(this.closed)throw new Yc}next(r){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let s of this.currentObservers)s.next(r)}})}error(r){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:s}=this;for(;s.length;)s.shift().error(r)}})}complete(){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:s,isStopped:l,observers:d}=this;return s||l?Fa:(this.currentObservers=null,d.push(r),new Ot(()=>{this.currentObservers=null,Es(d,r)}))}_checkFinalizedStatuses(r){let{hasError:s,thrownError:l,isStopped:d}=this;s?r.error(l):d&&r.complete()}asObservable(){let r=new mt;return r.source=this,r}}return e.create=(t,r)=>new Ur(t,r),e})(),Ur=class extends li{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.next)===null||s===void 0||s.call(r,t)}error(t){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.error)===null||s===void 0||s.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,s;return(s=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&s!==void 0?s:Fa}};var Zt=class extends li{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:s}=this;if(t)throw r;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}};var gi=new mt(e=>e.complete());function Hc(e){return e&&ze(e.schedule)}function $c(e){return e[e.length-1]}function Gc(e){return ze($c(e))?e.pop():void 0}function hn(e){return Hc($c(e))?e.pop():void 0}function Kc(e,t,r,s){function l(d){return d instanceof r?d:new r(function(y){y(d)})}return new(r||(r=Promise))(function(d,y){function w(j){try{M(s.next(j))}catch(Y){y(Y)}}function E(j){try{M(s.throw(j))}catch(Y){y(Y)}}function M(j){j.done?d(j.value):l(j.value).then(w,E)}M((s=s.apply(e,t||[])).next())})}function Zc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(e){return this instanceof _n?(this.v=e,this):new _n(e)}function Qc(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),l,d=[];return l={},y("next"),y("throw"),y("return"),l[Symbol.asyncIterator]=function(){return this},l;function y(re){s[re]&&(l[re]=function(te){return new Promise(function(de,He){d.push([re,te,de,He])>1||w(re,te)})})}function w(re,te){try{E(s[re](te))}catch(de){Y(d[0][3],de)}}function E(re){re.value instanceof _n?Promise.resolve(re.value.v).then(M,j):Y(d[0][2],re)}function M(re){w("next",re)}function j(re){w("throw",re)}function Y(re,te){re(te),d.shift(),d.length&&w(d[0][0],d[0][1])}}function Jc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zc=="function"?Zc(e):e[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(d){r[d]=e[d]&&function(y){return new Promise(function(w,E){y=e[d](y),l(w,E,y.done,y.value)})}}function l(d,y,w,E){Promise.resolve(E).then(function(M){d({value:M,done:w})},y)}}var Xr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Yr(e){return ze(e?.then)}function Hr(e){return ze(e[Jn])}function $r(e){return Symbol.asyncIterator&&ze(e?.[Symbol.asyncIterator])}function Gr(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zr=dm();function Kr(e){return ze(e?.[Zr])}function Qr(e){return Qc(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:s,done:l}=yield _n(r.read());if(l)return yield _n(void 0);yield yield _n(s)}}finally{r.releaseLock()}})}function Jr(e){return ze(e?.getReader)}function Xt(e){if(e instanceof mt)return e;if(e!=null){if(Hr(e))return pm(e);if(Xr(e))return fm(e);if(Yr(e))return gm(e);if($r(e))return qc(e);if(Kr(e))return mm(e);if(Jr(e))return xm(e)}throw Gr(e)}function pm(e){return new mt(t=>{let r=e[Jn]();if(ze(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fm(e){return new mt(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function gm(e){return new mt(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,jr)})}function mm(e){return new mt(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function qc(e){return new mt(t=>{ym(e,t).catch(r=>t.error(r))})}function xm(e){return qc(Qr(e))}function ym(e,t){var r,s,l,d;return Kc(this,void 0,void 0,function*(){try{for(r=Jc(e);s=yield r.next(),!s.done;){let y=s.value;if(t.next(y),t.closed)return}}catch(y){l={error:y}}finally{try{s&&!s.done&&(d=r.return)&&(yield d.call(r))}finally{if(l)throw l.error}}t.complete()})}function si(e,t,r,s=0,l=!1){let d=t.schedule(function(){r(),l?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(d),!l)return d}function qr(e,t=0){return ot((r,s)=>{r.subscribe(at(s,l=>si(s,e,()=>s.next(l),t),()=>si(s,e,()=>s.complete(),t),l=>si(s,e,()=>s.error(l),t)))})}function eo(e,t=0){return ot((r,s)=>{s.add(e.schedule(()=>r.subscribe(s),t))})}function eu(e,t){return Xt(e).pipe(eo(t),qr(t))}function tu(e,t){return Xt(e).pipe(eo(t),qr(t))}function iu(e,t){return new mt(r=>{let s=0;return t.schedule(function(){s===e.length?r.complete():(r.next(e[s++]),r.closed||this.schedule())})})}function nu(e,t){return new mt(r=>{let s;return si(r,t,()=>{s=e[Zr](),si(r,t,()=>{let l,d;try{({value:l,done:d}=s.next())}catch(y){r.error(y);return}d?r.complete():r.next(l)},0,!0)}),()=>ze(s?.return)&&s.return()})}function to(e,t){if(!e)throw new Error("Iterable cannot be null");return new mt(r=>{si(r,t,()=>{let s=e[Symbol.asyncIterator]();si(r,t,()=>{s.next().then(l=>{l.done?r.complete():r.next(l.value)})},0,!0)})})}function su(e,t){return to(Qr(e),t)}function ru(e,t){if(e!=null){if(Hr(e))return eu(e,t);if(Xr(e))return iu(e,t);if(Yr(e))return tu(e,t);if($r(e))return to(e,t);if(Kr(e))return nu(e,t);if(Jr(e))return su(e,t)}throw Gr(e)}function Ft(e,t){return t?ru(e,t):Xt(e)}function We(...e){let t=hn(e);return Ft(e,t)}function ts(e,t){let r=ze(e)?e:()=>e,s=l=>l.error(r());return new mt(t?l=>t.schedule(s,0,l):s)}function za(e){return!!e&&(e instanceof mt||ze(e.lift)&&ze(e.subscribe))}var Ki=Gn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function st(e,t){return ot((r,s)=>{let l=0;r.subscribe(at(s,d=>{s.next(e.call(t,d,l++))}))})}var{isArray:vm}=Array;function bm(e,t){return vm(t)?e(...t):e(t)}function ou(e){return st(t=>bm(e,t))}var{isArray:Mm}=Array,{getPrototypeOf:Cm,prototype:wm,keys:Tm}=Object;function au(e){if(e.length===1){let t=e[0];if(Mm(t))return{args:t,keys:null};if(Dm(t)){let r=Tm(t);return{args:r.map(s=>t[s]),keys:r}}}return{args:e,keys:null}}function Dm(e){return e&&typeof e=="object"&&Cm(e)===wm}function lu(e,t){return e.reduce((r,s,l)=>(r[s]=t[l],r),{})}function io(...e){let t=hn(e),r=Gc(e),{args:s,keys:l}=au(e);if(s.length===0)return Ft([],t);let d=new mt(Sm(s,t,l?y=>lu(l,y):ai));return r?d.pipe(ou(r)):d}function Sm(e,t,r=ai){return s=>{hu(t,()=>{let{length:l}=e,d=new Array(l),y=l,w=l;for(let E=0;E<l;E++)hu(t,()=>{let M=Ft(e[E],t),j=!1;M.subscribe(at(s,Y=>{d[E]=Y,j||(j=!0,w--),w||s.next(r(d.slice()))},()=>{--y||s.complete()}))},s)},s)}}function hu(e,t,r){e?si(r,e,t):t()}function cu(e,t,r,s,l,d,y,w){let E=[],M=0,j=0,Y=!1,re=()=>{Y&&!E.length&&!M&&t.complete()},te=He=>M<s?de(He):E.push(He),de=He=>{d&&t.next(He),M++;let Tt=!1;Xt(r(He,j++)).subscribe(at(t,be=>{l?.(be),d?te(be):t.next(be)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(M--;E.length&&M<s;){let be=E.shift();y?si(t,y,()=>de(be)):de(be)}re()}catch(be){t.error(be)}}))};return e.subscribe(at(t,te,()=>{Y=!0,re()})),()=>{w?.()}}function Bt(e,t,r=1/0){return ze(t)?Bt((s,l)=>st((d,y)=>t(s,d,l,y))(Xt(e(s,l))),r):(typeof t=="number"&&(r=t),ot((s,l)=>cu(s,l,e,r)))}function Ua(e=1/0){return Bt(ai,e)}function uu(){return Ua(1)}function is(...e){return uu()(Ft(e,hn(e)))}function no(e){return new mt(t=>{Xt(e()).subscribe(t)})}function mi(e,t){return ot((r,s)=>{let l=0;r.subscribe(at(s,d=>e.call(t,d,l++)&&s.next(d)))})}function cn(e){return ot((t,r)=>{let s=null,l=!1,d;s=t.subscribe(at(r,void 0,void 0,y=>{d=Xt(e(y,cn(e)(t))),s?(s.unsubscribe(),s=null,d.subscribe(r)):l=!0})),l&&(s.unsubscribe(),s=null,d.subscribe(r))})}function du(e,t,r,s,l){return(d,y)=>{let w=r,E=t,M=0;d.subscribe(at(y,j=>{let Y=M++;E=w?e(E,j,Y):(w=!0,j),s&&y.next(E)},l&&(()=>{w&&y.next(E),y.complete()})))}}function kn(e,t){return ze(t)?Bt(e,t,1):Bt(e,1)}function un(e){return ot((t,r)=>{let s=!1;t.subscribe(at(r,l=>{s=!0,r.next(l)},()=>{s||r.next(e),r.complete()}))})}function Qi(e){return e<=0?()=>gi:ot((t,r)=>{let s=0;t.subscribe(at(r,l=>{++s<=e&&(r.next(l),e<=s&&r.complete())}))})}function Xa(e){return st(()=>e)}function so(e=Im){return ot((t,r)=>{let s=!1;t.subscribe(at(r,l=>{s=!0,r.next(l)},()=>s?r.complete():r.error(e())))})}function Im(){return new Ki}function ns(e){return ot((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function Pi(e,t){let r=arguments.length>=2;return s=>s.pipe(e?mi((l,d)=>e(l,d,s)):ai,Qi(1),r?un(t):so(()=>new Ki))}function ss(e){return e<=0?()=>gi:ot((t,r)=>{let s=[];t.subscribe(at(r,l=>{s.push(l),e<s.length&&s.shift()},()=>{for(let l of s)r.next(l);r.complete()},void 0,()=>{s=null}))})}function Ya(e,t){let r=arguments.length>=2;return s=>s.pipe(e?mi((l,d)=>e(l,d,s)):ai,ss(1),r?un(t):so(()=>new Ki))}function Ha(e,t){return ot(du(e,t,arguments.length>=2,!0))}function $a(...e){let t=hn(e);return ot((r,s)=>{(t?is(e,r,t):is(e,r)).subscribe(s)})}function xi(e,t){return ot((r,s)=>{let l=null,d=0,y=!1,w=()=>y&&!l&&s.complete();r.subscribe(at(s,E=>{l?.unsubscribe();let M=0,j=d++;Xt(e(E,j)).subscribe(l=at(s,Y=>s.next(t?t(E,Y,j,M++):Y),()=>{l=null,w()}))},()=>{y=!0,w()}))})}function Ga(e){return ot((t,r)=>{Xt(e).subscribe(at(r,()=>r.complete(),As)),!r.closed&&t.subscribe(r)})}function Lt(e,t,r){let s=ze(e)||t||r?{next:e,error:t,complete:r}:e;return s?ot((l,d)=>{var y;(y=s.subscribe)===null||y===void 0||y.call(s);let w=!0;l.subscribe(at(d,E=>{var M;(M=s.next)===null||M===void 0||M.call(s,E),d.next(E)},()=>{var E;w=!1,(E=s.complete)===null||E===void 0||E.call(s),d.complete()},E=>{var M;w=!1,(M=s.error)===null||M===void 0||M.call(s,E),d.error(E)},()=>{var E,M;w&&((E=s.unsubscribe)===null||E===void 0||E.call(s)),(M=s.finalize)===null||M===void 0||M.call(s)}))}):ai}var Ee=class extends Error{constructor(t,r){super(Fo(t,r)),this.code=t}};function Fo(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Mt(e){for(let t in e)if(e[t]===Mt)return t;throw Error("Could not find renamed property on target object.")}function ri(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(ri).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r===-1?t:t.substring(0,r)}function pu(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var _m=Mt({__forward_ref__:Mt});function Zu(e){return e.__forward_ref__=Zu,e.toString=function(){return ri(this())},e}function vi(e){return Ku(e)?e():e}function Ku(e){return typeof e=="function"&&e.hasOwnProperty(_m)&&e.__forward_ref__===Zu}function Qu(e){return e&&!!e.\u0275providers}var km=Mt({\u0275cmp:Mt}),Em=Mt({\u0275dir:Mt}),Am=Mt({\u0275pipe:Mt}),Fm=Mt({\u0275mod:Mt}),go=Mt({\u0275fac:Mt}),Fs=Mt({__NG_ELEMENT_ID__:Mt}),fu=Mt({__NG_ENV_ID__:Mt});function Ju(e){return typeof e=="string"?e:e==null?"":String(e)}function Lm(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ju(e)}function Rm(e,t){let r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ee(-200,e)}function zl(e,t){throw new Ee(-201,!1)}function Ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function us(e){return{providers:e.providers||[],imports:e.imports||[]}}function Lo(e){return gu(e,ed)||gu(e,td)}function qu(e){return Lo(e)!==null}function gu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Nm(e){let t=e&&(e[ed]||e[td]);return t||null}function mu(e){return e&&(e.hasOwnProperty(xu)||e.hasOwnProperty(Om))?e[xu]:null}var ed=Mt({\u0275prov:Mt}),xu=Mt({\u0275inj:Mt}),td=Mt({ngInjectableDef:Mt}),Om=Mt({ngInjectorDef:Mt}),Ke=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ke||{}),al;function Bm(){return al}function yi(e){let t=al;return al=e,t}function id(e,t,r){let s=Lo(e);if(s&&s.providedIn=="root")return s.value===void 0?s.value=s.factory():s.value;if(r&Ke.Optional)return null;if(t!==void 0)return t;zl(e,"Injector")}var Ls=globalThis;var Qe=class{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=Ue({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var Vm={},Os=Vm,ll="__NG_DI_FLAG__",mo="ngTempTokenPath",Wm="ngTokenPath",jm=/\n/gm,zm="\u0275",yu="__source",Rs;function dn(e){let t=Rs;return Rs=e,t}function Um(e,t=Ke.Default){if(Rs===void 0)throw new Ee(-203,!1);return Rs===null?id(e,void 0,t):Rs.get(e,t&Ke.Optional?null:void 0,t)}function lt(e,t=Ke.Default){return(Bm()||Um)(vi(e),t)}function ye(e,t=Ke.Default){return lt(e,Ro(t))}function Ro(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function hl(e){let t=[];for(let r=0;r<e.length;r++){let s=vi(e[r]);if(Array.isArray(s)){if(s.length===0)throw new Ee(900,!1);let l,d=Ke.Default;for(let y=0;y<s.length;y++){let w=s[y],E=Xm(w);typeof E=="number"?E===-1?l=w.token:d|=E:l=w}t.push(lt(l,d))}else t.push(lt(s))}return t}function nd(e,t){return e[ll]=t,e.prototype[ll]=t,e}function Xm(e){return e[ll]}function Ym(e,t,r,s){let l=e[mo];throw t[yu]&&l.unshift(t[yu]),e.message=Hm(`
`+e.message,l,r,s),e[Wm]=l,e[mo]=null,e}function Hm(e,t,r,s=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==zm?e.slice(2):e;let l=ri(t);if(Array.isArray(t))l=t.map(ri).join(" -> ");else if(typeof t=="object"){let d=[];for(let y in t)if(t.hasOwnProperty(y)){let w=t[y];d.push(y+":"+(typeof w=="string"?JSON.stringify(w):ri(w)))}l=`{${d.join(", ")}}`}return`${r}${s?"("+s+")":""}[${l}]: ${e.replace(jm,`
  `)}`}function Qs(e){return{toString:e}.toString()}var sd=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(sd||{}),ji=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ji||{}),Bs={},ki=[],qi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(qi||{});function rd(e,t,r){let s=e.length;for(;;){let l=e.indexOf(t,r);if(l===-1)return l;if(l===0||e.charCodeAt(l-1)<=32){let d=t.length;if(l+d===s||e.charCodeAt(l+d)<=32)return l}r=l+1}}function cl(e,t,r){let s=0;for(;s<r.length;){let l=r[s];if(typeof l=="number"){if(l!==0)break;s++;let d=r[s++],y=r[s++],w=r[s++];e.setAttribute(t,y,w,d)}else{let d=l,y=r[++s];Gm(d)?e.setProperty(t,d,y):e.setAttribute(t,d,y),s++}}return s}function $m(e){return e===3||e===4||e===6}function Gm(e){return e.charCodeAt(0)===64}function Ul(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){let l=t[s];typeof l=="number"?r=l:r===0||(r===-1||r===2?vu(e,r,l,null,t[++s]):vu(e,r,l,null,null))}}return e}function vu(e,t,r,s,l){let d=0,y=e.length;if(t===-1)y=-1;else for(;d<e.length;){let w=e[d++];if(typeof w=="number"){if(w===t){y=-1;break}else if(w>t){y=d-1;break}}}for(;d<e.length;){let w=e[d];if(typeof w=="number")break;if(w===r){if(s===null){l!==null&&(e[d+1]=l);return}else if(s===e[d+1]){e[d+2]=l;return}}d++,s!==null&&d++,l!==null&&d++}y!==-1&&(e.splice(y,0,t),d=y+1),e.splice(d++,0,r),s!==null&&e.splice(d++,0,s),l!==null&&e.splice(d++,0,l)}var od="ng-template";function Zm(e,t,r){let s=0,l=!0;for(;s<e.length;){let d=e[s++];if(typeof d=="string"&&l){let y=e[s++];if(r&&d==="class"&&rd(y.toLowerCase(),t,0)!==-1)return!0}else if(d===1){for(;s<e.length&&typeof(d=e[s++])=="string";)if(d.toLowerCase()===t)return!0;return!1}else typeof d=="number"&&(l=!1)}return!1}function ad(e){return e.type===4&&e.value!==od}function Km(e,t,r){let s=e.type===4&&!r?od:e.value;return t===s}function Qm(e,t,r){let s=4,l=e.attrs||[],d=ex(l),y=!1;for(let w=0;w<t.length;w++){let E=t[w];if(typeof E=="number"){if(!y&&!_i(s)&&!_i(E))return!1;if(y&&_i(E))continue;y=!1,s=E|s&1;continue}if(!y)if(s&4){if(s=2|s&1,E!==""&&!Km(e,E,r)||E===""&&t.length===1){if(_i(s))return!1;y=!0}}else{let M=s&8?E:t[++w];if(s&8&&e.attrs!==null){if(!Zm(e.attrs,M,r)){if(_i(s))return!1;y=!0}continue}let j=s&8?"class":E,Y=Jm(j,l,ad(e),r);if(Y===-1){if(_i(s))return!1;y=!0;continue}if(M!==""){let re;Y>d?re="":re=l[Y+1].toLowerCase();let te=s&8?re:null;if(te&&rd(te,M,0)!==-1||s&2&&M!==re){if(_i(s))return!1;y=!0}}}}return _i(s)||y}function _i(e){return(e&1)===0}function Jm(e,t,r,s){if(t===null)return-1;let l=0;if(s||!r){let d=!1;for(;l<t.length;){let y=t[l];if(y===e)return l;if(y===3||y===6)d=!0;else if(y===1||y===2){let w=t[++l];for(;typeof w=="string";)w=t[++l];continue}else{if(y===4)break;if(y===0){l+=4;continue}}l+=d?1:2}return-1}else return tx(t,e)}function qm(e,t,r=!1){for(let s=0;s<t.length;s++)if(Qm(e,t[s],r))return!0;return!1}function ex(e){for(let t=0;t<e.length;t++){let r=e[t];if($m(r))return t}return e.length}function tx(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let s=e[r];if(typeof s=="number")return-1;if(s===t)return r;r++}return-1}function bu(e,t){return e?":not("+t.trim()+")":t}function ix(e){let t=e[0],r=1,s=2,l="",d=!1;for(;r<e.length;){let y=e[r];if(typeof y=="string")if(s&2){let w=e[++r];l+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else s&8?l+="."+y:s&4&&(l+=" "+y);else l!==""&&!_i(y)&&(t+=bu(d,l),l=""),s=y,d=d||!_i(s);r++}return l!==""&&(t+=bu(d,l)),t}function nx(e){return e.map(ix).join(",")}function sx(e){let t=[],r=[],s=1,l=2;for(;s<e.length;){let d=e[s];if(typeof d=="string")l===2?d!==""&&t.push(d,e[++s]):l===8&&r.push(d);else{if(!_i(l))break;l=d}s++}return{attrs:t,classes:r}}function ds(e){return Qs(()=>{let t=dd(e),r=At(Te({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===sd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ji.Emulated,styles:e.styles||ki,_:null,schemas:e.schemas||null,tView:null,id:""});pd(r);let s=e.dependencies;return r.directiveDefs=Cu(s,!1),r.pipeDefs=Cu(s,!0),r.id=ax(r),r})}function rx(e){return An(e)||ld(e)}function ox(e){return e!==null}function ps(e){return Qs(()=>({type:e.type,bootstrap:e.bootstrap||ki,declarations:e.declarations||ki,imports:e.imports||ki,exports:e.exports||ki,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Mu(e,t){if(e==null)return Bs;let r={};for(let s in e)if(e.hasOwnProperty(s)){let l=e[s],d,y,w=qi.None;Array.isArray(l)?(w=l[0],d=l[1],y=l[2]??d):(d=l,y=l),t?(r[d]=w!==qi.None?[s,w]:s,t[d]=y):r[d]=s}return r}function fs(e){return Qs(()=>{let t=dd(e);return pd(t),t})}function An(e){return e[km]||null}function ld(e){return e[Em]||null}function hd(e){return e[Am]||null}function cd(e){let t=An(e)||ld(e)||hd(e);return t!==null?t.standalone:!1}function ud(e,t){let r=e[Fm]||null;if(!r&&t===!0)throw new Error(`Type ${ri(e)} does not have '\u0275mod' property.`);return r}function dd(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Bs,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||ki,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mu(e.inputs,t),outputs:Mu(e.outputs),debugInfo:null}}function pd(e){e.features?.forEach(t=>t(e))}function Cu(e,t){if(!e)return null;let r=t?hd:rx;return()=>(typeof e=="function"?e():e).map(s=>r(s)).filter(ox)}function ax(e){let t=0,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let l of r)t=Math.imul(31,t)+l.charCodeAt(0)<<0;return t+=2147483648,"c"+t}var ui=0,et=1,Re=2,Kt=3,Ei=4,Fi=5,en=6,Vs=7,Ai=8,hs=9,pn=10,Vt=11,Ws=12,wu=13,gs=14,bi=15,No=16,rs=17,js=18,Oo=19,fd=20,Ns=21,Za=22,Fn=23,di=25,gd=1,zs=6,tn=7,xo=8,yo=9,ci=10,Xl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Xl||{});function Ji(e){return Array.isArray(e)&&typeof e[gd]=="object"}function Ui(e){return Array.isArray(e)&&e[gd]===!0}function md(e){return(e.flags&4)!==0}function Js(e){return e.componentOffset>-1}function Yl(e){return(e.flags&1)===1}function qs(e){return!!e.template}function xd(e){return(e[Re]&512)!==0}function cs(e,t){let r=e.hasOwnProperty(go);return r?e[go]:null}var ul=class{constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}};function yd(e,t,r,s){t!==null?t.applyValueToInputSignal(t,s):e[r]=s}function ms(){return vd}function vd(e){return e.type.prototype.ngOnChanges&&(e.setInput=hx),lx}ms.ngInherit=!0;function lx(){let e=Md(this),t=e?.current;if(t){let r=e.previous;if(r===Bs)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function hx(e,t,r,s,l){let d=this.declaredInputs[s],y=Md(e)||cx(e,{previous:Bs,current:null}),w=y.current||(y.current={}),E=y.previous,M=E[d];w[d]=new ul(M&&M.currentValue,r,E===Bs),yd(e,t,l,r)}var bd="__ngSimpleChanges__";function Md(e){return e[bd]||null}function cx(e,t){return e[bd]=t}var Tu=null;var Vi=function(e,t,r){Tu?.(e,t,r)},ux="svg",dx="math",px=!1;function fx(){return px}function zi(e){for(;Array.isArray(e);)e=e[ui];return e}function Ci(e,t){return zi(t[e.index])}function Cd(e,t){return e.data[t]}function gn(e,t){let r=t[e];return Ji(r)?r:r[ui]}function Hl(e){return(e[Re]&128)===128}function gx(e){return Ui(e[Kt])}function vo(e,t){return t==null?null:e[t]}function wd(e){e[rs]=0}function mx(e){e[Re]&1024||(e[Re]|=1024,Hl(e)&&Us(e))}function xx(e,t){for(;e>0;)t=t[gs],e--;return t}function $l(e){return!!(e[Re]&9216||e[Fn]?.dirty)}function dl(e){$l(e)?Us(e):e[Re]&64&&(fx()?(e[Re]|=1024,Us(e)):e[pn].changeDetectionScheduler?.notify())}function Us(e){e[pn].changeDetectionScheduler?.notify();let t=Xs(e);for(;t!==null&&!(t[Re]&8192||(t[Re]|=8192,!Hl(t)));)t=Xs(t)}function yx(e,t){if((e[Re]&256)===256)throw new Ee(911,!1);e[Ns]===null&&(e[Ns]=[]),e[Ns].push(t)}function Xs(e){let t=e[Kt];return Ui(t)?t[Kt]:t}var tt={lFrame:Fd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vx(){return tt.lFrame.elementDepthCount}function bx(){tt.lFrame.elementDepthCount++}function Mx(){tt.lFrame.elementDepthCount--}function Td(){return tt.bindingsEnabled}function er(){return tt.skipHydrationRootTNode!==null}function Cx(e){return tt.skipHydrationRootTNode===e}function wx(e){tt.skipHydrationRootTNode=e}function Tx(){tt.skipHydrationRootTNode=null}function Wt(){return tt.lFrame.lView}function mn(){return tt.lFrame.tView}function Dd(e){return tt.lFrame.contextLView=e,e[Ai]}function Sd(e){return tt.lFrame.contextLView=null,e}function Li(){let e=Id();for(;e!==null&&e.type===64;)e=e.parent;return e}function Id(){return tt.lFrame.currentTNode}function Dx(){let e=tt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function tr(e,t){let r=tt.lFrame;r.currentTNode=e,r.isParent=t}function Pd(){return tt.lFrame.isParent}function Sx(){tt.lFrame.isParent=!1}function Ix(){let e=tt.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Px(e){return tt.lFrame.bindingIndex=e}function _d(){return tt.lFrame.bindingIndex++}function _x(){return tt.lFrame.inI18n}function kx(e,t){let r=tt.lFrame;r.bindingIndex=r.bindingRootIndex=e,pl(t)}function Ex(){return tt.lFrame.currentDirectiveIndex}function pl(e){tt.lFrame.currentDirectiveIndex=e}function kd(e){tt.lFrame.currentQueryIndex=e}function Ax(e){let t=e[et];return t.type===2?t.declTNode:t.type===1?e[Fi]:null}function Ed(e,t,r){if(r&Ke.SkipSelf){let l=t,d=e;for(;l=l.parent,l===null&&!(r&Ke.Host);)if(l=Ax(d),l===null||(d=d[gs],l.type&10))break;if(l===null)return!1;t=l,e=d}let s=tt.lFrame=Ad();return s.currentTNode=t,s.lView=e,!0}function Gl(e){let t=Ad(),r=e[et];tt.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Ad(){let e=tt.lFrame,t=e===null?null:e.child;return t===null?Fd(e):t}function Fd(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Ld(){let e=tt.lFrame;return tt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Rd=Ld;function Zl(){let e=Ld();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Fx(e){return(tt.lFrame.contextLView=xx(e,tt.lFrame.contextLView))[Ai]}function Nd(){return tt.lFrame.selectedIndex}function Ln(e){tt.lFrame.selectedIndex=e}function Od(){let e=tt.lFrame;return Cd(e.tView,e.selectedIndex)}function Bd(){return tt.lFrame.currentNamespace}var Vd=!0;function Kl(){return Vd}function xn(e){Vd=e}function Lx(e,t,r){let{ngOnChanges:s,ngOnInit:l,ngDoCheck:d}=t.type.prototype;if(s){let y=vd(t);(r.preOrderHooks??=[]).push(e,y),(r.preOrderCheckHooks??=[]).push(e,y)}l&&(r.preOrderHooks??=[]).push(0-e,l),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}function Ql(e,t){for(let r=t.directiveStart,s=t.directiveEnd;r<s;r++){let d=e.data[r].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:j}=d;y&&(e.contentHooks??=[]).push(-r,y),w&&((e.contentHooks??=[]).push(r,w),(e.contentCheckHooks??=[]).push(r,w)),E&&(e.viewHooks??=[]).push(-r,E),M&&((e.viewHooks??=[]).push(r,M),(e.viewCheckHooks??=[]).push(r,M)),j!=null&&(e.destroyHooks??=[]).push(r,j)}}function ho(e,t,r){Wd(e,t,3,r)}function co(e,t,r,s){(e[Re]&3)===r&&Wd(e,t,r,s)}function Ka(e,t){let r=e[Re];(r&3)===t&&(r&=16383,r+=1,e[Re]=r)}function Wd(e,t,r,s){let l=s!==void 0?e[rs]&65535:0,d=s??-1,y=t.length-1,w=0;for(let E=l;E<y;E++)if(typeof t[E+1]=="number"){if(w=t[E],s!=null&&w>=s)break}else t[E]<0&&(e[rs]+=65536),(w<d||d==-1)&&(Rx(e,r,t,E),e[rs]=(e[rs]&4294901760)+E+2),E++}function Du(e,t){Vi(4,e,t);let r=oi(null);try{t.call(e)}finally{oi(r),Vi(5,e,t)}}function Rx(e,t,r,s){let l=r[s]<0,d=r[s+1],y=l?-r[s]:r[s],w=e[y];l?e[Re]>>14<e[rs]>>16&&(e[Re]&3)===t&&(e[Re]+=16384,Du(w,d)):Du(w,d)}var ls=-1,Ys=class{constructor(t,r,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}};function Nx(e){return e instanceof Ys}function Ox(e){return(e.flags&8)!==0}function Bx(e){return(e.flags&16)!==0}function jd(e){return e!==ls}function bo(e){return e&32767}function Vx(e){return e>>16}function Mo(e,t){let r=Vx(e),s=t;for(;r>0;)s=s[gs],r--;return s}var fl=!0;function Su(e){let t=fl;return fl=e,t}var Wx=256,zd=Wx-1,Ud=5,jx=0,Wi={};function zx(e,t,r){let s;typeof r=="string"?s=r.charCodeAt(0)||0:r.hasOwnProperty(Fs)&&(s=r[Fs]),s==null&&(s=r[Fs]=jx++);let l=s&zd,d=1<<l;t.data[e+(l>>Ud)]|=d}function Xd(e,t){let r=Yd(e,t);if(r!==-1)return r;let s=t[et];s.firstCreatePass&&(e.injectorIndex=t.length,Qa(s.data,e),Qa(t,null),Qa(s.blueprint,null));let l=Jl(e,t),d=e.injectorIndex;if(jd(l)){let y=bo(l),w=Mo(l,t),E=w[et].data;for(let M=0;M<8;M++)t[d+M]=w[y+M]|E[y+M]}return t[d+8]=l,d}function Qa(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yd(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Jl(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,s=null,l=t;for(;l!==null;){if(s=Kd(l),s===null)return ls;if(r++,l=l[gs],s.injectorIndex!==-1)return s.injectorIndex|r<<16}return ls}function Ux(e,t,r){zx(e,t,r)}function Hd(e,t,r){if(r&Ke.Optional||e!==void 0)return e;zl(t,"NodeInjector")}function $d(e,t,r,s){if(r&Ke.Optional&&s===void 0&&(s=null),!(r&(Ke.Self|Ke.Host))){let l=e[hs],d=yi(void 0);try{return l?l.get(t,s,r&Ke.Optional):id(t,s,r&Ke.Optional)}finally{yi(d)}}return Hd(s,t,r)}function Gd(e,t,r,s=Ke.Default,l){if(e!==null){if(t[Re]&2048&&!(s&Ke.Self)){let y=Gx(e,t,r,s,Wi);if(y!==Wi)return y}let d=Zd(e,t,r,s,Wi);if(d!==Wi)return d}return $d(t,r,s,l)}function Zd(e,t,r,s,l){let d=Hx(r);if(typeof d=="function"){if(!Ed(t,e,s))return s&Ke.Host?Hd(l,r,s):$d(t,r,s,l);try{let y;if(y=d(s),y==null&&!(s&Ke.Optional))zl(r);else return y}finally{Rd()}}else if(typeof d=="number"){let y=null,w=Yd(e,t),E=ls,M=s&Ke.Host?t[bi][Fi]:null;for((w===-1||s&Ke.SkipSelf)&&(E=w===-1?Jl(e,t):t[w+8],E===ls||!Pu(s,!1)?w=-1:(y=t[et],w=bo(E),t=Mo(E,t)));w!==-1;){let j=t[et];if(Iu(d,w,j.data)){let Y=Xx(w,t,r,y,s,M);if(Y!==Wi)return Y}E=t[w+8],E!==ls&&Pu(s,t[et].data[w+8]===M)&&Iu(d,w,t)?(y=j,w=bo(E),t=Mo(E,t)):w=-1}}return l}function Xx(e,t,r,s,l,d){let y=t[et],w=y.data[e+8],E=s==null?Js(w)&&fl:s!=y&&(w.type&3)!==0,M=l&Ke.Host&&d===w,j=Yx(w,y,r,E,M);return j!==null?Hs(t,y,j,w):Wi}function Yx(e,t,r,s,l){let d=e.providerIndexes,y=t.data,w=d&1048575,E=e.directiveStart,M=e.directiveEnd,j=d>>20,Y=s?w:w+j,re=l?w+j:M;for(let te=Y;te<re;te++){let de=y[te];if(te<E&&r===de||te>=E&&de.type===r)return te}if(l){let te=y[E];if(te&&qs(te)&&te.type===r)return E}return null}function Hs(e,t,r,s){let l=e[r],d=t.data;if(Nx(l)){let y=l;y.resolving&&Rm(Lm(d[r]));let w=Su(y.canSeeViewProviders);y.resolving=!0;let E,M=y.injectImpl?yi(y.injectImpl):null,j=Ed(e,s,Ke.Default);try{l=e[r]=y.factory(void 0,d,e,s),t.firstCreatePass&&r>=s.directiveStart&&Lx(r,d[r],t)}finally{M!==null&&yi(M),Su(w),y.resolving=!1,Rd()}}return l}function Hx(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Fs)?e[Fs]:void 0;return typeof t=="number"?t>=0?t&zd:$x:t}function Iu(e,t,r){let s=1<<e;return!!(r[t+(e>>Ud)]&s)}function Pu(e,t){return!(e&Ke.Self)&&!(e&Ke.Host&&t)}var En=class{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,s){return Gd(this._tNode,this._lView,t,Ro(s),r)}};function $x(){return new En(Li(),Wt())}function ql(e){return Qs(()=>{let t=e.prototype.constructor,r=t[go]||gl(t),s=Object.prototype,l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==s;){let d=l[go]||gl(l);if(d&&d!==r)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function gl(e){return Ku(e)?()=>{let t=gl(vi(e));return t&&t()}:cs(e)}function Gx(e,t,r,s,l){let d=e,y=t;for(;d!==null&&y!==null&&y[Re]&2048&&!(y[Re]&512);){let w=Zd(d,y,r,s|Ke.Self,Wi);if(w!==Wi)return w;let E=d.parent;if(!E){let M=y[fd];if(M){let j=M.get(r,Wi,s);if(j!==Wi)return j}E=Kd(y),y=y[gs]}d=E}return l}function Kd(e){let t=e[et],r=t.type;return r===2?t.declTNode:r===1?e[Fi]:null}var ro="__parameters__";function Zx(e){return function(...r){if(e){let s=e(...r);for(let l in s)this[l]=s[l]}}}function Qd(e,t,r){return Qs(()=>{let s=Zx(t);function l(...d){if(this instanceof l)return s.apply(this,d),this;let y=new l(...d);return w.annotation=y,w;function w(E,M,j){let Y=E.hasOwnProperty(ro)?E[ro]:Object.defineProperty(E,ro,{value:[]})[ro];for(;Y.length<=j;)Y.push(null);return(Y[j]=Y[j]||[]).push(y),E}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}function Kx(e){return typeof e=="function"}function eh(e,t){e.forEach(r=>Array.isArray(r)?eh(r,t):t(r))}function Jd(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Co(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var th=nd(Qd("Optional"),8);var qd=nd(Qd("SkipSelf"),4);var Rn=new Qe(""),ep=new Qe("",-1),tp=new Qe(""),wo=class{get(t,r=Os){if(r===Os){let s=new Error(`NullInjectorError: No provider for ${ri(t)}!`);throw s.name="NullInjectorError",s}return r}};function Bn(e){return{\u0275providers:e}}function Qx(...e){return{\u0275providers:ip(!0,e),\u0275fromNgModule:!0}}function ip(e,...t){let r=[],s=new Set,l,d=y=>{r.push(y)};return eh(t,y=>{let w=y;ml(w,d,[],s)&&(l||=[],l.push(w))}),l!==void 0&&np(l,d),r}function np(e,t){for(let r=0;r<e.length;r++){let{ngModule:s,providers:l}=e[r];ih(l,d=>{t(d,s)})}}function ml(e,t,r,s){if(e=vi(e),!e)return!1;let l=null,d=mu(e),y=!d&&An(e);if(!d&&!y){let E=e.ngModule;if(d=mu(E),d)l=E;else return!1}else{if(y&&!y.standalone)return!1;l=e}let w=s.has(l);if(y){if(w)return!1;if(s.add(l),y.dependencies){let E=typeof y.dependencies=="function"?y.dependencies():y.dependencies;for(let M of E)ml(M,t,r,s)}}else if(d){if(d.imports!=null&&!w){s.add(l);let M;try{eh(d.imports,j=>{ml(j,t,r,s)&&(M||=[],M.push(j))})}finally{}M!==void 0&&np(M,t)}if(!w){let M=cs(l)||(()=>new l);t({provide:l,useFactory:M,deps:ki},l),t({provide:tp,useValue:l,multi:!0},l),t({provide:Rn,useValue:()=>lt(l),multi:!0},l)}let E=d.providers;if(E!=null&&!w){let M=e;ih(E,j=>{t(j,M)})}}else return!1;return l!==e&&e.providers!==void 0}function ih(e,t){for(let r of e)Qu(r)&&(r=r.\u0275providers),Array.isArray(r)?ih(r,t):t(r)}var Jx=Mt({provide:String,useValue:Mt});function sp(e){return e!==null&&typeof e=="object"&&Jx in e}function qx(e){return!!(e&&e.useExisting)}function ey(e){return!!(e&&e.useFactory)}function xl(e){return typeof e=="function"}var Bo=new Qe(""),uo={},ty={},Ja;function nh(){return Ja===void 0&&(Ja=new wo),Ja}var Mi=class{},$s=class extends Mi{get destroyed(){return this._destroyed}constructor(t,r,s,l){super(),this.parent=r,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vl(t,y=>this.processProvider(y)),this.records.set(ep,os(void 0,this)),l.has("environment")&&this.records.set(Mi,os(void 0,this));let d=this.records.get(Bo);d!=null&&typeof d.value=="string"&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(tp,ki,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let r=dn(this),s=yi(void 0),l;try{return t()}finally{dn(r),yi(s)}}get(t,r=Os,s=Ke.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(fu))return t[fu](this);s=Ro(s);let l,d=dn(this),y=yi(void 0);try{if(!(s&Ke.SkipSelf)){let E=this.records.get(t);if(E===void 0){let M=ay(t)&&Lo(t);M&&this.injectableDefInScope(M)?E=os(yl(t),uo):E=null,this.records.set(t,E)}if(E!=null)return this.hydrate(t,E)}let w=s&Ke.Self?nh():this.parent;return r=s&Ke.Optional&&r===Os?null:r,w.get(t,r)}catch(w){if(w.name==="NullInjectorError"){if((w[mo]=w[mo]||[]).unshift(ri(t)),d)throw w;return Ym(w,t,"R3InjectorError",this.source)}else throw w}finally{yi(y),dn(d)}}resolveInjectorInitializers(){let t=dn(this),r=yi(void 0),s;try{let l=this.get(Rn,ki,Ke.Self);for(let d of l)d()}finally{dn(t),yi(r)}}toString(){let t=[],r=this.records;for(let s of r.keys())t.push(ri(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(t){t=vi(t);let r=xl(t)?t:vi(t&&t.provide),s=ny(t);if(!xl(t)&&t.multi===!0){let l=this.records.get(r);l||(l=os(void 0,uo,!0),l.factory=()=>hl(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,s)}hydrate(t,r){return r.value===uo&&(r.value=ty,r.value=r.factory()),typeof r.value=="object"&&r.value&&oy(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;let r=vi(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function yl(e){let t=Lo(e),r=t!==null?t.factory:cs(e);if(r!==null)return r;if(e instanceof Qe)throw new Ee(204,!1);if(e instanceof Function)return iy(e);throw new Ee(204,!1)}function iy(e){if(e.length>0)throw new Ee(204,!1);let r=Nm(e);return r!==null?()=>r.factory(e):()=>new e}function ny(e){if(sp(e))return os(void 0,e.useValue);{let t=sy(e);return os(t,uo)}}function sy(e,t,r){let s;if(xl(e)){let l=vi(e);return cs(l)||yl(l)}else if(sp(e))s=()=>vi(e.useValue);else if(ey(e))s=()=>e.useFactory(...hl(e.deps||[]));else if(qx(e))s=()=>lt(vi(e.useExisting));else{let l=vi(e&&(e.useClass||e.provide));if(ry(e))s=()=>new l(...hl(e.deps));else return cs(l)||yl(l)}return s}function os(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function ry(e){return!!e.deps}function oy(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ay(e){return typeof e=="function"||typeof e=="object"&&e instanceof Qe}function vl(e,t){for(let r of e)Array.isArray(r)?vl(r,t):r&&Qu(r)?vl(r.\u0275providers,t):t(r)}function yn(e,t){e instanceof $s&&e.assertNotDestroyed();let r,s=dn(e),l=yi(void 0);try{return t()}finally{dn(s),yi(l)}}function _u(e,t=null,r=null,s){let l=rp(e,t,r,s);return l.resolveInjectorInitializers(),l}function rp(e,t=null,r=null,s,l=new Set){let d=[r||ki,Qx(e)];return s=s||(typeof e=="object"?void 0:ri(e)),new $s(d,t||nh(),s||null,l)}var Vn=(()=>{let t=class t{static create(s,l){if(Array.isArray(s))return _u({name:""},l,s,"");{let d=s.name??"";return _u({name:d},s.parent,s.providers,d)}}};t.THROW_IF_NOT_FOUND=Os,t.NULL=new wo,t.\u0275prov=Ue({token:t,providedIn:"any",factory:()=>lt(ep)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var bl;function op(e){bl=e}function Vo(){if(bl!==void 0)return bl;if(typeof document<"u")return document;throw new Ee(210,!1)}var Wo=new Qe("",{providedIn:"root",factory:()=>ly}),ly="ng",sh=new Qe(""),sn=new Qe("",{providedIn:"platform",factory:()=>"unknown"});var rh=new Qe("",{providedIn:"root",factory:()=>Vo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function hy(e){return e.ownerDocument.body}function ap(e){return e instanceof Function?e():e}function oo(e){return(e??ye(Vn)).get(sn)==="browser"}var cy="ngSkipHydration",uy="ngskiphydration";function lp(e){let t=e.mergedAttrs;if(t===null)return!1;for(let r=0;r<t.length;r+=2){let s=t[r];if(typeof s=="number")return!1;if(typeof s=="string"&&s.toLowerCase()===uy)return!0}return!1}function hp(e){return e.hasAttribute(cy)}function To(e){return(e.flags&128)===128}function dy(e){if(To(e))return!0;let t=e.parent;for(;t;){if(To(e)||lp(t))return!0;t=t.parent}return!1}var vn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(vn||{}),py=/^>|^->|<!--|-->|--!>|<!-$/g,fy=/(<|>)/g,gy="\u200B$1\u200B";function my(e){return e.replace(py,t=>t.replace(fy,gy))}var cp=new Map,xy=0;function yy(){return xy++}function vy(e){cp.set(e[Oo],e)}function by(e){cp.delete(e[Oo])}var ku="__ngContext__";function Nn(e,t){Ji(t)?(e[ku]=t[Oo],vy(t)):e[ku]=t}var My;function oh(e,t){return My(e,t)}function as(e,t,r,s,l){if(s!=null){let d,y=!1;Ui(s)?d=s:Ji(s)&&(y=!0,s=s[ui]);let w=zi(s);e===0&&r!==null?l==null?mp(t,r,w):Do(t,r,w,l||null,!0):e===1&&r!==null?Do(t,r,w,l||null,!0):e===2?yp(t,w,y):e===3&&t.destroyNode(w),d!=null&&Oy(t,e,d,r,l)}}function up(e,t){return e.createText(t)}function dp(e,t){return e.createComment(my(t))}function ah(e,t,r){return e.createElement(t,r)}function Cy(e,t){pp(e,t),t[ui]=null,t[Fi]=null}function wy(e,t,r,s,l,d){s[ui]=l,s[Fi]=t,jo(e,s,r,1,l,d)}function pp(e,t){jo(e,t,t[Vt],2,null,null)}function Ty(e){let t=e[Ws];if(!t)return qa(e[et],e);for(;t;){let r=null;if(Ji(t))r=t[Ws];else{let s=t[ci];s&&(r=s)}if(!r){for(;t&&!t[Ei]&&t!==e;)Ji(t)&&qa(t[et],t),t=t[Kt];t===null&&(t=e),Ji(t)&&qa(t[et],t),r=t&&t[Ei]}t=r}}function Dy(e,t,r,s){let l=ci+s,d=r.length;s>0&&(r[l-1][Ei]=t),s<d-ci?(t[Ei]=r[l],Jd(r,ci+s,t)):(r.push(t),t[Ei]=null),t[Kt]=r;let y=t[No];y!==null&&r!==y&&Sy(y,t);let w=t[js];w!==null&&w.insertView(e),dl(t),t[Re]|=128}function Sy(e,t){let r=e[yo],l=t[Kt][Kt][bi];t[bi]!==l&&(e[Re]|=Xl.HasTransplantedViews),r===null?e[yo]=[t]:r.push(t)}function fp(e,t){let r=e[yo],s=r.indexOf(t);r.splice(s,1)}function Ml(e,t){if(e.length<=ci)return;let r=ci+t,s=e[r];if(s){let l=s[No];l!==null&&l!==e&&fp(l,s),t>0&&(e[r-1][Ei]=s[Ei]);let d=Co(e,ci+t);Cy(s[et],s);let y=d[js];y!==null&&y.detachView(d[et]),s[Kt]=null,s[Ei]=null,s[Re]&=-129}return s}function gp(e,t){if(!(t[Re]&256)){let r=t[Vt];r.destroyNode&&jo(e,t,r,3,null,null),Ty(t)}}function qa(e,t){if(!(t[Re]&256)){t[Re]&=-129,t[Re]|=256,t[Fn]&&Oc(t[Fn]),Py(e,t),Iy(e,t),t[et].type===1&&t[Vt].destroy();let r=t[No];if(r!==null&&Ui(t[Kt])){r!==t[Kt]&&fp(r,t);let s=t[js];s!==null&&s.detachView(e)}by(t)}}function Iy(e,t){let r=e.cleanup,s=t[Vs];if(r!==null)for(let d=0;d<r.length-1;d+=2)if(typeof r[d]=="string"){let y=r[d+3];y>=0?s[y]():s[-y].unsubscribe(),d+=2}else{let y=s[r[d+1]];r[d].call(y)}s!==null&&(t[Vs]=null);let l=t[Ns];if(l!==null){t[Ns]=null;for(let d=0;d<l.length;d++){let y=l[d];y()}}}function Py(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let s=0;s<r.length;s+=2){let l=t[r[s]];if(!(l instanceof Ys)){let d=r[s+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){let w=l[d[y]],E=d[y+1];Vi(4,w,E);try{E.call(w)}finally{Vi(5,w,E)}}else{Vi(4,l,d);try{d.call(l)}finally{Vi(5,l,d)}}}}}function _y(e,t,r){return ky(e,t.parent,r)}function ky(e,t,r){let s=t;for(;s!==null&&s.type&40;)t=s,s=t.parent;if(s===null)return r[ui];{let{componentOffset:l}=s;if(l>-1){let{encapsulation:d}=e.data[s.directiveStart+l];if(d===ji.None||d===ji.Emulated)return null}return Ci(s,r)}}function Do(e,t,r,s,l){e.insertBefore(t,r,s,l)}function mp(e,t,r){e.appendChild(t,r)}function Eu(e,t,r,s,l){s!==null?Do(e,t,r,s,l):mp(e,t,r)}function Ey(e,t,r,s){e.removeChild(t,r,s)}function lh(e,t){return e.parentNode(t)}function Ay(e,t){return e.nextSibling(t)}function Fy(e,t,r){return Ry(e,t,r)}function Ly(e,t,r){return e.type&40?Ci(e,r):null}var Ry=Ly,Au;function hh(e,t,r,s){let l=_y(e,s,t),d=t[Vt],y=s.parent||t[Fi],w=Fy(y,s,t);if(l!=null)if(Array.isArray(r))for(let E=0;E<r.length;E++)Eu(d,l,r[E],w,!1);else Eu(d,l,r,w,!1);Au!==void 0&&Au(d,s,t,r,l)}function po(e,t){if(t!==null){let r=t.type;if(r&3)return Ci(t,e);if(r&4)return Cl(-1,e[t.index]);if(r&8){let s=t.child;if(s!==null)return po(e,s);{let l=e[t.index];return Ui(l)?Cl(-1,l):zi(l)}}else{if(r&32)return oh(t,e)()||zi(e[t.index]);{let s=xp(e,t);if(s!==null){if(Array.isArray(s))return s[0];let l=Xs(e[bi]);return po(l,s)}else return po(e,t.next)}}}return null}function xp(e,t){if(t!==null){let s=e[bi][Fi],l=t.projection;return s.projection[l]}return null}function Cl(e,t){let r=ci+e+1;if(r<t.length){let s=t[r],l=s[et].firstChild;if(l!==null)return po(s,l)}return t[tn]}function yp(e,t,r){let s=lh(e,t);s&&Ey(e,s,t,r)}function vp(e){e.textContent=""}function ch(e,t,r,s,l,d,y){for(;r!=null;){let w=s[r.index],E=r.type;if(y&&t===0&&(w&&Nn(zi(w),s),r.flags|=2),(r.flags&32)!==32)if(E&8)ch(e,t,r.child,s,l,d,!1),as(t,e,l,w,d);else if(E&32){let M=oh(r,s),j;for(;j=M();)as(t,e,l,j,d);as(t,e,l,w,d)}else E&16?Ny(e,t,s,r,l,d):as(t,e,l,w,d);r=y?r.projectionNext:r.next}}function jo(e,t,r,s,l,d){ch(r,s,e.firstChild,t,l,d,!1)}function Ny(e,t,r,s,l,d){let y=r[bi],E=y[Fi].projection[s.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++){let j=E[M];as(t,e,l,j,d)}else{let M=E,j=y[Kt];To(s)&&(M.flags|=128),ch(e,t,M,j,l,d,!0)}}function Oy(e,t,r,s,l){let d=r[tn],y=zi(r);d!==y&&as(t,e,s,d,l);for(let w=ci;w<r.length;w++){let E=r[w];jo(E[et],E,e,t,s,d)}}function By(e,t,r){e.setAttribute(t,"style",r)}function bp(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Mp(e,t,r){let{mergedAttrs:s,classes:l,styles:d}=r;s!==null&&cl(e,t,s),l!==null&&bp(e,t,l),d!==null&&By(e,t,d)}var wl=class{};function Vy(){let e=new Wn;return ye(sn)==="browser"&&(e.store=Wy(Vo(),ye(Wo))),e}var Wn=(()=>{let t=class t{constructor(){this.store={},this.onSerializeCallbacks={}}get(s,l){return this.store[s]!==void 0?this.store[s]:l}set(s,l){this.store[s]=l}remove(s){delete this.store[s]}hasKey(s){return this.store.hasOwnProperty(s)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(s,l){this.onSerializeCallbacks[s]=l}toJson(){for(let s in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(s))try{this.store[s]=this.onSerializeCallbacks[s]()}catch(l){console.warn("Exception in onSerialize callback: ",l)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};t.\u0275prov=Ue({token:t,providedIn:"root",factory:Vy});let e=t;return e})();function Wy(e,t){let r=e.getElementById(t+"-state");if(r?.textContent)try{return JSON.parse(r.textContent)}catch(s){console.warn("Exception while restoring TransferState for app "+t,s)}return{}}var Cp="h",wp="b",Tl=function(e){return e.FirstChild="f",e.NextSibling="n",e}(Tl||{}),jy="e",zy="t",uh="c",Tp="x",So="r",Uy="i",Xy="n",Yy="d",Hy="__nghData__",Dp=Hy,el="ngh",$y="nghm",Sp=()=>null;function Gy(e,t,r=!1){let s=e.getAttribute(el);if(s==null)return null;let[l,d]=s.split("|");if(s=r?d:l,!s)return null;let y=d?`|${d}`:"",w=r?l:y,E={};if(s!==""){let j=t.get(Wn,null,{optional:!0});j!==null&&(E=j.get(Dp,[])[Number(s)])}let M={data:E,firstChild:e.firstChild??null};return r&&(M.firstChild=e,zo(M,0,e.nextSibling)),w?e.setAttribute(el,w):e.removeAttribute(el),M}function Zy(){Sp=Gy}function dh(e,t,r=!1){return Sp(e,t,r)}function Ky(e){let t=e._lView;return t[et].type===2?null:(xd(t)&&(t=t[di]),t)}function Qy(e){return e.textContent?.replace(/\s/gm,"")}function Jy(e){let t=Vo(),r=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(d){let y=Qy(d);return y==="ngetn"||y==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),s,l=[];for(;s=r.nextNode();)l.push(s);for(let d of l)d.textContent==="ngetn"?d.replaceWith(t.createTextNode("")):d.remove()}function zo(e,t,r){e.segmentHeads??={},e.segmentHeads[t]=r}function Dl(e,t){return e.segmentHeads?.[t]??null}function qy(e,t){let r=e.data,s=r[jy]?.[t]??null;return s===null&&r[uh]?.[t]&&(s=ph(e,t)),s}function Ip(e,t){return e.data[uh]?.[t]??null}function ph(e,t){let r=Ip(e,t)??[],s=0;for(let l of r)s+=l[So]*(l[Tp]??1);return s}function Uo(e,t){if(typeof e.disconnectedNodes>"u"){let r=e.data[Yy];e.disconnectedNodes=r?new Set(r):null}return!!e.disconnectedNodes?.has(t)}var Sl=class{},Io=class{};function ev(e){let t=Error(`No component factory found for ${ri(e)}.`);return t[tv]=e,t}var tv="ngComponent";var Il=class{resolveComponentFactory(t){throw ev(t)}},Xo=(()=>{let t=class t{};t.NULL=new Il;let e=t;return e})();function iv(){return Yo(Li(),Wt())}function Yo(e,t){return new xs(Ci(e,t))}var xs=(()=>{let t=class t{constructor(s){this.nativeElement=s}};t.__NG_ELEMENT_ID__=iv;let e=t;return e})();var Gs=class{},ir=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>nv();let e=t;return e})();function nv(){let e=Wt(),t=Li(),r=gn(t.index,e);return(Ji(r)?r:e)[Vt]}var sv=(()=>{let t=class t{};t.\u0275prov=Ue({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),tl={};function Pp(e){return e!==null&&(typeof e=="function"||typeof e=="object")}var Pl=class{constructor(){}supports(t){return t instanceof Map||Pp(t)}create(){return new _l}},_l=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let r;for(r=this._mapHead;r!==null;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;r!==null;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;r!==null;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)t(r)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Pp(t)))throw new Ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{let d=this._getOrCreateRecordForKey(l,s);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;s!==null;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){let s=t._prev;return r._next=t,r._prev=s,t._prev=r,s&&(s._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){let l=this._records.get(t);this._maybeAddToChanges(l,r);let d=l._prev,y=l._next;return d&&(d._next=y),y&&(y._prev=d),l._next=null,l._prev=null,l}let s=new kl(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(s=>r(t[s],s))}},kl=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Fu(){return new fh([new Pl])}var fh=(()=>{let t=class t{constructor(s){this.factories=s}static create(s,l){if(l){let d=l.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||Fu()),deps:[[t,new qd,new th]]}}find(s){let l=this.factories.find(d=>d.supports(s));if(l)return l;throw new Ee(901,!1)}};t.\u0275prov=Ue({token:t,providedIn:"root",factory:Fu});let e=t;return e})();function Po(e,t,r,s,l=!1){for(;r!==null;){let d=t[r.index];d!==null&&s.push(zi(d)),Ui(d)&&rv(d,s);let y=r.type;if(y&8)Po(e,t,r.child,s);else if(y&32){let w=oh(r,t),E;for(;E=w();)s.push(E)}else if(y&16){let w=xp(t,r);if(Array.isArray(w))s.push(...w);else{let E=Xs(t[bi]);Po(E[et],E,w,s,!0)}}r=l?r.projectionNext:r.next}return s}function rv(e,t){for(let r=ci;r<e.length;r++){let s=e[r],l=s[et].firstChild;l!==null&&Po(s[et],s,l,t)}e[tn]!==e[ui]&&t.push(e[tn])}var _p=[];function ov(e){return e[Fn]??av(e)}function av(e){let t=_p.pop()??Object.create(hv);return t.lView=e,t}function lv(e){e.lView[Fn]!==e&&(e.lView=null,_p.push(e))}var hv=At(Te({},Lc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Us(e.lView)},consumerOnSignalRead(){this.lView[Fn]=this}});function kp(e){return Ap(e[Ws])}function Ep(e){return Ap(e[Ei])}function Ap(e){for(;e!==null&&!Ui(e);)e=e[Ei];return e}var cv="ngOriginalError";function il(e){return e[cv]}var nn=class{constructor(){this._console=console}handleError(t){let r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&il(t);for(;r&&il(r);)r=il(r);return r||null}},Fp=new Qe("",{providedIn:"root",factory:()=>ye(nn).handleError.bind(void 0)}),ao=new Qe(""),Lp=!1,Rp=new Qe("",{providedIn:"root",factory:()=>Lp});var nr={};function gh(e=1){Np(mn(),Wt(),Nd()+e,!1)}function Np(e,t,r,s){if(!s)if((t[Re]&3)===3){let d=e.preOrderCheckHooks;d!==null&&ho(t,d,r)}else{let d=e.preOrderHooks;d!==null&&co(t,d,0,r)}Ln(r)}function Xi(e,t=Ke.Default){let r=Wt();if(r===null)return lt(e,t);let s=Li();return Gd(s,r,vi(e),t)}function Op(e,t,r,s,l,d){let y=oi(null);try{let w=null;l&qi.SignalBased&&(w=t[s][Fc]),w!==null&&w.transformFn!==void 0&&(d=w.transformFn(d)),l&qi.HasDecoratorInputTransform&&(d=e.inputTransforms[s].call(t,d)),e.setInput!==null?e.setInput(t,w,d,r,s):yd(t,w,s,d)}finally{oi(y)}}function uv(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let s=0;s<r.length;s++){let l=r[s];if(l<0)Ln(~l);else{let d=l,y=r[++s],w=r[++s];kx(y,d);let E=t[d];w(2,E)}}}finally{Ln(-1)}}function Ho(e,t,r,s,l,d,y,w,E,M,j){let Y=t.blueprint.slice();return Y[ui]=l,Y[Re]=s|4|128|8|64,(M!==null||e&&e[Re]&2048)&&(Y[Re]|=2048),wd(Y),Y[Kt]=Y[gs]=e,Y[Ai]=r,Y[pn]=y||e&&e[pn],Y[Vt]=w||e&&e[Vt],Y[hs]=E||e&&e[hs]||null,Y[Fi]=d,Y[Oo]=yy(),Y[en]=j,Y[fd]=M,Y[bi]=t.type==2?e[bi]:Y,Y}function $o(e,t,r,s,l){let d=e.data[t];if(d===null)d=dv(e,t,r,s,l),_x()&&(d.flags|=32);else if(d.type&64){d.type=r,d.value=s,d.attrs=l;let y=Dx();d.injectorIndex=y===null?-1:y.injectorIndex}return tr(d,!0),d}function dv(e,t,r,s,l){let d=Id(),y=Pd(),w=y?d:d&&d.parent,E=e.data[t]=yv(e,w,r,t,s,l);return e.firstChild===null&&(e.firstChild=E),d!==null&&(y?d.child==null&&E.parent!==null&&(d.child=E):d.next===null&&(d.next=E,E.prev=d)),E}function Bp(e,t,r,s){if(r===0)return-1;let l=t.length;for(let d=0;d<r;d++)t.push(s),e.blueprint.push(s),e.data.push(null);return l}function Vp(e,t,r,s,l){let d=Nd(),y=s&2;try{Ln(-1),y&&t.length>di&&Np(e,t,di,!1),Vi(y?2:0,l),r(s,l)}finally{Ln(d),Vi(y?3:1,l)}}function Wp(e,t,r){if(md(t)){let s=oi(null);try{let l=t.directiveStart,d=t.directiveEnd;for(let y=l;y<d;y++){let w=e.data[y];w.contentQueries&&w.contentQueries(1,r[y],y)}}finally{oi(s)}}}function jp(e,t,r){Td()&&(Tv(e,t,r,Ci(r,t)),(r.flags&64)===64&&Gp(e,t,r))}function zp(e,t,r=Ci){let s=t.localNames;if(s!==null){let l=t.index+1;for(let d=0;d<s.length;d+=2){let y=s[d+1],w=y===-1?r(t,e):e[y];e[l++]=w}}}function Up(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=mh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function mh(e,t,r,s,l,d,y,w,E,M,j){let Y=di+s,re=Y+l,te=pv(Y,re),de=typeof M=="function"?M():M;return te[et]={type:e,blueprint:te,template:r,queries:null,viewQuery:w,declTNode:t,data:te.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof d=="function"?d():d,pipeRegistry:typeof y=="function"?y():y,firstChild:null,schemas:E,consts:de,incompleteFirstPass:!1,ssrId:j}}function pv(e,t){let r=[];for(let s=0;s<t;s++)r.push(s<e?null:nr);return r}function fv(e,t,r,s){let d=s.get(Rp,Lp)||r===ji.ShadowDom,y=e.selectRootElement(t,d);return gv(y),y}function gv(e){Xp(e)}var Xp=()=>null;function mv(e){hp(e)?vp(e):Jy(e)}function xv(){Xp=mv}function yv(e,t,r,s,l,d){let y=t?t.injectorIndex:-1,w=0;return er()&&(w|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Lu(e,t,r,s,l){for(let d in t){if(!t.hasOwnProperty(d))continue;let y=t[d];if(y===void 0)continue;s??={};let w,E=qi.None;Array.isArray(y)?(w=y[0],E=y[1]):w=y;let M=d;if(l!==null){if(!l.hasOwnProperty(d))continue;M=l[d]}e===0?Ru(s,r,M,w,E):Ru(s,r,M,w)}return s}function Ru(e,t,r,s,l){let d;e.hasOwnProperty(r)?(d=e[r]).push(t,s):d=e[r]=[t,s],l!==void 0&&d.push(l)}function vv(e,t,r){let s=t.directiveStart,l=t.directiveEnd,d=e.data,y=t.attrs,w=[],E=null,M=null;for(let j=s;j<l;j++){let Y=d[j],re=r?r.get(Y):null,te=re?re.inputs:null,de=re?re.outputs:null;E=Lu(0,Y.inputs,j,E,te),M=Lu(1,Y.outputs,j,M,de);let He=E!==null&&y!==null&&!ad(t)?Fv(E,j,y):null;w.push(He)}E!==null&&(E.hasOwnProperty("class")&&(t.flags|=8),E.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=w,t.inputs=E,t.outputs=M}function bv(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Yp(e,t,r,s,l,d,y,w){let E=Ci(t,r),M=t.inputs,j;!w&&M!=null&&(j=M[s])?(xh(e,r,j,s,l),Js(t)&&Mv(r,t.index)):t.type&3?(s=bv(s),l=y!=null?y(l,t.value||"",s):l,d.setProperty(E,s,l)):t.type&12}function Mv(e,t){let r=gn(t,e);r[Re]&16||(r[Re]|=64)}function Hp(e,t,r,s){if(Td()){let l=s===null?null:{"":-1},d=Sv(e,r),y,w;d===null?y=w=null:[y,w]=d,y!==null&&$p(e,t,r,y,l,w),l&&Iv(r,s,l)}r.mergedAttrs=Ul(r.mergedAttrs,r.attrs)}function $p(e,t,r,s,l,d){for(let M=0;M<s.length;M++)Ux(Xd(r,t),e,s[M].type);_v(r,e.data.length,s.length);for(let M=0;M<s.length;M++){let j=s[M];j.providersResolver&&j.providersResolver(j)}let y=!1,w=!1,E=Bp(e,t,s.length,null);for(let M=0;M<s.length;M++){let j=s[M];r.mergedAttrs=Ul(r.mergedAttrs,j.hostAttrs),kv(e,r,t,E,j),Pv(E,j,l),j.contentQueries!==null&&(r.flags|=4),(j.hostBindings!==null||j.hostAttrs!==null||j.hostVars!==0)&&(r.flags|=64);let Y=j.type.prototype;!y&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),y=!0),!w&&(Y.ngOnChanges||Y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),w=!0),E++}vv(e,r,d)}function Cv(e,t,r,s,l){let d=l.hostBindings;if(d){let y=e.hostBindingOpCodes;y===null&&(y=e.hostBindingOpCodes=[]);let w=~t.index;wv(y)!=w&&y.push(w),y.push(r,s,d)}}function wv(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function Tv(e,t,r,s){let l=r.directiveStart,d=r.directiveEnd;Js(r)&&Ev(t,r,e.data[l+r.componentOffset]),e.firstCreatePass||Xd(r,t),Nn(s,t);let y=r.initialInputs;for(let w=l;w<d;w++){let E=e.data[w],M=Hs(t,e,w,r);if(Nn(M,t),y!==null&&Av(t,w-l,M,E,r,y),qs(E)){let j=gn(r.index,t);j[Ai]=Hs(t,e,w,r)}}}function Gp(e,t,r){let s=r.directiveStart,l=r.directiveEnd,d=r.index,y=Ex();try{Ln(d);for(let w=s;w<l;w++){let E=e.data[w],M=t[w];pl(w),(E.hostBindings!==null||E.hostVars!==0||E.hostAttrs!==null)&&Dv(E,M)}}finally{Ln(-1),pl(y)}}function Dv(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Sv(e,t){let r=e.directiveRegistry,s=null,l=null;if(r)for(let d=0;d<r.length;d++){let y=r[d];if(qm(t,y.selectors,!1))if(s||(s=[]),qs(y))if(y.findHostDirectiveDefs!==null){let w=[];l=l||new Map,y.findHostDirectiveDefs(y,w,l),s.unshift(...w,y);let E=w.length;El(e,t,E)}else s.unshift(y),El(e,t,0);else l=l||new Map,y.findHostDirectiveDefs?.(y,s,l),s.push(y)}return s===null?null:[s,l]}function El(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function Iv(e,t,r){if(t){let s=e.localNames=[];for(let l=0;l<t.length;l+=2){let d=r[t[l+1]];if(d==null)throw new Ee(-301,!1);s.push(t[l],d)}}}function Pv(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;qs(t)&&(r[""]=e)}}function _v(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function kv(e,t,r,s,l){e.data[s]=l;let d=l.factory||(l.factory=cs(l.type,!0)),y=new Ys(d,qs(l),Xi);e.blueprint[s]=y,r[s]=y,Cv(e,t,s,Bp(e,r,l.hostVars,nr),l)}function Ev(e,t,r){let s=Ci(t,e),l=Up(r),d=e[pn].rendererFactory,y=16;r.signals?y=4096:r.onPush&&(y=64);let w=Go(e,Ho(e,l,null,y,s,t,null,d.createRenderer(s,r),null,null,null));e[t.index]=w}function Av(e,t,r,s,l,d){let y=d[t];if(y!==null)for(let w=0;w<y.length;){let E=y[w++],M=y[w++],j=y[w++],Y=y[w++];Op(s,r,E,M,j,Y)}}function Fv(e,t,r){let s=null,l=0;for(;l<r.length;){let d=r[l];if(d===0){l+=4;continue}else if(d===5){l+=2;continue}if(typeof d=="number")break;if(e.hasOwnProperty(d)){s===null&&(s=[]);let y=e[d];for(let w=0;w<y.length;w+=3)if(y[w]===t){s.push(d,y[w+1],y[w+2],r[l+1]);break}}l+=2}return s}function Zp(e,t,r,s){return[e,!0,0,t,null,s,null,r,null,null]}function Kp(e,t){let r=e.contentQueries;if(r!==null){let s=oi(null);try{for(let l=0;l<r.length;l+=2){let d=r[l],y=r[l+1];if(y!==-1){let w=e.data[y];kd(d),w.contentQueries(2,t[y],y)}}}finally{oi(s)}}}function Go(e,t){return e[Ws]?e[wu][Ei]=t:e[Ws]=t,e[wu]=t,t}function Al(e,t,r){kd(0);let s=oi(null);try{t(e,r)}finally{oi(s)}}function Lv(e){return e[Vs]||(e[Vs]=[])}function Rv(e){return e.cleanup||(e.cleanup=[])}function Qp(e,t){let r=e[hs],s=r?r.get(nn,null):null;s&&s.handleError(t)}function xh(e,t,r,s,l){for(let d=0;d<r.length;){let y=r[d++],w=r[d++],E=r[d++],M=t[y],j=e.data[y];Op(j,M,s,w,E,l)}}var Jp=100;function qp(e,t=!0,r=0){let s=e[pn],l=s.rendererFactory,d=!1;d||l.begin?.();try{Nv(e,r)}catch(y){throw t&&Qp(e,y),y}finally{d||(l.end?.(),s.inlineEffectRunner?.flush())}}function Nv(e,t){Fl(e,t);let r=0;for(;$l(e);){if(r===Jp)throw new Ee(103,!1);r++,Fl(e,1)}}function Ov(e,t,r,s){let l=t[Re];if((l&256)===256)return;let d=!1;!d&&t[pn].inlineEffectRunner?.flush(),Gl(t);let y=null,w=null;!d&&Bv(e)&&(w=ov(t),y=Rc(w));try{wd(t),Px(e.bindingStartIndex),r!==null&&Vp(e,t,r,2,s);let E=(l&3)===3;if(!d)if(E){let Y=e.preOrderCheckHooks;Y!==null&&ho(t,Y,null)}else{let Y=e.preOrderHooks;Y!==null&&co(t,Y,0,null),Ka(t,0)}if(Vv(t),ef(t,0),e.contentQueries!==null&&Kp(e,t),!d)if(E){let Y=e.contentCheckHooks;Y!==null&&ho(t,Y)}else{let Y=e.contentHooks;Y!==null&&co(t,Y,1),Ka(t,1)}uv(e,t);let M=e.components;M!==null&&nf(t,M,0);let j=e.viewQuery;if(j!==null&&Al(2,j,s),!d)if(E){let Y=e.viewCheckHooks;Y!==null&&ho(t,Y)}else{let Y=e.viewHooks;Y!==null&&co(t,Y,2),Ka(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Za]){for(let Y of t[Za])Y();t[Za]=null}d||(t[Re]&=-73)}catch(E){throw Us(t),E}finally{w!==null&&(Nc(w,y),lv(w)),Zl()}}function Bv(e){return e.type!==2}function ef(e,t){for(let r=kp(e);r!==null;r=Ep(r))for(let s=ci;s<r.length;s++){let l=r[s];tf(l,t)}}function Vv(e){for(let t=kp(e);t!==null;t=Ep(t)){if(!(t[Re]&Xl.HasTransplantedViews))continue;let r=t[yo];for(let s=0;s<r.length;s++){let l=r[s],d=l[Kt];mx(l)}}}function Wv(e,t,r){let s=gn(t,e);tf(s,r)}function tf(e,t){Hl(e)&&Fl(e,t)}function Fl(e,t){let s=e[et],l=e[Re],d=e[Fn],y=!!(t===0&&l&16);if(y||=!!(l&64&&t===0),y||=!!(l&1024),y||=!!(d?.dirty&&ka(d)),d&&(d.dirty=!1),e[Re]&=-9217,y)Ov(s,e,s.template,e[Ai]);else if(l&8192){ef(e,1);let w=s.components;w!==null&&nf(e,w,1)}}function nf(e,t,r){for(let s=0;s<t.length;s++)Wv(e,t[s],r)}function yh(e){for(e[pn].changeDetectionScheduler?.notify();e;){e[Re]|=64;let t=Xs(e);if(xd(e)&&!t)return e;e=t}return null}var On=class{get rootNodes(){let t=this._lView,r=t[et];return Po(r,t,r.firstChild,[])}constructor(t,r,s=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ai]}set context(t){this._lView[Ai]=t}get destroyed(){return(this._lView[Re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Kt];if(Ui(t)){let r=t[xo],s=r?r.indexOf(this):-1;s>-1&&(Ml(t,s),Co(r,s))}this._attachedToViewContainer=!1}gp(this._lView[et],this._lView)}onDestroy(t){yx(this._lView,t)}markForCheck(){yh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-129}reattach(){dl(this._lView),this._lView[Re]|=128}detectChanges(){this._lView[Re]|=1024,qp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,pp(this._lView[et],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=t,dl(this._lView)}},Zo=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=jv;let e=t;return e})();function jv(e){return zv(Li(),Wt(),(e&16)===16)}function zv(e,t,r){if(Js(e)&&!r){let s=gn(e.index,t);return new On(s,s)}else if(e.type&47){let s=t[bi];return new On(s,t)}return null}var Nu=new Set;function sr(e){Nu.has(e)||(Nu.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ll=class extends li{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,s){let l=t,d=r||(()=>null),y=s;if(t&&typeof t=="object"){let E=t;l=E.next?.bind(E),d=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(d=nl(d),l&&(l=nl(l)),y&&(y=nl(y)));let w=super.subscribe({next:l,error:d,complete:y});return t instanceof Ot&&t.add(w),w}};function nl(e){return t=>{setTimeout(e,void 0,t)}}var hi=Ll;function Ou(...e){}function Uv(){let e=typeof Ls.requestAnimationFrame=="function",t=Ls[e?"requestAnimationFrame":"setTimeout"],r=Ls[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){let s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);let l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}var Pt=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();let l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&r,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=Uv().nativeRequestAnimationFrame,Hv(l)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Ee(909,!1)}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,l){let d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+l,t,Xv,Ou,Ou);try{return d.runTask(y,r,s)}finally{d.cancelTask(y)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}},Xv={};function vh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yv(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ls,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rl(e),e.isCheckStableRunning=!0,vh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rl(e))}function Hv(e){let t=()=>{Yv(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,l,d,y,w)=>{if($v(w))return r.invokeTask(l,d,y,w);try{return Bu(e),r.invokeTask(l,d,y,w)}finally{(e.shouldCoalesceEventChangeDetection&&d.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Vu(e)}},onInvoke:(r,s,l,d,y,w,E)=>{try{return Bu(e),r.invoke(l,d,y,w,E)}finally{e.shouldCoalesceRunChangeDetection&&t(),Vu(e)}},onHasTask:(r,s,l,d)=>{r.hasTask(l,d),s===l&&(d.change=="microTask"?(e._hasPendingMicrotasks=d.microTask,Rl(e),vh(e)):d.change=="macroTask"&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(r,s,l,d)=>(r.handleError(l,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}function Rl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Bu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vu(e){e._nesting--,vh(e)}function $v(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var sf=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let l of s)l();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=Ue({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function Gv(e,t){let r=gn(t,e),s=r[et];Zv(s,r);let l=r[ui];l!==null&&r[en]===null&&(r[en]=dh(l,r[hs])),bh(s,r,r[Ai])}function Zv(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function bh(e,t,r){Gl(t);try{let s=e.viewQuery;s!==null&&Al(1,s,r);let l=e.template;l!==null&&Vp(e,t,l,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Kp(e,t),e.staticViewQueries&&Al(2,e.viewQuery,r);let d=e.components;d!==null&&Kv(t,d)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[Re]&=-5,Zl()}}function Kv(e,t){for(let r=0;r<t.length;r++)Gv(e,t[r])}function Nl(e,t,r){let s=r?e.styles:null,l=r?e.classes:null,d=0;if(t!==null)for(let y=0;y<t.length;y++){let w=t[y];if(typeof w=="number")d=w;else if(d==1)l=pu(l,w);else if(d==2){let E=w,M=t[++y];s=pu(s,E+": "+M+";")}}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=l:e.classesWithoutHost=l}var _o=class extends Xo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=An(t);return new Zs(r,this.ngModule)}};function Wu(e){let t=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let s=e[r];s!==void 0&&t.push({propName:Array.isArray(s)?s[0]:s,templateName:r})}return t}function Qv(e){let t=e.toLowerCase();return t==="svg"?ux:t==="math"?dx:null}var Ol=class{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,s){s=Ro(s);let l=this.injector.get(t,tl,s);return l!==tl||r===tl?l:this.parentInjector.get(t,r,s)}},Zs=class extends Io{get inputs(){let t=this.componentDef,r=t.inputTransforms,s=Wu(t.inputs);if(r!==null)for(let l of s)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return s}get outputs(){return Wu(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=nx(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,s,l){l=l||this.ngModule;let d=l instanceof Mi?l:l?.injector;d&&this.componentDef.getStandaloneInjector!==null&&(d=this.componentDef.getStandaloneInjector(d)||d);let y=d?new Ol(t,d):t,w=y.get(Gs,null);if(w===null)throw new Ee(407,!1);let E=y.get(sv,null),M=y.get(sf,null),j=y.get(wl,null),Y={rendererFactory:w,sanitizer:E,inlineEffectRunner:null,afterRenderEventManager:M,changeDetectionScheduler:j},re=w.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",de=s?fv(re,s,this.componentDef.encapsulation,y):ah(re,te,Qv(te)),He=512;this.componentDef.signals?He|=4096:this.componentDef.onPush||(He|=16);let Tt=null;de!==null&&(Tt=dh(de,y,!0));let be=mh(0,null,null,1,0,null,null,null,null,null,null),Ct=Ho(null,be,null,He,null,null,Y,re,y,null,Tt);Gl(Ct);let Yt,xt;try{let Ae=this.componentDef,ht,it=null;Ae.findHostDirectiveDefs?(ht=[],it=new Map,Ae.findHostDirectiveDefs(Ae,ht,it),ht.push(Ae)):ht=[Ae];let Ht=Jv(Ct,de),$i=qv(Ht,de,Ae,ht,Ct,Y,re);xt=Cd(be,di),de&&i0(re,Ae,de,s),r!==void 0&&n0(xt,this.ngContentSelectors,r),Yt=t0($i,Ae,ht,it,Ct,[s0]),bh(be,Ct,null)}finally{Zl()}return new Bl(this.componentType,Yt,Yo(xt,Ct),Ct,xt)}},Bl=class extends Sl{constructor(t,r,s,l,d){super(),this.location=s,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new On(l,void 0,!1),this.componentType=t}setInput(t,r){let s=this._tNode.inputs,l;if(s!==null&&(l=s[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let d=this._rootLView;xh(d[et],d,l,t,r),this.previousInputValues.set(t,r);let y=gn(this._tNode.index,d);yh(y)}}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Jv(e,t){let r=e[et],s=di;return e[s]=t,$o(r,s,2,"#host",null)}function qv(e,t,r,s,l,d,y){let w=l[et];e0(s,e,t,y);let E=null;t!==null&&(E=dh(t,l[hs]));let M=d.rendererFactory.createRenderer(t,r),j=16;r.signals?j=4096:r.onPush&&(j=64);let Y=Ho(l,Up(r),null,j,l[e.index],e,d,M,null,null,E);return w.firstCreatePass&&El(w,e,s.length-1),Go(l,Y),l[e.index]=Y}function e0(e,t,r,s){for(let l of e)t.mergedAttrs=Ul(t.mergedAttrs,l.hostAttrs);t.mergedAttrs!==null&&(Nl(t,t.mergedAttrs,!0),r!==null&&Mp(s,r,t))}function t0(e,t,r,s,l,d){let y=Li(),w=l[et],E=Ci(y,l);$p(w,l,y,r,null,s);for(let j=0;j<r.length;j++){let Y=y.directiveStart+j,re=Hs(l,w,Y,y);Nn(re,l)}Gp(w,l,y),E&&Nn(E,l);let M=Hs(l,w,y.directiveStart+y.componentOffset,y);if(e[Ai]=l[Ai]=M,d!==null)for(let j of d)j(M,t);return Wp(w,y,e),M}function i0(e,t,r,s){if(s)cl(e,r,["ng-version","17.1.3"]);else{let{attrs:l,classes:d}=sx(t.selectors[0]);l&&cl(e,r,l),d&&d.length>0&&bp(e,r,d.join(" "))}}function n0(e,t,r){let s=e.projection=[];for(let l=0;l<t.length;l++){let d=r[l];s.push(d!=null?Array.from(d):null)}}function s0(){let e=Li();Ql(Wt()[et],e)}function rf(e){let t=e[zs]??[],s=e[Kt][Vt];for(let l of t)r0(l,s);e[zs]=ki}function r0(e,t){let r=0,s=e.firstChild;if(s){let l=e.data[So];for(;r<l;){let d=s.nextSibling;yp(t,s,!1),s=d,r++}}}function of(e){rf(e);for(let t=ci;t<e.length;t++)ko(e[t])}function ko(e){let t=e[et];for(let r=di;r<t.bindingStartIndex;r++)if(Ui(e[r])){let s=e[r];of(s)}else Ji(e[r])&&ko(e[r])}function o0(e){let t=e._views;for(let r of t){let s=Ky(r);if(s!==null&&s[ui]!==null)if(Ji(s))ko(s);else{let l=s[ui];ko(l),of(s)}}}var a0=new RegExp(`^(\\d+)*(${wp}|${Cp})*(.*)`);function l0(e){let t=e.match(a0),[r,s,l,d]=t,y=s?parseInt(s,10):l,w=[];for(let[E,M,j]of d.matchAll(/(f|n)(\d*)/g)){let Y=parseInt(j,10)||1;w.push(M,Y)}return[y,...w]}function h0(e){return!e.prev&&e.parent?.type===8}function sl(e){return e.index-di}function Ko(e,t,r,s){let l=null,d=sl(s),y=e.data[Xy];if(y?.[d])l=u0(y[d],r);else if(t.firstChild===s)l=e.firstChild;else{let w=s.prev===null,E=s.prev??s.parent;if(h0(s)){let M=sl(s.parent);l=Dl(e,M)}else{let M=Ci(E,r);if(w)l=M.firstChild;else{let j=sl(E),Y=Dl(e,j);if(E.type===2&&Y){let te=ph(e,j)+1;l=Qo(te,Y)}else l=M.nextSibling}}}return l}function Qo(e,t){let r=t;for(let s=0;s<e;s++)r=r.nextSibling;return r}function c0(e,t){let r=e;for(let s=0;s<t.length;s+=2){let l=t[s],d=t[s+1];for(let y=0;y<d;y++)switch(l){case Tl.FirstChild:r=r.firstChild;break;case Tl.NextSibling:r=r.nextSibling;break}}return r}function u0(e,t){let[r,...s]=l0(e),l;if(r===Cp)l=t[bi][ui];else if(r===wp)l=hy(t[bi][ui]);else{let d=Number(r);l=zi(t[d+di])}return c0(l,s)}function d0(e,t){let r=[];for(let s of t)for(let l=0;l<(s[Tp]??1);l++){let d={data:s,firstChild:null};s[So]>0&&(d.firstChild=e,e=Qo(s[So],e)),r.push(d)}return[e,r]}var af=()=>null;function p0(e,t){let r=e[zs];return!t||r===null||r.length===0?null:r[0].data[Uy]===t?r.shift():(rf(e),null)}function f0(){af=p0}function ju(e,t){return af(e,t)}function g0(e,t,r,s){let l=t.tView,y=e[Re]&4096?4096:16,w=Ho(e,l,r,y,null,t,null,null,null,s?.injector??null,s?.dehydratedView??null),E=e[t.index];w[No]=E;let M=e[js];return M!==null&&(w[js]=M.createEmbeddedView(l)),bh(l,w,r),w}function zu(e,t){return!t||t.firstChild===null||To(e)}function m0(e,t,r,s=!0){let l=t[et];if(Dy(l,t,e,r),s){let y=Cl(r,e),w=t[Vt],E=lh(w,e[tn]);E!==null&&wy(l,e[Fi],w,t,E,y)}let d=t[en];d!==null&&d.firstChild!==null&&(d.firstChild=null)}var rr=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=x0;let e=t;return e})();function x0(){let e=Li();return v0(e,Wt())}var y0=rr,lf=class extends y0{constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return Yo(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){let t=Jl(this._hostTNode,this._hostLView);if(jd(t)){let r=Mo(t,this._hostLView),s=bo(t),l=r[et].data[s+8];return new En(l,r)}else return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=Uu(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-ci}createEmbeddedView(t,r,s){let l,d;typeof s=="number"?l=s:s!=null&&(l=s.index,d=s.injector);let y=ju(this._lContainer,t.ssrId),w=t.createEmbeddedViewImpl(r||{},d,y);return this.insertImpl(w,l,zu(this._hostTNode,y)),w}createComponent(t,r,s,l,d){let y=t&&!Kx(t),w;if(y)w=r;else{let de=r||{};w=de.index,s=de.injector,l=de.projectableNodes,d=de.environmentInjector||de.ngModuleRef}let E=y?t:new Zs(An(t)),M=s||this.parentInjector;if(!d&&E.ngModule==null){let He=(y?M:this.parentInjector).get(Mi,null);He&&(d=He)}let j=An(E.componentType??{}),Y=ju(this._lContainer,j?.id??null),re=Y?.firstChild??null,te=E.create(M,l,re,d);return this.insertImpl(te.hostView,w,zu(this._hostTNode,Y)),te}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,s){let l=t._lView;if(gx(l)){let w=this.indexOf(t);if(w!==-1)this.detach(w);else{let E=l[Kt],M=new lf(E,E[Fi],E[Kt]);M.detach(M.indexOf(t))}}let d=this._adjustIndex(r),y=this._lContainer;return m0(y,l,d,s),t.attachToViewContainerRef(),Jd(rl(y),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=Uu(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),s=Ml(this._lContainer,r);s&&(Co(rl(this._lContainer),r),gp(s[et],s))}detach(t){let r=this._adjustIndex(t,-1),s=Ml(this._lContainer,r);return s&&Co(rl(this._lContainer),r)!=null?new On(s):null}_adjustIndex(t,r=0){return t??this.length+r}};function Uu(e){return e[xo]}function rl(e){return e[xo]||(e[xo]=[])}function v0(e,t){let r,s=t[e.index];return Ui(s)?r=s:(r=Zp(s,t,null,e),t[e.index]=r,Go(t,r)),hf(r,t,e,s),new lf(r,e,t)}function b0(e,t){let r=e[Vt],s=r.createComment(""),l=Ci(t,e),d=lh(r,l);return Do(r,d,s,Ay(r,l),!1),s}var hf=cf,Mh=()=>!1;function M0(e,t,r){return Mh(e,t,r)}function cf(e,t,r,s){if(e[tn])return;let l;r.type&8?l=zi(s):l=b0(t,r),e[tn]=l}function C0(e,t,r){if(e[tn]&&e[zs])return!0;let s=r[en],l=t.index-di;if(!s||dy(t)||Uo(s,l))return!1;let y=Dl(s,l),w=s.data[uh]?.[l],[E,M]=d0(y,w);return e[tn]=E,e[zs]=M,!0}function w0(e,t,r,s){Mh(e,r,t)||cf(e,t,r,s)}function T0(){hf=w0,Mh=C0}var fn=class{},Ks=class{};var Vl=class extends fn{constructor(t,r,s){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _o(this);let l=ud(t);this._bootstrapComponents=ap(l.bootstrap),this._r3Injector=rp(t,r,[{provide:fn,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver},...s],ri(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Wl=class extends Ks{constructor(t){super(),this.moduleType=t}create(t){return new Vl(this.moduleType,t,[])}};var Eo=class extends fn{constructor(t){super(),this.componentFactoryResolver=new _o(this),this.instance=null;let r=new $s([...t.providers,{provide:fn,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],t.parent||nh(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ch(e,t,r=null){return new Eo({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}var or=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function D0(e,t,r){return e[t]=r}function S0(e,t){return e[t]}function uf(e,t,r){let s=e[t];return Object.is(s,r)?!1:(e[t]=r,!0)}function I0(e,t,r,s,l,d,y,w,E){let M=t.consts,j=$o(t,e,4,y||null,vo(M,w));Hp(t,r,j,vo(M,E)),Ql(t,j);let Y=j.tView=mh(2,j,s,l,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,M,null);return t.queries!==null&&(t.queries.template(t,j),Y.queries=t.queries.embeddedTView(j)),j}function ar(e,t,r,s,l,d,y,w){let E=Wt(),M=mn(),j=e+di,Y=M.firstCreatePass?I0(j,M,E,t,r,s,l,d,y):M.data[j];tr(Y,!1);let re=df(M,E,Y,e);Kl()&&hh(M,E,re,Y),Nn(re,E);let te=Zp(re,E,re,Y);return E[j]=te,Go(E,te),M0(te,Y,E),Yl(Y)&&jp(M,E,Y),y!=null&&zp(E,Y,w),ar}var df=pf;function pf(e,t,r,s){return xn(!0),t[Vt].createComment("")}function P0(e,t,r,s){let l=t[en],d=!l||er()||Uo(l,s);if(xn(d),d)return pf(e,t,r,s);let y=l.data[zy]?.[s]??null;y!==null&&r.tView!==null&&r.tView.ssrId===null&&(r.tView.ssrId=y);let w=Ko(l,e,t,r);zo(l,s,w);let E=ph(l,s);return Qo(E,w)}function _0(){df=P0}function k0(e,t,r,s){return uf(e,_d(),r)?t+Ju(r)+s:nr}function bn(e,t,r){let s=Wt(),l=_d();if(uf(s,l,t)){let d=mn(),y=Od();Yp(d,y,s,e,t,s[Vt],r,!1)}return bn}function Xu(e,t,r,s,l){let d=t.inputs,y=l?"class":"style";xh(e,r,d[y],y,s)}function E0(e,t,r,s,l,d){let y=t.consts,w=vo(y,l),E=$o(t,e,2,s,w);return Hp(t,r,E,vo(y,d)),E.attrs!==null&&Nl(E,E.attrs,!1),E.mergedAttrs!==null&&Nl(E,E.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,E),E}function lr(e,t,r,s){let l=Wt(),d=mn(),y=di+e,w=l[Vt],E=d.firstCreatePass?E0(y,d,l,t,r,s):d.data[y],M=ff(d,l,E,w,t,e);l[y]=M;let j=Yl(E);return tr(E,!0),Mp(w,M,E),(E.flags&32)!==32&&Kl()&&hh(d,l,M,E),vx()===0&&Nn(M,l),bx(),j&&(jp(d,l,E),Wp(d,E,l)),s!==null&&zp(l,E),lr}function ys(){let e=Li();Pd()?Sx():(e=e.parent,tr(e,!1));let t=e;Cx(t)&&Tx(),Mx();let r=mn();return r.firstCreatePass&&(Ql(r,e),md(e)&&r.queries.elementEnd(e)),t.classesWithoutHost!=null&&Ox(t)&&Xu(r,t,Wt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Bx(t)&&Xu(r,t,Wt(),t.stylesWithoutHost,!1),ys}function jn(e,t,r,s){return lr(e,t,r,s),ys(),jn}var ff=(e,t,r,s,l,d)=>(xn(!0),ah(s,l,Bd()));function A0(e,t,r,s,l,d){let y=t[en],w=!y||er()||Uo(y,d);if(xn(w),w)return ah(s,l,Bd());let E=Ko(y,e,t,r);return Ip(y,d)&&zo(y,d,E.nextSibling),y&&(lp(r)||hp(E))&&Js(r)&&(wx(r),vp(E)),E}function F0(){ff=A0}var L0=(e,t,r,s)=>(xn(!0),dp(t[Vt],""));function R0(e,t,r,s){let l,d=t[en],y=!d||er();if(xn(y),y)return dp(t[Vt],"");let w=Ko(d,e,t,r),E=qy(d,s);return zo(d,s,w),l=Qo(E,w),l}function N0(){L0=R0}function gf(){return Wt()}var Ao="en-US";var O0=Ao;function B0(e){typeof e=="string"&&(O0=e.toLowerCase().replace(/_/g,"-"))}function hr(e){return!!e&&typeof e.then=="function"}function mf(e){return!!e&&typeof e.subscribe=="function"}function cr(e,t,r,s){let l=Wt(),d=mn(),y=Li();return W0(d,l,l[Vt],y,e,t,s),cr}function V0(e,t,r,s){let l=e.cleanup;if(l!=null)for(let d=0;d<l.length-1;d+=2){let y=l[d];if(y===r&&l[d+1]===s){let w=t[Vs],E=l[d+2];return w.length>E?w[E]:null}typeof y=="string"&&(d+=2)}return null}function W0(e,t,r,s,l,d,y){let w=Yl(s),M=e.firstCreatePass&&Rv(e),j=t[Ai],Y=Lv(t),re=!0;if(s.type&3||y){let He=Ci(s,t),Tt=y?y(He):He,be=Y.length,Ct=y?xt=>y(zi(xt[s.index])):s.index,Yt=null;if(!y&&w&&(Yt=V0(e,t,l,s.index)),Yt!==null){let xt=Yt.__ngLastListenerFn__||Yt;xt.__ngNextListenerFn__=d,Yt.__ngLastListenerFn__=d,re=!1}else{d=Hu(s,t,j,d,!1);let xt=r.listen(Tt,l,d);Y.push(d,xt),M&&M.push(l,Ct,be,be+1)}}else d=Hu(s,t,j,d,!1);let te=s.outputs,de;if(re&&te!==null&&(de=te[l])){let He=de.length;if(He)for(let Tt=0;Tt<He;Tt+=2){let be=de[Tt],Ct=de[Tt+1],Ae=t[be][Ct].subscribe(d),ht=Y.length;Y.push(d,Ae),M&&M.push(l,s.index,ht,-(ht+1))}}}function Yu(e,t,r,s){try{return Vi(6,t,r),r(s)!==!1}catch(l){return Qp(e,l),!1}finally{Vi(7,t,r)}}function Hu(e,t,r,s,l){return function d(y){if(y===Function)return s;let w=e.componentOffset>-1?gn(e.index,t):t;yh(w);let E=Yu(t,r,s,y),M=d.__ngNextListenerFn__;for(;M;)E=Yu(t,r,M,y)&&E,M=M.__ngNextListenerFn__;return l&&E===!1&&y.preventDefault(),E}}function Jo(e=1){return Fx(e)}function wh(e,t,r){return xf(e,"",t,"",r),wh}function xf(e,t,r,s,l){let d=Wt(),y=k0(d,t,r,s);if(y!==nr){let w=mn(),E=Od();Yp(w,E,d,e,y,d[Vt],l,!1)}return xf}var Th=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=U0;let e=t;return e})(),j0=Th,z0=class extends j0{constructor(t,r,s){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,s){let l=g0(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:s});return new On(l)}};function U0(){return X0(Li(),Wt())}function X0(e,t){return e.type&4?new z0(t,e,Yo(e,t)):null}function yf(e,t=""){let r=Wt(),s=mn(),l=e+di,d=s.firstCreatePass?$o(s,l,1,t,null):s.data[l],y=vf(s,r,d,t,e);r[l]=y,Kl()&&hh(s,r,y,d),tr(d,!1)}var vf=(e,t,r,s,l)=>(xn(!0),up(t[Vt],s));function Y0(e,t,r,s,l){let d=t[en],y=!d||er()||Uo(d,l);return xn(y),y?up(t[Vt],s):Ko(d,e,t,r)}function H0(){vf=Y0}var $0=(()=>{let t=class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){let l=ip(!1,s.type),d=l.length>0?Ch([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,d)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(let s of this.cachedInjectors.values())s!==null&&s.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=Ue({token:t,providedIn:"environment",factory:()=>new t(lt(Mi))});let e=t;return e})();function qo(e){sr("NgStandalone"),e.getStandaloneInjector=t=>t.get($0).getOrCreateStandaloneInjector(e)}function bf(e,t,r){let s=Ix()+e,l=Wt();return l[s]===nr?D0(l,s,r?t.call(r):t()):S0(l,s)}var ea=(()=>{let t=class t{log(s){console.log(s)}warn(s){console.warn(s)}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})(),jl=class{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}},Dh=(()=>{let t=class t{compileModuleSync(s){return new Wl(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){let l=this.compileModuleSync(s),d=ud(s),y=ap(d.declarations).reduce((w,E)=>{let M=An(E);return M&&w.push(new Zs(M)),w},[]);return new jl(l,y)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Mf=new Qe("");var Cf=new Qe(""),wf=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=ye(Cf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let s=[];for(let d of this.appInits){let y=d();if(hr(y))s.push(y);else if(mf(y)){let w=new Promise((E,M)=>{y.subscribe({complete:E,error:M})});s.push(w)}}let l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),s.length===0&&l(),this.initialized=!0}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vs=new Qe("");function G0(){Bc(()=>{throw new Ee(600,!1)})}function Z0(e){return e.isBoundToModule}function K0(e,t,r){try{let s=r();return hr(s)?s.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}var Mn=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ye(Fp),this.afterRenderEffectManager=ye(sf),this.componentTypes=[],this.components=[],this.isStable=ye(or).hasPendingTasks.pipe(st(s=>!s)),this._injector=ye(Mi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){let d=s instanceof Io;if(!this._injector.get(wf).done){let te=!d&&cd(s),de=!1;throw new Ee(405,de)}let w;d?w=s:w=this._injector.get(Xo).resolveComponentFactory(s),this.componentTypes.push(w.componentType);let E=Z0(w)?void 0:this._injector.get(fn),M=l||w.selector,j=w.create(Vn.NULL,[],M,E),Y=j.location.nativeElement,re=j.injector.get(Mf,null);return re?.registerApplication(Y),j.onDestroy(()=>{this.detachView(j.hostView),ol(this.components,j),re?.unregisterApplication(Y)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let s=0;do{if(s===Jp)throw new Ee(103,!1);let l=s===0;for(let{_lView:d,notifyErrorHandler:y}of this._views)!l&&!$u(d)||this.detectChangesInView(d,y,l);this.afterRenderEffectManager.execute(),s++}while(this._views.some(({_lView:l})=>$u(l)))}detectChangesInView(s,l,d){let y;d?(y=0,s[Re]|=1024):s[Re]&64?y=0:y=1,qp(s,l,y)}attachView(s){let l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){let l=s;ol(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);let l=this._injector.get(vs,[]);[...this._bootstrapListeners,...l].forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ol(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ee(406,!1);let s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ol(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}var lo;function Sh(e){lo??=new WeakMap;let t=lo.get(e);if(t)return t;let r=e.isStable.pipe(Pi(s=>s)).toPromise().then(()=>{});return lo.set(e,r),e.onDestroy(()=>lo?.delete(e)),r}function $u(e){return $l(e)}var Q0=(()=>{let t=class t{constructor(){this.zone=ye(Pt),this.applicationRef=ye(Mn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function J0(e){return[{provide:Pt,useFactory:e},{provide:Rn,multi:!0,useFactory:()=>{let t=ye(Q0,{optional:!0});return()=>t.initialize()}},{provide:Rn,multi:!0,useFactory:()=>{let t=ye(ib);return()=>{t.initialize()}}},{provide:Fp,useFactory:q0}]}function q0(){let e=ye(Pt),t=ye(nn);return r=>e.runOutsideAngular(()=>t.handleError(r))}function eb(e){let t=J0(()=>new Pt(tb(e)));return Bn([[],t])}function tb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var ib=(()=>{let t=class t{constructor(){this.subscription=new Ot,this.initialized=!1,this.zone=ye(Pt),this.pendingTasks=ye(or)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pt.assertNotInAngularZone(),queueMicrotask(()=>{s!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pt.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function nb(){return typeof $localize<"u"&&$localize.locale||Ao}var Ih=new Qe("",{providedIn:"root",factory:()=>ye(Ih,Ke.Optional|Ke.SkipSelf)||nb()});var Tf=new Qe("");var fo=null;function sb(e=[],t){return Vn.create({name:t,providers:[{provide:Bo,useValue:"platform"},{provide:Tf,useValue:new Set([()=>fo=null])},...e]})}function rb(e=[]){if(fo)return fo;let t=sb(e);return fo=t,G0(),ob(t),t}function ob(e){e.get(sh,null)?.forEach(r=>r())}function Df(e){try{let{rootComponent:t,appProviders:r,platformProviders:s}=e,l=rb(s),d=[eb(),...r||[]],w=new Eo({providers:d,parent:l,debugName:"",runEnvironmentInitializers:!1}).injector,E=w.get(Pt);return E.run(()=>{w.resolveInjectorInitializers();let M=w.get(nn,null),j;E.runOutsideAngular(()=>{j=E.onError.subscribe({next:te=>{M.handleError(te)}})});let Y=()=>w.destroy(),re=l.get(Tf);return re.add(Y),w.onDestroy(()=>{j.unsubscribe(),re.delete(Y)}),K0(M,E,()=>{let te=w.get(wf);return te.runInitializers(),te.donePromise.then(()=>{let de=w.get(Ih,Ao);B0(de||Ao);let He=w.get(Mn);return t!==void 0&&He.bootstrap(t),He})})})}catch(t){return Promise.reject(t)}}var Gu=!1;function ab(){Gu||(Gu=!0,Zy(),F0(),H0(),N0(),_0(),T0(),f0(),xv())}function lb(e,t){return Sh(e)}function Sf(){return Bn([{provide:ao,useFactory:()=>{let e=!0;return oo()&&(e=!!ye(Wn,{optional:!0})?.get(Dp,null)),e&&sr("NgHydration"),e}},{provide:Rn,useValue:()=>{oo()&&ye(ao)&&(hb(),ab())},multi:!0},{provide:Rp,useFactory:()=>oo()&&ye(ao)},{provide:vs,useFactory:()=>{if(oo()&&ye(ao)){let e=ye(Mn),t=ye(Vn);return()=>{lb(e,t).then(()=>{Pt.assertInAngularZone(),o0(e)})}}return()=>{}},multi:!0}])}function hb(){let e=Vo(),t;for(let r of e.body.childNodes)if(r.nodeType===Node.COMMENT_NODE&&r.textContent?.trim()===$y){t=r;break}if(!t)throw new Ee(-507,!1)}var Af=null;function bs(){return Af}function Ff(e){Af??=e}var ta=class{},wi=new Qe(""),Lf=(()=>{let t=class t{historyGo(s){throw new Error("")}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>ye(fb),providedIn:"platform"});let e=t;return e})();var fb=(()=>{let t=class t extends Lf{constructor(){super(),this._doc=ye(wi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bs().getBaseHref(this._doc)}onPopState(s){let l=bs().getGlobalEventTarget(this._doc,"window");return l.addEventListener("popstate",s,!1),()=>l.removeEventListener("popstate",s)}onHashChange(s){let l=bs().getGlobalEventTarget(this._doc,"window");return l.addEventListener("hashchange",s,!1),()=>l.removeEventListener("hashchange",s)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(s){this._location.pathname=s}pushState(s,l,d){this._history.pushState(s,l,d)}replaceState(s,l,d){this._history.replaceState(s,l,d)}forward(){this._history.forward()}back(){this._history.back()}historyGo(s=0){this._history.go(s)}getState(){return this._history.state}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function Rf(e,t){if(e.length==0)return t;if(t.length==0)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,r==2?e+t.substring(1):r==1?e+t:e+"/"+t}function If(e){let t=e.match(/#|\?|$/),r=t&&t.index||e.length,s=r-(e[r-1]==="/"?1:0);return e.slice(0,s)+e.slice(r)}function zn(e){return e&&e[0]!=="?"?"?"+e:e}var na=(()=>{let t=class t{historyGo(s){throw new Error("")}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>ye(Nf),providedIn:"root"});let e=t;return e})(),gb=new Qe(""),Nf=(()=>{let t=class t extends na{constructor(s,l){super(),this._platformLocation=s,this._removeListenerFns=[],this._baseHref=l??this._platformLocation.getBaseHrefFromDOM()??ye(wi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(s){this._removeListenerFns.push(this._platformLocation.onPopState(s),this._platformLocation.onHashChange(s))}getBaseHref(){return this._baseHref}prepareExternalUrl(s){return Rf(this._baseHref,s)}path(s=!1){let l=this._platformLocation.pathname+zn(this._platformLocation.search),d=this._platformLocation.hash;return d&&s?`${l}${d}`:l}pushState(s,l,d,y){let w=this.prepareExternalUrl(d+zn(y));this._platformLocation.pushState(s,l,w)}replaceState(s,l,d,y){let w=this.prepareExternalUrl(d+zn(y));this._platformLocation.replaceState(s,l,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(s=0){this._platformLocation.historyGo?.(s)}};t.\u0275fac=function(l){return new(l||t)(lt(Lf),lt(gb,8))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dr=(()=>{let t=class t{constructor(s){this._subject=new hi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=s;let l=this._locationStrategy.getBaseHref();this._basePath=yb(If(Pf(l))),this._locationStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(s=!1){return this.normalize(this._locationStrategy.path(s))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(s,l=""){return this.path()==this.normalize(s+zn(l))}normalize(s){return t.stripTrailingSlash(xb(this._basePath,Pf(s)))}prepareExternalUrl(s){return s&&s[0]!=="/"&&(s="/"+s),this._locationStrategy.prepareExternalUrl(s)}go(s,l="",d=null){this._locationStrategy.pushState(d,"",s,l),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+zn(l)),d)}replaceState(s,l="",d=null){this._locationStrategy.replaceState(d,"",s,l),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+zn(l)),d)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(s=0){this._locationStrategy.historyGo?.(s)}onUrlChange(s){return this._urlChangeListeners.push(s),this._urlChangeSubscription??=this.subscribe(l=>{this._notifyUrlChangeListeners(l.url,l.state)}),()=>{let l=this._urlChangeListeners.indexOf(s);this._urlChangeListeners.splice(l,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(s="",l){this._urlChangeListeners.forEach(d=>d(s,l))}subscribe(s,l,d){return this._subject.subscribe({next:s,error:l,complete:d})}};t.normalizeQueryParams=zn,t.joinWithSlash=Rf,t.stripTrailingSlash=If,t.\u0275fac=function(l){return new(l||t)(lt(na))},t.\u0275prov=Ue({token:t,factory:()=>mb(),providedIn:"root"});let e=t;return e})();function mb(){return new dr(lt(na))}function xb(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function Pf(e){return e.replace(/\/index.html$/,"")}function yb(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}function Of(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let s=r.indexOf("="),[l,d]=s==-1?[r,""]:[r.slice(0,s),r.slice(s+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}var Ph=/\s+/,_f=[],Bf=(()=>{let t=class t{constructor(s,l){this._ngEl=s,this._renderer=l,this.initialClasses=_f,this.stateMap=new Map}set klass(s){this.initialClasses=s!=null?s.trim().split(Ph):_f}set ngClass(s){this.rawClass=typeof s=="string"?s.trim().split(Ph):s}ngDoCheck(){for(let l of this.initialClasses)this._updateState(l,!0);let s=this.rawClass;if(Array.isArray(s)||s instanceof Set)for(let l of s)this._updateState(l,!0);else if(s!=null)for(let l of Object.keys(s))this._updateState(l,!!s[l]);this._applyStateDiff()}_updateState(s,l){let d=this.stateMap.get(s);d!==void 0?(d.enabled!==l&&(d.changed=!0,d.enabled=l),d.touched=!0):this.stateMap.set(s,{enabled:l,changed:!0,touched:!0})}_applyStateDiff(){for(let s of this.stateMap){let l=s[0],d=s[1];d.changed?(this._toggleClass(l,d.enabled),d.changed=!1):d.touched||(d.enabled&&this._toggleClass(l,!1),this.stateMap.delete(l)),d.touched=!1}}_toggleClass(s,l){s=s.trim(),s.length>0&&s.split(Ph).forEach(d=>{l?this._renderer.addClass(this._ngEl.nativeElement,d):this._renderer.removeClass(this._ngEl.nativeElement,d)})}};t.\u0275fac=function(l){return new(l||t)(Xi(xs),Xi(ir))},t.\u0275dir=fs({type:t,selectors:[["","ngClass",""]],inputs:{klass:[qi.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let e=t;return e})();var sa=(()=>{let t=class t{constructor(s,l){this._viewContainer=s,this._context=new _h,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=l}set ngIf(s){this._context.$implicit=this._context.ngIf=s,this._updateView()}set ngIfThen(s){kf("ngIfThen",s),this._thenTemplateRef=s,this._thenViewRef=null,this._updateView()}set ngIfElse(s){kf("ngIfElse",s),this._elseTemplateRef=s,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(s,l){return!0}};t.\u0275fac=function(l){return new(l||t)(Xi(rr),Xi(Th))},t.\u0275dir=fs({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),_h=class{constructor(){this.$implicit=null,this.ngIf=null}};function kf(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${ri(t)}'.`)}var Vf=(()=>{let t=class t{constructor(s,l,d){this._ngEl=s,this._differs=l,this._renderer=d,this._ngStyle=null,this._differ=null}set ngStyle(s){this._ngStyle=s,!this._differ&&s&&(this._differ=this._differs.find(s).create())}ngDoCheck(){if(this._differ){let s=this._differ.diff(this._ngStyle);s&&this._applyChanges(s)}}_setStyle(s,l){let[d,y]=s.split("."),w=d.indexOf("-")===-1?void 0:vn.DashCase;l!=null?this._renderer.setStyle(this._ngEl.nativeElement,d,y?`${l}${y}`:l,w):this._renderer.removeStyle(this._ngEl.nativeElement,d,w)}_applyChanges(s){s.forEachRemovedItem(l=>this._setStyle(l.key,null)),s.forEachAddedItem(l=>this._setStyle(l.key,l.currentValue)),s.forEachChangedItem(l=>this._setStyle(l.key,l.currentValue))}};t.\u0275fac=function(l){return new(l||t)(Xi(xs),Xi(fh),Xi(ir))},t.\u0275dir=fs({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let e=t;return e})();var pr=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=ps({type:t}),t.\u0275inj=us({});let e=t;return e})(),Wf="browser",vb="server";function kh(e){return e===vb}var ia=class{};var oa=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(r=>{let s=r.indexOf(":");if(s>0){let l=r.slice(0,s),d=l.toLowerCase(),y=r.slice(s+1).trim();this.maybeSetNormalizedName(l,d),this.headers.has(d)?this.headers.get(d).push(y):this.headers.set(d,[y])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,s)=>{this.setHeaderEntries(s,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,s])=>{this.setHeaderEntries(r,s)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){let r=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(t.name,r);let l=(t.op==="a"?this.headers.get(r):void 0)||[];l.push(...s),this.headers.set(r,l);break;case"d":let d=t.value;if(!d)this.headers.delete(r),this.normalizedNames.delete(r);else{let y=this.headers.get(r);if(!y)return;y=y.filter(w=>d.indexOf(w)===-1),y.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,y)}break}}setHeaderEntries(t,r){let s=(Array.isArray(r)?r:[r]).map(d=>d.toString()),l=t.toLowerCase();this.headers.set(l,s),this.maybeSetNormalizedName(t,l)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}};var Gf=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Gf||{}),Eh=class{constructor(t,r=Zf.Ok,s="OK"){this.headers=t.headers||new oa,this.status=t.status!==void 0?t.status:r,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var aa=class e extends Eh{constructor(t={}){super(t),this.type=Gf.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Zf=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Zf||{});var Mb=new Qe("");var zf="b",Uf="h",Xf="s",Yf="st",Hf="u",$f="rt",ra=new Qe(""),Cb=["GET","HEAD"];function wb(e,t){let j=ye(ra),{isCacheActive:r}=j,s=Ec(j,["isCacheActive"]),{transferCache:l,method:d}=e;if(!r||d==="POST"&&!s.includePostRequests&&!l||d!=="POST"&&!Cb.includes(d)||l===!1||s.filter?.(e)===!1)return t(e);let y=ye(Wn),w=Db(e),E=y.get(w,null),M=s.includeHeaders;if(typeof l=="object"&&l.includeHeaders&&(M=l.includeHeaders),E){let{[zf]:Y,[$f]:re,[Uf]:te,[Xf]:de,[Yf]:He,[Hf]:Tt}=E,be=Y;switch(re){case"arraybuffer":be=new TextEncoder().encode(Y).buffer;break;case"blob":be=new Blob([Y]);break}let Ct=new oa(te);return We(new aa({body:be,headers:Ct,status:de,statusText:He,url:Tt}))}return t(e).pipe(Lt(Y=>{Y instanceof aa&&y.set(w,{[zf]:Y.body,[Uf]:Tb(Y.headers,M),[Xf]:Y.status,[Yf]:Y.statusText,[Hf]:Y.url||"",[$f]:e.responseType})}))}function Tb(e,t){if(!t)return{};let r={};for(let s of t){let l=e.getAll(s);l!==null&&(r[s]=l)}return r}function Db(e){let{params:t,method:r,responseType:s,url:l}=e,d=t.keys().sort().map(E=>`${E}=${t.getAll(E)}`).join("&"),y=r+"."+s+"."+l+"?"+d,w=Sb(y);return w}function Sb(e){let t=0;for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function Kf(e){return[{provide:ra,useFactory:()=>(sr("NgHttpTransferCache"),Te({isCacheActive:!0},e))},{provide:Mb,useValue:wb,multi:!0,deps:[Wn,ra]},{provide:vs,multi:!0,useFactory:()=>{let t=ye(Mn),r=ye(ra);return()=>{Sh(t).then(()=>{r.isCacheActive=!1})}}}]}var Lh=class extends ta{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rh=class e extends Lh{static makeCurrent(){Ff(new e)}onAndCancel(t,r,s){return t.addEventListener(r,s),()=>{t.removeEventListener(r,s)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=Ib();return r==null?null:Pb(r)}resetBaseElement(){fr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Of(document.cookie,t)}},fr=null;function Ib(){return fr=fr||document.querySelector("base"),fr?fr.getAttribute("href"):null}function Pb(e){return new URL(e,document.baseURI).pathname}var _b=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac});let e=t;return e})(),Nh=new Qe(""),eg=(()=>{let t=class t{constructor(s,l){this._zone=l,this._eventNameToPlugin=new Map,s.forEach(d=>{d.manager=this}),this._plugins=s.slice().reverse()}addEventListener(s,l,d){return this._findPluginFor(l).addEventListener(s,l,d)}getZone(){return this._zone}_findPluginFor(s){let l=this._eventNameToPlugin.get(s);if(l)return l;if(l=this._plugins.find(y=>y.supports(s)),!l)throw new Ee(5101,!1);return this._eventNameToPlugin.set(s,l),l}};t.\u0275fac=function(l){return new(l||t)(lt(Nh),lt(Pt))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac});let e=t;return e})(),la=class{constructor(t){this._doc=t}},Ah="ng-app-id",tg=(()=>{let t=class t{constructor(s,l,d,y={}){this.doc=s,this.appId=l,this.nonce=d,this.platformId=y,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kh(y),this.resetHostNodes()}addStyles(s){for(let l of s)this.changeUsageCount(l,1)===1&&this.onStyleAdded(l)}removeStyles(s){for(let l of s)this.changeUsageCount(l,-1)<=0&&this.onStyleRemoved(l)}ngOnDestroy(){let s=this.styleNodesInDOM;s&&(s.forEach(l=>l.remove()),s.clear());for(let l of this.getAllStyles())this.onStyleRemoved(l);this.resetHostNodes()}addHost(s){this.hostNodes.add(s);for(let l of this.getAllStyles())this.addStyleToHost(s,l)}removeHost(s){this.hostNodes.delete(s)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(s){for(let l of this.hostNodes)this.addStyleToHost(l,s)}onStyleRemoved(s){let l=this.styleRef;l.get(s)?.elements?.forEach(d=>d.remove()),l.delete(s)}collectServerRenderedStyles(){let s=this.doc.head?.querySelectorAll(`style[${Ah}="${this.appId}"]`);if(s?.length){let l=new Map;return s.forEach(d=>{d.textContent!=null&&l.set(d.textContent,d)}),l}return null}changeUsageCount(s,l){let d=this.styleRef;if(d.has(s)){let y=d.get(s);return y.usage+=l,y.usage}return d.set(s,{usage:l,elements:[]}),l}getStyleElement(s,l){let d=this.styleNodesInDOM,y=d?.get(l);if(y?.parentNode===s)return d.delete(l),y.removeAttribute(Ah),y;{let w=this.doc.createElement("style");return this.nonce&&w.setAttribute("nonce",this.nonce),w.textContent=l,this.platformIsServer&&w.setAttribute(Ah,this.appId),s.appendChild(w),w}}addStyleToHost(s,l){let d=this.getStyleElement(s,l),y=this.styleRef,w=y.get(l)?.elements;w?w.push(d):y.set(l,{elements:[d],usage:1})}resetHostNodes(){let s=this.hostNodes;s.clear(),s.add(this.doc.head)}};t.\u0275fac=function(l){return new(l||t)(lt(wi),lt(Wo),lt(rh,8),lt(sn))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac});let e=t;return e})(),Fh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vh=/%COMP%/g,ig="%COMP%",kb=`_nghost-${ig}`,Eb=`_ngcontent-${ig}`,Ab=!0,Fb=new Qe("",{providedIn:"root",factory:()=>Ab});function Lb(e){return Eb.replace(Vh,e)}function Rb(e){return kb.replace(Vh,e)}function ng(e,t){return t.map(r=>r.replace(Vh,e))}var Qf=(()=>{let t=class t{constructor(s,l,d,y,w,E,M,j=null){this.eventManager=s,this.sharedStylesHost=l,this.appId=d,this.removeStylesOnCompDestroy=y,this.doc=w,this.platformId=E,this.ngZone=M,this.nonce=j,this.rendererByCompId=new Map,this.platformIsServer=kh(E),this.defaultRenderer=new gr(s,w,M,this.platformIsServer)}createRenderer(s,l){if(!s||!l)return this.defaultRenderer;this.platformIsServer&&l.encapsulation===ji.ShadowDom&&(l=At(Te({},l),{encapsulation:ji.Emulated}));let d=this.getOrCreateRenderer(s,l);return d instanceof ha?d.applyToHost(s):d instanceof mr&&d.applyStyles(),d}getOrCreateRenderer(s,l){let d=this.rendererByCompId,y=d.get(l.id);if(!y){let w=this.doc,E=this.ngZone,M=this.eventManager,j=this.sharedStylesHost,Y=this.removeStylesOnCompDestroy,re=this.platformIsServer;switch(l.encapsulation){case ji.Emulated:y=new ha(M,j,l,this.appId,Y,w,E,re);break;case ji.ShadowDom:return new Oh(M,j,s,l,w,E,this.nonce,re);default:y=new mr(M,j,l,Y,w,E,re);break}d.set(l.id,y)}return y}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(l){return new(l||t)(lt(eg),lt(tg),lt(Wo),lt(Fb),lt(wi),lt(sn),lt(Pt),lt(rh))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac});let e=t;return e})(),gr=class{constructor(t,r,s,l){this.eventManager=t,this.doc=r,this.ngZone=s,this.platformIsServer=l,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Fh[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(Jf(t)?t.content:t).appendChild(r)}insertBefore(t,r,s){t&&(Jf(t)?t.content:t).insertBefore(r,s)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let s=typeof t=="string"?this.doc.querySelector(t):t;if(!s)throw new Ee(-5104,!1);return r||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,s,l){if(l){r=l+":"+r;let d=Fh[l];d?t.setAttributeNS(d,r,s):t.setAttribute(r,s)}else t.setAttribute(r,s)}removeAttribute(t,r,s){if(s){let l=Fh[s];l?t.removeAttributeNS(l,r):t.removeAttribute(`${s}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,s,l){l&(vn.DashCase|vn.Important)?t.style.setProperty(r,s,l&vn.Important?"important":""):t.style[r]=s}removeStyle(t,r,s){s&vn.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,s){t!=null&&(t[r]=s)}setValue(t,r){t.nodeValue=r}listen(t,r,s){if(typeof t=="string"&&(t=bs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(s))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function Jf(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Oh=class extends gr{constructor(t,r,s,l,d,y,w,E){super(t,d,y,E),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let M=ng(l.id,l.styles);for(let j of M){let Y=document.createElement("style");w&&Y.setAttribute("nonce",w),Y.textContent=j,this.shadowRoot.appendChild(Y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,s){return super.insertBefore(this.nodeOrShadowRoot(t),r,s)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mr=class extends gr{constructor(t,r,s,l,d,y,w,E){super(t,d,y,w),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=l,this.styles=E?ng(E,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ha=class extends mr{constructor(t,r,s,l,d,y,w,E){let M=l+"-"+s.id;super(t,r,s,d,y,w,E,M),this.contentAttr=Lb(M),this.hostAttr=Rb(M)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let s=super.createElement(t,r);return super.setAttribute(s,this.contentAttr,""),s}},Nb=(()=>{let t=class t extends la{constructor(s){super(s)}supports(s){return!0}addEventListener(s,l,d){return s.addEventListener(l,d,!1),()=>this.removeEventListener(s,l,d)}removeEventListener(s,l,d){return s.removeEventListener(l,d)}};t.\u0275fac=function(l){return new(l||t)(lt(wi))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac});let e=t;return e})(),qf=["alt","control","meta","shift"],Ob={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bb={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Vb=(()=>{let t=class t extends la{constructor(s){super(s)}supports(s){return t.parseEventName(s)!=null}addEventListener(s,l,d){let y=t.parseEventName(l),w=t.eventCallback(y.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bs().onAndCancel(s,y.domEventName,w))}static parseEventName(s){let l=s.toLowerCase().split("."),d=l.shift();if(l.length===0||!(d==="keydown"||d==="keyup"))return null;let y=t._normalizeKey(l.pop()),w="",E=l.indexOf("code");if(E>-1&&(l.splice(E,1),w="code."),qf.forEach(j=>{let Y=l.indexOf(j);Y>-1&&(l.splice(Y,1),w+=j+".")}),w+=y,l.length!=0||y.length===0)return null;let M={};return M.domEventName=d,M.fullKey=w,M}static matchEventFullKeyCode(s,l){let d=Ob[s.key]||s.key,y="";return l.indexOf("code.")>-1&&(d=s.code,y="code."),d==null||!d?!1:(d=d.toLowerCase(),d===" "?d="space":d==="."&&(d="dot"),qf.forEach(w=>{if(w!==d){let E=Bb[w];E(s)&&(y+=w+".")}}),y+=d,y===l)}static eventCallback(s,l,d){return y=>{t.matchEventFullKeyCode(y,s)&&d.runGuarded(()=>l(y))}}static _normalizeKey(s){return s==="esc"?"escape":s}};t.\u0275fac=function(l){return new(l||t)(lt(wi))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac});let e=t;return e})();function sg(e,t){return Df(Te({rootComponent:e},Wb(t)))}function Wb(e){return{appProviders:[...Yb,...e?.providers??[]],platformProviders:Xb}}function jb(){Rh.makeCurrent()}function zb(){return new nn}function Ub(){return op(document),document}var Xb=[{provide:sn,useValue:Wf},{provide:sh,useValue:jb,multi:!0},{provide:wi,useFactory:Ub,deps:[]}];var Yb=[{provide:Bo,useValue:"root"},{provide:nn,useFactory:zb,deps:[]},{provide:Nh,useClass:Nb,multi:!0,deps:[wi,Pt,sn]},{provide:Nh,useClass:Vb,multi:!0,deps:[wi]},Qf,tg,eg,{provide:Gs,useExisting:Qf},{provide:ia,useClass:_b,deps:[]},[]];var rg=(()=>{let t=class t{constructor(s){this._doc=s}getTitle(){return this._doc.title}setTitle(s){this._doc.title=s||""}};t.\u0275fac=function(l){return new(l||t)(lt(wi))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Bh=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(Bh||{});function og(...e){let t=[],r=new Set,s=r.has(Bh.HttpTransferCacheOptions);for(let{\u0275providers:l,\u0275kind:d}of e)r.add(d),l.length&&t.push(l);return Bn([[],Sf(),r.has(Bh.NoHttpTransferCache)||s?[]:Kf({}),t])}var Ye="primary",Er=Symbol("RouteTitle"),Xh=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Ds(e){return new Xh(e)}function $b(e,t,r){let s=r.path.split("/");if(s.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||s.length<e.length))return null;let l={};for(let d=0;d<s.length;d++){let y=s[d],w=e[d];if(y.startsWith(":"))l[y.substring(1)]=w;else if(y!==w.path)return null}return{consumed:e.slice(0,s.length),posParams:l}}function Gb(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Yi(e[r],t[r]))return!1;return!0}function Yi(e,t){let r=e?Yh(e):void 0,s=t?Yh(t):void 0;if(!r||!s||r.length!=s.length)return!1;let l;for(let d=0;d<r.length;d++)if(l=r[d],!dg(e[l],t[l]))return!1;return!0}function Yh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function dg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),s=[...t].sort();return r.every((l,d)=>s[d]===l)}else return e===t}function pg(e){return e.length>0?e[e.length-1]:null}function Tn(e){return za(e)?e:hr(e)?Ft(Promise.resolve(e)):We(e)}var Zb={exact:gg,subset:mg},fg={exact:Kb,subset:Qb,ignored:()=>!0};function ag(e,t,r){return Zb[r.paths](e.root,t.root,r.matrixParams)&&fg[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function Kb(e,t){return Yi(e,t)}function gg(e,t,r){if(!Xn(e.segments,t.segments)||!da(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let s in t.children)if(!e.children[s]||!gg(e.children[s],t.children[s],r))return!1;return!0}function Qb(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>dg(e[r],t[r]))}function mg(e,t,r){return xg(e,t,t.segments,r)}function xg(e,t,r,s){if(e.segments.length>r.length){let l=e.segments.slice(0,r.length);return!(!Xn(l,r)||t.hasChildren()||!da(l,r,s))}else if(e.segments.length===r.length){if(!Xn(e.segments,r)||!da(e.segments,r,s))return!1;for(let l in t.children)if(!e.children[l]||!mg(e.children[l],t.children[l],s))return!1;return!0}else{let l=r.slice(0,e.segments.length),d=r.slice(e.segments.length);return!Xn(e.segments,l)||!da(e.segments,l,s)||!e.children[Ye]?!1:xg(e.children[Ye],t,d,s)}}function da(e,t,r){return t.every((s,l)=>fg[r](e[l].parameters,s.parameters))}var Cn=class{constructor(t=new pt([],{}),r={},s=null){this.root=t,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){return eM.serialize(this)}},pt=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pa(this)}},Un=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=Ds(this.parameters),this._parameterMap}toString(){return vg(this)}};function Jb(e,t){return Xn(e,t)&&e.every((r,s)=>Yi(r.parameters,t[s].parameters))}function Xn(e,t){return e.length!==t.length?!1:e.every((r,s)=>r.path===t[s].path)}function qb(e,t){let r=[];return Object.entries(e.children).forEach(([s,l])=>{s===Ye&&(r=r.concat(t(l,s)))}),Object.entries(e.children).forEach(([s,l])=>{s!==Ye&&(r=r.concat(t(l,s)))}),r}var xc=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>new ga,providedIn:"root"});let e=t;return e})(),ga=class{parse(t){let r=new $h(t);return new Cn(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${xr(t.root,!0)}`,s=nM(t.queryParams),l=typeof t.fragment=="string"?`#${tM(t.fragment)}`:"";return`${r}${s}${l}`}},eM=new ga;function pa(e){return e.segments.map(t=>vg(t)).join("/")}function xr(e,t){if(!e.hasChildren())return pa(e);if(t){let r=e.children[Ye]?xr(e.children[Ye],!1):"",s=[];return Object.entries(e.children).forEach(([l,d])=>{l!==Ye&&s.push(`${l}:${xr(d,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}else{let r=qb(e,(s,l)=>l===Ye?[xr(e.children[Ye],!1)]:[`${l}:${xr(s,!1)}`]);return Object.keys(e.children).length===1&&e.children[Ye]!=null?`${pa(e)}/${r[0]}`:`${pa(e)}/(${r.join("//")})`}}function yg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ca(e){return yg(e).replace(/%3B/gi,";")}function tM(e){return encodeURI(e)}function Hh(e){return yg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fa(e){return decodeURIComponent(e)}function lg(e){return fa(e.replace(/\+/g,"%20"))}function vg(e){return`${Hh(e.path)}${iM(e.parameters)}`}function iM(e){return Object.entries(e).map(([t,r])=>`;${Hh(t)}=${Hh(r)}`).join("")}function nM(e){let t=Object.entries(e).map(([r,s])=>Array.isArray(s)?s.map(l=>`${ca(r)}=${ca(l)}`).join("&"):`${ca(r)}=${ca(s)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var sM=/^[^\/()?;#]+/;function Wh(e){let t=e.match(sM);return t?t[0]:""}var rM=/^[^\/()?;=#]+/;function oM(e){let t=e.match(rM);return t?t[0]:""}var aM=/^[^=?&#]+/;function lM(e){let t=e.match(aM);return t?t[0]:""}var hM=/^[^&#]+/;function cM(e){let t=e.match(hM);return t?t[0]:""}var $h=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(s[Ye]=new pt(t,r)),s}parseSegment(){let t=Wh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ee(4009,!1);return this.capture(t),new Un(fa(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=oM(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){let l=Wh(this.remaining);l&&(s=l,this.capture(s))}t[fa(r)]=fa(s)}parseQueryParam(t){let r=lM(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){let y=cM(this.remaining);y&&(s=y,this.capture(s))}let l=lg(r),d=lg(s);if(t.hasOwnProperty(l)){let y=t[l];Array.isArray(y)||(y=[y],t[l]=y),y.push(d)}else t[l]=d}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=Wh(this.remaining),l=this.remaining[s.length];if(l!=="/"&&l!==")"&&l!==";")throw new Ee(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Ye);let y=this.parseChildren();r[d]=Object.keys(y).length===1?y[Ye]:new pt([],y),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ee(4011,!1)}};function bg(e){return e.segments.length>0?new pt([],{[Ye]:e}):e}function Mg(e){let t={};for(let[s,l]of Object.entries(e.children)){let d=Mg(l);if(s===Ye&&d.segments.length===0&&d.hasChildren())for(let[y,w]of Object.entries(d.children))t[y]=w;else(d.segments.length>0||d.hasChildren())&&(t[s]=d)}let r=new pt(e.segments,t);return uM(r)}function uM(e){if(e.numberOfChildren===1&&e.children[Ye]){let t=e.children[Ye];return new pt(e.segments.concat(t.segments),t.children)}return e}function Ss(e){return e instanceof Cn}function dM(e,t,r=null,s=null){let l=Cg(e);return wg(l,t,r,s)}function Cg(e){let t;function r(d){let y={};for(let E of d.children){let M=r(E);y[E.outlet]=M}let w=new pt(d.url,y);return d===e&&(t=w),w}let s=r(e.root),l=bg(s);return t??l}function wg(e,t,r,s){let l=e;for(;l.parent;)l=l.parent;if(t.length===0)return jh(l,l,l,r,s);let d=pM(t);if(d.toRoot())return jh(l,l,new pt([],{}),r,s);let y=fM(d,l,e),w=y.processChildren?br(y.segmentGroup,y.index,d.commands):Dg(y.segmentGroup,y.index,d.commands);return jh(l,y.segmentGroup,w,r,s)}function ma(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function wr(e){return typeof e=="object"&&e!=null&&e.outlets}function jh(e,t,r,s,l){let d={};s&&Object.entries(s).forEach(([E,M])=>{d[E]=Array.isArray(M)?M.map(j=>`${j}`):`${M}`});let y;e===t?y=r:y=Tg(e,t,r);let w=bg(Mg(y));return new Cn(w,d,l)}function Tg(e,t,r){let s={};return Object.entries(e.children).forEach(([l,d])=>{d===t?s[l]=r:s[l]=Tg(d,t,r)}),new pt(e.segments,s)}var xa=class{constructor(t,r,s){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=s,t&&s.length>0&&ma(s[0]))throw new Ee(4003,!1);let l=s.find(wr);if(l&&l!==pg(s))throw new Ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new xa(!0,0,e);let t=0,r=!1,s=e.reduce((l,d,y)=>{if(typeof d=="object"&&d!=null){if(d.outlets){let w={};return Object.entries(d.outlets).forEach(([E,M])=>{w[E]=typeof M=="string"?M.split("/"):M}),[...l,{outlets:w}]}if(d.segmentPath)return[...l,d.segmentPath]}return typeof d!="string"?[...l,d]:y===0?(d.split("/").forEach((w,E)=>{E==0&&w==="."||(E==0&&w===""?r=!0:w===".."?t++:w!=""&&l.push(w))}),l):[...l,d]},[]);return new xa(r,t,s)}var ws=class{constructor(t,r,s){this.segmentGroup=t,this.processChildren=r,this.index=s}};function fM(e,t,r){if(e.isAbsolute)return new ws(t,!0,0);if(!r)return new ws(t,!1,NaN);if(r.parent===null)return new ws(r,!0,0);let s=ma(e.commands[0])?0:1,l=r.segments.length-1+s;return gM(r,l,e.numberOfDoubleDots)}function gM(e,t,r){let s=e,l=t,d=r;for(;d>l;){if(d-=l,s=s.parent,!s)throw new Ee(4005,!1);l=s.segments.length}return new ws(s,!1,l-d)}function mM(e){return wr(e[0])?e[0].outlets:{[Ye]:e}}function Dg(e,t,r){if(e??=new pt([],{}),e.segments.length===0&&e.hasChildren())return br(e,t,r);let s=xM(e,t,r),l=r.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){let d=new pt(e.segments.slice(0,s.pathIndex),{});return d.children[Ye]=new pt(e.segments.slice(s.pathIndex),e.children),br(d,0,l)}else return s.match&&l.length===0?new pt(e.segments,{}):s.match&&!e.hasChildren()?Gh(e,t,r):s.match?br(e,0,l):Gh(e,t,r)}function br(e,t,r){if(r.length===0)return new pt(e.segments,{});{let s=mM(r),l={};if(Object.keys(s).some(d=>d!==Ye)&&e.children[Ye]&&e.numberOfChildren===1&&e.children[Ye].segments.length===0){let d=br(e.children[Ye],t,r);return new pt(e.segments,d.children)}return Object.entries(s).forEach(([d,y])=>{typeof y=="string"&&(y=[y]),y!==null&&(l[d]=Dg(e.children[d],t,y))}),Object.entries(e.children).forEach(([d,y])=>{s[d]===void 0&&(l[d]=y)}),new pt(e.segments,l)}}function xM(e,t,r){let s=0,l=t,d={match:!1,pathIndex:0,commandIndex:0};for(;l<e.segments.length;){if(s>=r.length)return d;let y=e.segments[l],w=r[s];if(wr(w))break;let E=`${w}`,M=s<r.length-1?r[s+1]:null;if(l>0&&E===void 0)break;if(E&&M&&typeof M=="object"&&M.outlets===void 0){if(!cg(E,M,y))return d;s+=2}else{if(!cg(E,{},y))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}function Gh(e,t,r){let s=e.segments.slice(0,t),l=0;for(;l<r.length;){let d=r[l];if(wr(d)){let E=yM(d.outlets);return new pt(s,E)}if(l===0&&ma(r[0])){let E=e.segments[t];s.push(new Un(E.path,hg(r[0]))),l++;continue}let y=wr(d)?d.outlets[Ye]:`${d}`,w=l<r.length-1?r[l+1]:null;y&&w&&ma(w)?(s.push(new Un(y,hg(w))),l+=2):(s.push(new Un(y,{})),l++)}return new pt(s,{})}function yM(e){let t={};return Object.entries(e).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(t[r]=Gh(new pt([],{}),0,s))}),t}function hg(e){let t={};return Object.entries(e).forEach(([r,s])=>t[r]=`${s}`),t}function cg(e,t,r){return e==r.path&&Yi(t,r.parameters)}var Mr="imperative",Qt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Qt||{}),Di=class{constructor(t,r){this.id=t,this.url=r}},Tr=class extends Di{constructor(t,r,s="imperative",l=null){super(t,r),this.type=Qt.NavigationStart,this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yn=class extends Di{constructor(t,r,s){super(t,r),this.urlAfterRedirects=s,this.type=Qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ti=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ti||{}),Zh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Zh||{}),wn=class extends Di{constructor(t,r,s,l){super(t,r),this.reason=s,this.code=l,this.type=Qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hn=class extends Di{constructor(t,r,s,l){super(t,r),this.reason=s,this.code=l,this.type=Qt.NavigationSkipped}},Dr=class extends Di{constructor(t,r,s,l){super(t,r),this.error=s,this.target=l,this.type=Qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ya=class extends Di{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=Qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends Di{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=Qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qh=class extends Di{constructor(t,r,s,l,d){super(t,r),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d,this.type=Qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jh=class extends Di{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=Qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qh=class extends Di{constructor(t,r,s,l){super(t,r),this.urlAfterRedirects=s,this.state=l,this.type=Qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ec=class{constructor(t){this.route=t,this.type=Qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tc=class{constructor(t){this.route=t,this.type=Qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ic=class{constructor(t){this.snapshot=t,this.type=Qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nc=class{constructor(t){this.snapshot=t,this.type=Qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sc=class{constructor(t){this.snapshot=t,this.type=Qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rc=class{constructor(t){this.snapshot=t,this.type=Qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Sr=class{},Ir=class{constructor(t){this.url=t}};var oc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ta,this.attachRef=null}},Ta=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(s,l){let d=this.getOrCreateContext(s);d.outlet=l,this.contexts.set(s,d)}onChildOutletDestroyed(s){let l=this.getContext(s);l&&(l.outlet=null,l.attachRef=null)}onOutletDeactivated(){let s=this.contexts;return this.contexts=new Map,s}onOutletReAttached(s){this.contexts=s}getOrCreateContext(s){let l=this.getContext(s);return l||(l=new oc,this.contexts.set(s,l)),l}getContext(s){return this.contexts.get(s)||null}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),va=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=ac(t,this._root);return r?r.children.map(s=>s.value):[]}firstChild(t){let r=ac(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=lc(t,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return lc(t,this._root).map(r=>r.value)}};function ac(e,t){if(e===t.value)return t;for(let r of t.children){let s=ac(e,r);if(s)return s}return null}function lc(e,t){if(e===t.value)return[t];for(let r of t.children){let s=lc(e,r);if(s.length)return s.unshift(t),s}return[]}var pi=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function Cs(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var ba=class extends va{constructor(t,r){super(t),this.snapshot=r,vc(this,t)}toString(){return this.snapshot.toString()}};function Sg(e){let t=vM(e),r=new Zt([new Un("",{})]),s=new Zt({}),l=new Zt({}),d=new Zt({}),y=new Zt(""),w=new Is(r,s,d,y,l,Ye,e,t.root);return w.snapshot=t.root,new ba(new pi(w,[]),t)}function vM(e){let t={},r={},s={},l="",d=new Pr([],t,s,l,r,Ye,e,null,{});return new Ma("",new pi(d,[]))}var Is=class{constructor(t,r,s,l,d,y,w,E){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=s,this.fragmentSubject=l,this.dataSubject=d,this.outlet=y,this.component=w,this._futureSnapshot=E,this.title=this.dataSubject?.pipe(st(M=>M[Er]))??We(void 0),this.url=t,this.params=r,this.queryParams=s,this.fragment=l,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(st(t=>Ds(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(st(t=>Ds(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yc(e,t,r="emptyOnly"){let s,{routeConfig:l}=e;return t!==null&&(r==="always"||l?.path===""||!t.component&&!t.routeConfig?.loadComponent)?s={params:Te(Te({},t.params),e.params),data:Te(Te({},t.data),e.data),resolve:Te(Te(Te(Te({},e.data),t.data),l?.data),e._resolvedData)}:s={params:Te({},e.params),data:Te({},e.data),resolve:Te(Te({},e.data),e._resolvedData??{})},l&&Pg(l)&&(s.resolve[Er]=l.title),s}var Pr=class{get title(){return this.data?.[Er]}constructor(t,r,s,l,d,y,w,E,M){this.url=t,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=y,this.component=w,this.routeConfig=E,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ds(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ds(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(s=>s.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},Ma=class extends va{constructor(t,r){super(r),this.url=t,vc(this,r)}toString(){return Ig(this._root)}};function vc(e,t){t.value._routerState=e,t.children.forEach(r=>vc(e,r))}function Ig(e){let t=e.children.length>0?` { ${e.children.map(Ig).join(", ")} } `:"";return`${e.value}${t}`}function zh(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Yi(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Yi(t.params,r.params)||e.paramsSubject.next(r.params),Gb(t.url,r.url)||e.urlSubject.next(r.url),Yi(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function hc(e,t){let r=Yi(e.params,t.params)&&Jb(e.url,t.url),s=!e.parent!=!t.parent;return r&&!s&&(!e.parent||hc(e.parent,t.parent))}function Pg(e){return typeof e.title=="string"||e.title===null}var bc=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new hi,this.deactivateEvents=new hi,this.attachEvents=new hi,this.detachEvents=new hi,this.parentContexts=ye(Ta),this.location=ye(rr),this.changeDetector=ye(Zo),this.environmentInjector=ye(Mi),this.inputBinder=ye(Mc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(s){if(s.name){let{firstChange:l,previousValue:d}=s.name;if(l)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(s){return this.parentContexts.getContext(s)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let s=this.parentContexts.getContext(this.name);s?.route&&(s.attachRef?this.attach(s.attachRef,s.route):this.activateWith(s.route,s.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ee(4012,!1);this.location.detach();let s=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(s.instance),s}attach(s,l){this.activated=s,this._activatedRoute=l,this.location.insert(s.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(s.instance)}deactivate(){if(this.activated){let s=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(s)}}activateWith(s,l){if(this.isActivated)throw new Ee(4013,!1);this._activatedRoute=s;let d=this.location,w=s.snapshot.component,E=this.parentContexts.getOrCreateContext(this.name).children,M=new cc(s,E,d.injector);this.activated=d.createComponent(w,{index:d.length,injector:M,environmentInjector:l??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(l){return new(l||t)},t.\u0275dir=fs({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ms]});let e=t;return e})(),cc=class{constructor(t,r,s){this.route=t,this.childContexts=r,this.parent=s}get(t,r){return t===Is?this.route:t===Ta?this.childContexts:this.parent.get(t,r)}},Mc=new Qe("");function bM(e,t,r){let s=_r(e,t._root,r?r._root:void 0);return new ba(s,t)}function _r(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let s=r.value;s._futureSnapshot=t.value;let l=MM(e,t,r);return new pi(s,l)}else{if(e.shouldAttach(t.value)){let d=e.retrieve(t.value);if(d!==null){let y=d.route;return y.value._futureSnapshot=t.value,y.children=t.children.map(w=>_r(e,w)),y}}let s=CM(t.value),l=t.children.map(d=>_r(e,d));return new pi(s,l)}}function MM(e,t,r){return t.children.map(s=>{for(let l of r.children)if(e.shouldReuseRoute(s.value,l.value.snapshot))return _r(e,s,l);return _r(e,s)})}function CM(e){return new Is(new Zt(e.url),new Zt(e.params),new Zt(e.queryParams),new Zt(e.fragment),new Zt(e.data),e.outlet,e.component,e)}var _g="ngNavigationCancelingError";function kg(e,t){let{redirectTo:r,navigationBehaviorOptions:s}=Ss(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,l=Eg(!1,Ti.Redirect);return l.url=r,l.navigationBehaviorOptions=s,l}function Eg(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[_g]=!0,r.cancellationCode=t,r}function wM(e){return Ag(e)&&Ss(e.url)}function Ag(e){return!!e&&e[_g]}var TM=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=ds({type:t,selectors:[["ng-component"]],standalone:!0,features:[qo],decls:1,vars:0,template:function(l,d){l&1&&jn(0,"router-outlet")},dependencies:[bc],encapsulation:2});let e=t;return e})();function DM(e,t){return e.providers&&!e._injector&&(e._injector=Ch(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Cc(e){let t=e.children&&e.children.map(Cc),r=t?At(Te({},e),{children:t}):Te({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Ye&&(r.component=TM),r}function Hi(e){return e.outlet||Ye}function SM(e,t){let r=e.filter(s=>Hi(s)===t);return r.push(...e.filter(s=>Hi(s)!==t)),r}function Ar(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var IM=(e,t,r,s)=>st(l=>(new uc(t,l.targetRouterState,l.currentRouterState,r,s).activate(e),l)),uc=class{constructor(t,r,s,l,d){this.routeReuseStrategy=t,this.futureState=r,this.currState=s,this.forwardEvent=l,this.inputBindingEnabled=d}activate(t){let r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,t),zh(this.futureState.root),this.activateChildRoutes(r,s,t)}deactivateChildRoutes(t,r,s){let l=Cs(r);t.children.forEach(d=>{let y=d.value.outlet;this.deactivateRoutes(d,l[y],s),delete l[y]}),Object.values(l).forEach(d=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,r,s){let l=t.value,d=r?r.value:null;if(l===d)if(l.component){let y=s.getContext(l.outlet);y&&this.deactivateChildRoutes(t,r,y.children)}else this.deactivateChildRoutes(t,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let s=r.getContext(t.value.outlet),l=s&&t.value.component?s.children:r,d=Cs(t);for(let y of Object.values(d))this.deactivateRouteAndItsChildren(y,l);if(s&&s.outlet){let y=s.outlet.detach(),w=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:y,route:t,contexts:w})}}deactivateRouteAndOutlet(t,r){let s=r.getContext(t.value.outlet),l=s&&t.value.component?s.children:r,d=Cs(t);for(let y of Object.values(d))this.deactivateRouteAndItsChildren(y,l);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(t,r,s){let l=Cs(r);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new rc(d.value.snapshot))}),t.children.length&&this.forwardEvent(new nc(t.value.snapshot))}activateRoutes(t,r,s){let l=t.value,d=r?r.value:null;if(zh(l),l===d)if(l.component){let y=s.getOrCreateContext(l.outlet);this.activateChildRoutes(t,r,y.children)}else this.activateChildRoutes(t,r,s);else if(l.component){let y=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){let w=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),y.children.onOutletReAttached(w.contexts),y.attachRef=w.componentRef,y.route=w.route.value,y.outlet&&y.outlet.attach(w.componentRef,w.route.value),zh(w.route.value),this.activateChildRoutes(t,null,y.children)}else{let w=Ar(l.snapshot);y.attachRef=null,y.route=l,y.injector=w,y.outlet&&y.outlet.activateWith(l,y.injector),this.activateChildRoutes(t,null,y.children)}}else this.activateChildRoutes(t,null,s)}},Ca=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ts=class{constructor(t,r){this.component=t,this.route=r}};function PM(e,t,r){let s=e._root,l=t?t._root:null;return yr(s,l,r,[s.value])}function _M(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function _s(e,t){let r=Symbol(),s=t.get(e,r);return s===r?typeof e=="function"&&!qu(e)?e:t.get(e):s}function yr(e,t,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){let d=Cs(t);return e.children.forEach(y=>{kM(y,d[y.value.outlet],r,s.concat([y.value]),l),delete d[y.value.outlet]}),Object.entries(d).forEach(([y,w])=>Cr(w,r.getContext(y),l)),l}function kM(e,t,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){let d=e.value,y=t?t.value:null,w=r?r.getContext(e.value.outlet):null;if(y&&d.routeConfig===y.routeConfig){let E=EM(y,d,d.routeConfig.runGuardsAndResolvers);E?l.canActivateChecks.push(new Ca(s)):(d.data=y.data,d._resolvedData=y._resolvedData),d.component?yr(e,t,w?w.children:null,s,l):yr(e,t,r,s,l),E&&w&&w.outlet&&w.outlet.isActivated&&l.canDeactivateChecks.push(new Ts(w.outlet.component,y))}else y&&Cr(t,w,l),l.canActivateChecks.push(new Ca(s)),d.component?yr(e,null,w?w.children:null,s,l):yr(e,null,r,s,l);return l}function EM(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!Xn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Xn(e.url,t.url)||!Yi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hc(e,t)||!Yi(e.queryParams,t.queryParams);case"paramsChange":default:return!hc(e,t)}}function Cr(e,t,r){let s=Cs(e),l=e.value;Object.entries(s).forEach(([d,y])=>{l.component?t?Cr(y,t.children.getContext(d),r):Cr(y,null,r):Cr(y,t,r)}),l.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new Ts(t.outlet.component,l)):r.canDeactivateChecks.push(new Ts(null,l)):r.canDeactivateChecks.push(new Ts(null,l))}function Fr(e){return typeof e=="function"}function AM(e){return typeof e=="boolean"}function FM(e){return e&&Fr(e.canLoad)}function LM(e){return e&&Fr(e.canActivate)}function RM(e){return e&&Fr(e.canActivateChild)}function NM(e){return e&&Fr(e.canDeactivate)}function OM(e){return e&&Fr(e.canMatch)}function Fg(e){return e instanceof Ki||e?.name==="EmptyError"}var ua=Symbol("INITIAL_VALUE");function Ps(){return xi(e=>io(e.map(t=>t.pipe(Qi(1),$a(ua)))).pipe(st(t=>{for(let r of t)if(r!==!0){if(r===ua)return ua;if(r===!1||r instanceof Cn)return r}return!0}),mi(t=>t!==ua),Qi(1)))}function BM(e,t){return Bt(r=>{let{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:y}}=r;return y.length===0&&d.length===0?We(At(Te({},r),{guardsResult:!0})):VM(y,s,l,e).pipe(Bt(w=>w&&AM(w)?WM(s,d,e,t):We(w)),st(w=>At(Te({},r),{guardsResult:w})))})}function VM(e,t,r,s){return Ft(e).pipe(Bt(l=>YM(l.component,l.route,r,t,s)),Pi(l=>l!==!0,!0))}function WM(e,t,r,s){return Ft(t).pipe(kn(l=>is(zM(l.route.parent,s),jM(l.route,s),XM(e,l.path,r),UM(e,l.route,r))),Pi(l=>l!==!0,!0))}function jM(e,t){return e!==null&&t&&t(new sc(e)),We(!0)}function zM(e,t){return e!==null&&t&&t(new ic(e)),We(!0)}function UM(e,t,r){let s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||s.length===0)return We(!0);let l=s.map(d=>no(()=>{let y=Ar(t)??r,w=_s(d,y),E=LM(w)?w.canActivate(t,e):yn(y,()=>w(t,e));return Tn(E).pipe(Pi())}));return We(l).pipe(Ps())}function XM(e,t,r){let s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(y=>_M(y)).filter(y=>y!==null).map(y=>no(()=>{let w=y.guards.map(E=>{let M=Ar(y.node)??r,j=_s(E,M),Y=RM(j)?j.canActivateChild(s,e):yn(M,()=>j(s,e));return Tn(Y).pipe(Pi())});return We(w).pipe(Ps())}));return We(d).pipe(Ps())}function YM(e,t,r,s,l){let d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!d||d.length===0)return We(!0);let y=d.map(w=>{let E=Ar(t)??l,M=_s(w,E),j=NM(M)?M.canDeactivate(e,t,r,s):yn(E,()=>M(e,t,r,s));return Tn(j).pipe(Pi())});return We(y).pipe(Ps())}function HM(e,t,r,s){let l=t.canLoad;if(l===void 0||l.length===0)return We(!0);let d=l.map(y=>{let w=_s(y,e),E=FM(w)?w.canLoad(t,r):yn(e,()=>w(t,r));return Tn(E)});return We(d).pipe(Ps(),Lg(s))}function Lg(e){return Ba(Lt(t=>{if(Ss(t))throw kg(e,t)}),st(t=>t===!0))}function $M(e,t,r,s){let l=t.canMatch;if(!l||l.length===0)return We(!0);let d=l.map(y=>{let w=_s(y,e),E=OM(w)?w.canMatch(t,r):yn(e,()=>w(t,r));return Tn(E)});return We(d).pipe(Ps(),Lg(s))}var kr=class{constructor(t){this.segmentGroup=t||null}},wa=class extends Error{constructor(t){super(),this.urlTree=t}};function Ms(e){return ts(new kr(e))}function GM(e){return ts(new Ee(4e3,!1))}function ZM(e){return ts(Eg(!1,Ti.GuardRejected))}var dc=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let s=[],l=r.root;for(;;){if(s=s.concat(l.segments),l.numberOfChildren===0)return We(s);if(l.numberOfChildren>1||!l.children[Ye])return GM(t.redirectTo);l=l.children[Ye]}}applyRedirectCommands(t,r,s){let l=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,s);if(r.startsWith("/"))throw new wa(l);return l}applyRedirectCreateUrlTree(t,r,s,l){let d=this.createSegmentGroup(t,r.root,s,l);return new Cn(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let s={};return Object.entries(t).forEach(([l,d])=>{if(typeof d=="string"&&d.startsWith(":")){let w=d.substring(1);s[l]=r[w]}else s[l]=d}),s}createSegmentGroup(t,r,s,l){let d=this.createSegments(t,r.segments,s,l),y={};return Object.entries(r.children).forEach(([w,E])=>{y[w]=this.createSegmentGroup(t,E,s,l)}),new pt(d,y)}createSegments(t,r,s,l){return r.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,s))}findPosParam(t,r,s){let l=s[r.path.substring(1)];if(!l)throw new Ee(4001,!1);return l}findOrReturn(t,r){let s=0;for(let l of r){if(l.path===t.path)return r.splice(s),l;s++}return t}},pc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KM(e,t,r,s,l){let d=wc(e,t,r);return d.matched?(s=DM(t,s),$M(s,t,r,l).pipe(st(y=>y===!0?d:Te({},pc)))):We(d)}function wc(e,t,r){if(t.path==="**")return QM(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?Te({},pc):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let l=(t.matcher||$b)(r,e,t);if(!l)return Te({},pc);let d={};Object.entries(l.posParams??{}).forEach(([w,E])=>{d[w]=E.path});let y=l.consumed.length>0?Te(Te({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:r.slice(l.consumed.length),parameters:y,positionalParamSegments:l.posParams??{}}}function QM(e){return{matched:!0,parameters:e.length>0?pg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function ug(e,t,r,s){return r.length>0&&eC(e,r,s)?{segmentGroup:new pt(t,qM(s,new pt(r,e.children))),slicedSegments:[]}:r.length===0&&tC(e,r,s)?{segmentGroup:new pt(e.segments,JM(e,r,s,e.children)),slicedSegments:r}:{segmentGroup:new pt(e.segments,e.children),slicedSegments:r}}function JM(e,t,r,s){let l={};for(let d of r)if(Da(e,t,d)&&!s[Hi(d)]){let y=new pt([],{});l[Hi(d)]=y}return Te(Te({},s),l)}function qM(e,t){let r={};r[Ye]=t;for(let s of e)if(s.path===""&&Hi(s)!==Ye){let l=new pt([],{});r[Hi(s)]=l}return r}function eC(e,t,r){return r.some(s=>Da(e,t,s)&&Hi(s)!==Ye)}function tC(e,t,r){return r.some(s=>Da(e,t,s))}function Da(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function iC(e,t,r,s){return Hi(e)!==s&&(s===Ye||!Da(t,r,e))?!1:wc(t,e,r).matched}function nC(e,t,r){return t.length===0&&!e.children[r]}var fc=class{};function sC(e,t,r,s,l,d,y="emptyOnly"){return new gc(e,t,r,s,l,y,d).recognize()}var rC=31,gc=class{constructor(t,r,s,l,d,y,w){this.injector=t,this.configLoader=r,this.rootComponentType=s,this.config=l,this.urlTree=d,this.paramsInheritanceStrategy=y,this.urlSerializer=w,this.applyRedirects=new dc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ee(4002,`'${t.segmentGroup}'`)}recognize(){let t=ug(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(st(r=>{let s=new Pr([],Object.freeze({}),Object.freeze(Te({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),l=new pi(s,r),d=new Ma("",l),y=dM(s,[],this.urlTree.queryParams,this.urlTree.fragment);return y.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(y),this.inheritParamsAndData(d._root,null),{state:d,tree:y}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Ye).pipe(cn(s=>{if(s instanceof wa)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof kr?this.noMatchError(s):s}))}inheritParamsAndData(t,r){let s=t.value,l=yc(s,r,this.paramsInheritanceStrategy);s.params=Object.freeze(l.params),s.data=Object.freeze(l.data),t.children.forEach(d=>this.inheritParamsAndData(d,s))}processSegmentGroup(t,r,s,l){return s.segments.length===0&&s.hasChildren()?this.processChildren(t,r,s):this.processSegment(t,r,s,s.segments,l,!0).pipe(st(d=>d instanceof pi?[d]:[]))}processChildren(t,r,s){let l=[];for(let d of Object.keys(s.children))d==="primary"?l.unshift(d):l.push(d);return Ft(l).pipe(kn(d=>{let y=s.children[d],w=SM(r,d);return this.processSegmentGroup(t,w,y,d)}),Ha((d,y)=>(d.push(...y),d)),un(null),Ya(),Bt(d=>{if(d===null)return Ms(s);let y=Rg(d);return oC(y),We(y)}))}processSegment(t,r,s,l,d,y){return Ft(r).pipe(kn(w=>this.processSegmentAgainstRoute(w._injector??t,r,w,s,l,d,y).pipe(cn(E=>{if(E instanceof kr)return We(null);throw E}))),Pi(w=>!!w),cn(w=>{if(Fg(w))return nC(s,l,d)?We(new fc):Ms(s);throw w}))}processSegmentAgainstRoute(t,r,s,l,d,y,w){return iC(s,l,d,y)?s.redirectTo===void 0?this.matchSegmentAgainstRoute(t,l,s,d,y):this.allowRedirects&&w?this.expandSegmentAgainstRouteUsingRedirect(t,l,r,s,d,y):Ms(l):Ms(l)}expandSegmentAgainstRouteUsingRedirect(t,r,s,l,d,y){let{matched:w,consumedSegments:E,positionalParamSegments:M,remainingSegments:j}=wc(r,l,d);if(!w)return Ms(r);l.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rC&&(this.allowRedirects=!1));let Y=this.applyRedirects.applyRedirectCommands(E,l.redirectTo,M);return this.applyRedirects.lineralizeSegments(l,Y).pipe(Bt(re=>this.processSegment(t,s,r,re.concat(j),y,!1)))}matchSegmentAgainstRoute(t,r,s,l,d){let y=KM(r,s,l,t,this.urlSerializer);return s.path==="**"&&(r.children={}),y.pipe(xi(w=>w.matched?(t=s._injector??t,this.getChildConfig(t,s,l).pipe(xi(({routes:E})=>{let M=s._loadedInjector??t,{consumedSegments:j,remainingSegments:Y,parameters:re}=w,te=new Pr(j,re,Object.freeze(Te({},this.urlTree.queryParams)),this.urlTree.fragment,lC(s),Hi(s),s.component??s._loadedComponent??null,s,hC(s)),{segmentGroup:de,slicedSegments:He}=ug(r,j,Y,E);if(He.length===0&&de.hasChildren())return this.processChildren(M,E,de).pipe(st(be=>be===null?null:new pi(te,be)));if(E.length===0&&He.length===0)return We(new pi(te,[]));let Tt=Hi(s)===d;return this.processSegment(M,E,de,He,Tt?Ye:d,!0).pipe(st(be=>new pi(te,be instanceof pi?[be]:[])))}))):Ms(r)))}getChildConfig(t,r,s){return r.children?We({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?We({routes:r._loadedRoutes,injector:r._loadedInjector}):HM(t,r,s,this.urlSerializer).pipe(Bt(l=>l?this.configLoader.loadChildren(t,r).pipe(Lt(d=>{r._loadedRoutes=d.routes,r._loadedInjector=d.injector})):ZM(r))):We({routes:[],injector:t})}};function oC(e){e.sort((t,r)=>t.value.outlet===Ye?-1:r.value.outlet===Ye?1:t.value.outlet.localeCompare(r.value.outlet))}function aC(e){let t=e.value.routeConfig;return t&&t.path===""}function Rg(e){let t=[],r=new Set;for(let s of e){if(!aC(s)){t.push(s);continue}let l=t.find(d=>s.value.routeConfig===d.value.routeConfig);l!==void 0?(l.children.push(...s.children),r.add(l)):t.push(s)}for(let s of r){let l=Rg(s.children);t.push(new pi(s.value,l))}return t.filter(s=>!r.has(s))}function lC(e){return e.data||{}}function hC(e){return e.resolve||{}}function cC(e,t,r,s,l,d){return Bt(y=>sC(e,t,r,s,y.extractedUrl,l,d).pipe(st(({state:w,tree:E})=>At(Te({},y),{targetSnapshot:w,urlAfterRedirects:E}))))}function uC(e,t){return Bt(r=>{let{targetSnapshot:s,guards:{canActivateChecks:l}}=r;if(!l.length)return We(r);let d=new Set(l.map(E=>E.route)),y=new Set;for(let E of d)if(!y.has(E))for(let M of Ng(E))y.add(M);let w=0;return Ft(y).pipe(kn(E=>d.has(E)?dC(E,s,e,t):(E.data=yc(E,E.parent,e).resolve,We(void 0))),Lt(()=>w++),ss(1),Bt(E=>w===y.size?We(r):gi))})}function Ng(e){let t=e.children.map(r=>Ng(r)).flat();return[e,...t]}function dC(e,t,r,s){let l=e.routeConfig,d=e._resolve;return l?.title!==void 0&&!Pg(l)&&(d[Er]=l.title),pC(d,e,t,s).pipe(st(y=>(e._resolvedData=y,e.data=yc(e,e.parent,r).resolve,null)))}function pC(e,t,r,s){let l=Yh(e);if(l.length===0)return We({});let d={};return Ft(l).pipe(Bt(y=>fC(e[y],t,r,s).pipe(Pi(),Lt(w=>{d[y]=w}))),ss(1),Xa(d),cn(y=>Fg(y)?gi:ts(y)))}function fC(e,t,r,s){let l=Ar(t)??s,d=_s(e,l),y=d.resolve?d.resolve(t,r):yn(l,()=>d(t,r));return Tn(y)}function Uh(e){return xi(t=>{let r=e(t);return r?Ft(r).pipe(st(()=>t)):We(t)})}var Og=(()=>{let t=class t{buildTitle(s){let l,d=s.root;for(;d!==void 0;)l=this.getResolvedTitleForRoute(d)??l,d=d.children.find(y=>y.outlet===Ye);return l}getResolvedTitleForRoute(s){return s.data[Er]}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>ye(gC),providedIn:"root"});let e=t;return e})(),gC=(()=>{let t=class t extends Og{constructor(s){super(),this.title=s}updateTitle(s){let l=this.buildTitle(s);l!==void 0&&this.title.setTitle(l)}};t.\u0275fac=function(l){return new(l||t)(lt(rg))},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Tc=new Qe("",{providedIn:"root",factory:()=>({})}),Dc=new Qe(""),mC=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ye(Dh)}loadComponent(s){if(this.componentLoaders.get(s))return this.componentLoaders.get(s);if(s._loadedComponent)return We(s._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(s);let l=Tn(s.loadComponent()).pipe(st(Bg),Lt(y=>{this.onLoadEndListener&&this.onLoadEndListener(s),s._loadedComponent=y}),ns(()=>{this.componentLoaders.delete(s)})),d=new es(l,()=>new li).pipe(qn());return this.componentLoaders.set(s,d),d}loadChildren(s,l){if(this.childrenLoaders.get(l))return this.childrenLoaders.get(l);if(l._loadedRoutes)return We({routes:l._loadedRoutes,injector:l._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(l);let y=xC(l,this.compiler,s,this.onLoadEndListener).pipe(ns(()=>{this.childrenLoaders.delete(l)})),w=new es(y,()=>new li).pipe(qn());return this.childrenLoaders.set(l,w),w}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xC(e,t,r,s){return Tn(e.loadChildren()).pipe(st(Bg),Bt(l=>l instanceof Ks||Array.isArray(l)?We(l):Ft(t.compileModuleAsync(l))),st(l=>{s&&s(e);let d,y,w=!1;return Array.isArray(l)?(y=l,w=!0):(d=l.create(r).injector,y=d.get(Dc,[],{optional:!0,self:!0}).flat()),{routes:y.map(Cc),injector:d}}))}function yC(e){return e&&typeof e=="object"&&"default"in e}function Bg(e){return yC(e)?e.default:e}var Sc=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>ye(vC),providedIn:"root"});let e=t;return e})(),vC=(()=>{let t=class t{shouldProcessUrl(s){return!0}extract(s){return s}merge(s,l){return s}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),bC=new Qe("");var MC=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new li,this.transitionAbortSubject=new li,this.configLoader=ye(mC),this.environmentInjector=ye(Mi),this.urlSerializer=ye(xc),this.rootContexts=ye(Ta),this.location=ye(dr),this.inputBindingEnabled=ye(Mc,{optional:!0})!==null,this.titleStrategy=ye(Og),this.options=ye(Tc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ye(Sc),this.createViewTransition=ye(bC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>We(void 0),this.rootComponentType=null;let s=d=>this.events.next(new ec(d)),l=d=>this.events.next(new tc(d));this.configLoader.onLoadEndListener=l,this.configLoader.onLoadStartListener=s}complete(){this.transitions?.complete()}handleNavigationRequest(s){let l=++this.navigationId;this.transitions?.next(At(Te(Te({},this.transitions.value),s),{id:l}))}setupNavigations(s,l,d){return this.transitions=new Zt({id:0,currentUrlTree:l,currentRawUrl:l,extractedUrl:this.urlHandlingStrategy.extract(l),urlAfterRedirects:this.urlHandlingStrategy.extract(l),rawUrl:l,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mr,restoredState:null,currentSnapshot:d.snapshot,targetSnapshot:null,currentRouterState:d,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mi(y=>y.id!==0),st(y=>At(Te({},y),{extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl)})),xi(y=>{this.currentTransition=y;let w=!1,E=!1;return We(y).pipe(Lt(M=>{this.currentNavigation={id:M.id,initialUrl:M.rawUrl,extractedUrl:M.extractedUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?At(Te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xi(M=>{let j=!s.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Y=M.extras.onSameUrlNavigation??s.onSameUrlNavigation;if(!j&&Y!=="reload"){let re="";return this.events.next(new Hn(M.id,this.urlSerializer.serialize(M.rawUrl),re,Zh.IgnoredSameUrlNavigation)),M.resolve(null),gi}if(this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl))return We(M).pipe(xi(re=>{let te=this.transitions?.getValue();return this.events.next(new Tr(re.id,this.urlSerializer.serialize(re.extractedUrl),re.source,re.restoredState)),te!==this.transitions?.getValue()?gi:Promise.resolve(re)}),cC(this.environmentInjector,this.configLoader,this.rootComponentType,s.config,this.urlSerializer,this.paramsInheritanceStrategy),Lt(re=>{y.targetSnapshot=re.targetSnapshot,y.urlAfterRedirects=re.urlAfterRedirects,this.currentNavigation=At(Te({},this.currentNavigation),{finalUrl:re.urlAfterRedirects});let te=new ya(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(re.urlAfterRedirects),re.targetSnapshot);this.events.next(te)}));if(j&&this.urlHandlingStrategy.shouldProcessUrl(M.currentRawUrl)){let{id:re,extractedUrl:te,source:de,restoredState:He,extras:Tt}=M,be=new Tr(re,this.urlSerializer.serialize(te),de,He);this.events.next(be);let Ct=Sg(this.rootComponentType).snapshot;return this.currentTransition=y=At(Te({},M),{targetSnapshot:Ct,urlAfterRedirects:te,extras:At(Te({},Tt),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=te,We(y)}else{let re="";return this.events.next(new Hn(M.id,this.urlSerializer.serialize(M.extractedUrl),re,Zh.IgnoredByUrlHandlingStrategy)),M.resolve(null),gi}}),Lt(M=>{let j=new Kh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(j)}),st(M=>(this.currentTransition=y=At(Te({},M),{guards:PM(M.targetSnapshot,M.currentSnapshot,this.rootContexts)}),y)),BM(this.environmentInjector,M=>this.events.next(M)),Lt(M=>{if(y.guardsResult=M.guardsResult,Ss(M.guardsResult))throw kg(this.urlSerializer,M.guardsResult);let j=new Qh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.events.next(j)}),mi(M=>M.guardsResult?!0:(this.cancelNavigationTransition(M,"",Ti.GuardRejected),!1)),Uh(M=>{if(M.guards.canActivateChecks.length)return We(M).pipe(Lt(j=>{let Y=new Jh(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot);this.events.next(Y)}),xi(j=>{let Y=!1;return We(j).pipe(uC(this.paramsInheritanceStrategy,this.environmentInjector),Lt({next:()=>Y=!0,complete:()=>{Y||this.cancelNavigationTransition(j,"",Ti.NoDataFromResolver)}}))}),Lt(j=>{let Y=new qh(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot);this.events.next(Y)}))}),Uh(M=>{let j=Y=>{let re=[];Y.routeConfig?.loadComponent&&!Y.routeConfig._loadedComponent&&re.push(this.configLoader.loadComponent(Y.routeConfig).pipe(Lt(te=>{Y.component=te}),st(()=>{})));for(let te of Y.children)re.push(...j(te));return re};return io(j(M.targetSnapshot.root)).pipe(un(null),Qi(1))}),Uh(()=>this.afterPreactivation()),xi(()=>{let{currentSnapshot:M,targetSnapshot:j}=y,Y=this.createViewTransition?.(this.environmentInjector,M.root,j.root);return Y?Ft(Y).pipe(st(()=>y)):We(y)}),st(M=>{let j=bM(s.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return this.currentTransition=y=At(Te({},M),{targetRouterState:j}),this.currentNavigation.targetRouterState=j,y}),Lt(()=>{this.events.next(new Sr)}),IM(this.rootContexts,s.routeReuseStrategy,M=>this.events.next(M),this.inputBindingEnabled),Qi(1),Lt({next:M=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yn(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects))),this.titleStrategy?.updateTitle(M.targetRouterState.snapshot),M.resolve(!0)},complete:()=>{w=!0}}),Ga(this.transitionAbortSubject.pipe(Lt(M=>{throw M}))),ns(()=>{!w&&!E&&this.cancelNavigationTransition(y,"",Ti.SupersededByNewNavigation),this.currentNavigation?.id===y.id&&(this.currentNavigation=null)}),cn(M=>{if(E=!0,Ag(M))this.events.next(new wn(y.id,this.urlSerializer.serialize(y.extractedUrl),M.message,M.cancellationCode)),wM(M)?this.events.next(new Ir(M.url)):y.resolve(!1);else{this.events.next(new Dr(y.id,this.urlSerializer.serialize(y.extractedUrl),M,y.targetSnapshot??void 0));try{y.resolve(s.errorHandler(M))}catch(j){this.options.resolveNavigationPromiseOnError?y.resolve(!1):y.reject(j)}}return gi}))}))}cancelNavigationTransition(s,l,d){let y=new wn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,d);this.events.next(y),s.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function CC(e){return e!==Mr}var wC=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>ye(TC),providedIn:"root"});let e=t;return e})(),mc=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},TC=(()=>{let t=class t extends mc{};t.\u0275fac=(()=>{let s;return function(d){return(s||(s=ql(t)))(d||t)}})(),t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Vg=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:()=>ye(DC),providedIn:"root"});let e=t;return e})(),DC=(()=>{let t=class t extends Vg{constructor(){super(...arguments),this.location=ye(dr),this.urlSerializer=ye(xc),this.options=ye(Tc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ye(Sc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Sg(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(s){return this.location.subscribe(l=>{l.type==="popstate"&&s(l.url,l.state)})}handleRouterEvent(s,l){if(s instanceof Tr)this.stateMemento=this.createStateMemento();else if(s instanceof Hn)this.rawUrlTree=l.initialUrl;else if(s instanceof ya){if(this.urlUpdateStrategy==="eager"&&!l.extras.skipLocationChange){let d=this.urlHandlingStrategy.merge(l.finalUrl,l.initialUrl);this.setBrowserUrl(d,l)}}else s instanceof Sr?(this.currentUrlTree=l.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(l.finalUrl,l.initialUrl),this.routerState=l.targetRouterState,this.urlUpdateStrategy==="deferred"&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l))):s instanceof wn&&(s.code===Ti.GuardRejected||s.code===Ti.NoDataFromResolver)?this.restoreHistory(l):s instanceof Dr?this.restoreHistory(l,!0):s instanceof Yn&&(this.lastSuccessfulId=s.id,this.currentPageId=this.browserPageId)}setBrowserUrl(s,l){let d=this.urlSerializer.serialize(s);if(this.location.isCurrentPathEqualTo(d)||l.extras.replaceUrl){let y=this.browserPageId,w=Te(Te({},l.extras.state),this.generateNgRouterState(l.id,y));this.location.replaceState(d,"",w)}else{let y=Te(Te({},l.extras.state),this.generateNgRouterState(l.id,this.browserPageId+1));this.location.go(d,"",y)}}restoreHistory(s,l=!1){if(this.canceledNavigationResolution==="computed"){let d=this.browserPageId,y=this.currentPageId-d;y!==0?this.location.historyGo(y):this.currentUrlTree===s.finalUrl&&y===0&&(this.resetState(s),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(l&&this.resetState(s),this.resetUrlToCurrentUrlTree())}resetState(s){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(s,l){return this.canceledNavigationResolution==="computed"?{navigationId:s,\u0275routerPageId:l}:{navigationId:s}}};t.\u0275fac=(()=>{let s;return function(d){return(s||(s=ql(t)))(d||t)}})(),t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vr=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(vr||{});function SC(e,t){e.events.pipe(mi(r=>r instanceof Yn||r instanceof wn||r instanceof Dr||r instanceof Hn),st(r=>r instanceof Yn||r instanceof Hn?vr.COMPLETE:(r instanceof wn?r.code===Ti.Redirect||r.code===Ti.SupersededByNewNavigation:!1)?vr.REDIRECTING:vr.FAILED),mi(r=>r!==vr.REDIRECTING),Qi(1)).subscribe(()=>{t()})}function IC(e){throw e}var PC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_C={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wg=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ye(ea),this.stateManager=ye(Vg),this.options=ye(Tc,{optional:!0})||{},this.pendingTasks=ye(or),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ye(MC),this.urlSerializer=ye(xc),this.location=ye(dr),this.urlHandlingStrategy=ye(Sc),this._events=new li,this.errorHandler=this.options.errorHandler||IC,this.navigated=!1,this.routeReuseStrategy=ye(wC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ye(Dc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ye(Mc,{optional:!0}),this.eventsSubscription=new Ot,this.isNgZoneEnabled=ye(Pt)instanceof Pt&&Pt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:s=>{this.console.warn(s)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let s=this.navigationTransitions.events.subscribe(l=>{try{let d=this.navigationTransitions.currentTransition,y=this.navigationTransitions.currentNavigation;if(d!==null&&y!==null){if(this.stateManager.handleRouterEvent(l,y),l instanceof wn&&l.code!==Ti.Redirect&&l.code!==Ti.SupersededByNewNavigation)this.navigated=!0;else if(l instanceof Yn)this.navigated=!0;else if(l instanceof Ir){let w=this.urlHandlingStrategy.merge(l.url,d.currentRawUrl),E={info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||CC(d.source)};this.scheduleNavigation(w,Mr,null,E,{resolve:d.resolve,reject:d.reject,promise:d.promise})}}EC(l)&&this._events.next(l)}catch(d){this.navigationTransitions.transitionAbortSubject.next(d)}});this.eventsSubscription.add(s)}resetRootComponentType(s){this.routerState.root.component=s,this.navigationTransitions.rootComponentType=s}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((s,l)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(s,"popstate",l)},0)})}navigateToSyncWithBrowser(s,l,d){let y={replaceUrl:!0},w=d?.navigationId?d:null;if(d){let M=Te({},d);delete M.navigationId,delete M.\u0275routerPageId,Object.keys(M).length!==0&&(y.state=M)}let E=this.parseUrl(s);this.scheduleNavigation(E,l,w,y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(s){this.config=s.map(Cc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(s,l={}){let{relativeTo:d,queryParams:y,fragment:w,queryParamsHandling:E,preserveFragment:M}=l,j=M?this.currentUrlTree.fragment:w,Y=null;switch(E){case"merge":Y=Te(Te({},this.currentUrlTree.queryParams),y);break;case"preserve":Y=this.currentUrlTree.queryParams;break;default:Y=y||null}Y!==null&&(Y=this.removeEmptyProps(Y));let re;try{let te=d?d.snapshot:this.routerState.snapshot.root;re=Cg(te)}catch{(typeof s[0]!="string"||!s[0].startsWith("/"))&&(s=[]),re=this.currentUrlTree.root}return wg(re,s,Y,j??null)}navigateByUrl(s,l={skipLocationChange:!1}){let d=Ss(s)?s:this.parseUrl(s),y=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(y,Mr,null,l)}navigate(s,l={skipLocationChange:!1}){return kC(s),this.navigateByUrl(this.createUrlTree(s,l),l)}serializeUrl(s){return this.urlSerializer.serialize(s)}parseUrl(s){try{return this.urlSerializer.parse(s)}catch{return this.urlSerializer.parse("/")}}isActive(s,l){let d;if(l===!0?d=Te({},PC):l===!1?d=Te({},_C):d=l,Ss(s))return ag(this.currentUrlTree,s,d);let y=this.parseUrl(s);return ag(this.currentUrlTree,y,d)}removeEmptyProps(s){return Object.entries(s).reduce((l,[d,y])=>(y!=null&&(l[d]=y),l),{})}scheduleNavigation(s,l,d,y,w){if(this.disposed)return Promise.resolve(!1);let E,M,j;w?(E=w.resolve,M=w.reject,j=w.promise):j=new Promise((re,te)=>{E=re,M=te});let Y=this.pendingTasks.add();return SC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Y))}),this.navigationTransitions.handleNavigationRequest({source:l,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:s,extras:y,resolve:E,reject:M,promise:j,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),j.catch(re=>Promise.reject(re))}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=Ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function kC(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Ee(4008,!1)}function EC(e){return!(e instanceof Sr)&&!(e instanceof Ir)}var AC=new Qe("");function jg(e,...t){return Bn([{provide:Dc,multi:!0,useValue:e},[],{provide:Is,useFactory:FC,deps:[Wg]},{provide:vs,multi:!0,useFactory:LC},t.map(r=>r.\u0275providers)])}function FC(e){return e.routerState.root}function LC(){let e=ye(Vn);return t=>{let r=e.get(Mn);if(t!==r.components[0])return;let s=e.get(Wg),l=e.get(RC);e.get(NC)===1&&s.initialNavigation(),e.get(OC,null,Ke.Optional)?.setUpPreloading(),e.get(AC,null,Ke.Optional)?.init(),s.resetRootComponentType(r.componentTypes[0]),l.closed||(l.next(),l.complete(),l.unsubscribe())}}var RC=new Qe("",{factory:()=>new li}),NC=new Qe("",{providedIn:"root",factory:()=>1});var OC=new Qe("");var zg=[];var Ug={providers:[jg(zg),og()]};function BC(e,t){if(e&1&&jn(0,"div",1),e&2){let r=Jo();wh("id",r.chartContainerId),bn("ngStyle",r.styles)}}typeof document=="object"&&document&&(Yg=Xg());var Yg,Hg=(()=>{class e{constructor(){this.shouldUpdateChart=!1,this.isDOMPresent=typeof document=="object"&&!!document,this.chartInstance=new hi,this.options=this.options?this.options:{},this.styles=this.styles?this.styles:{width:"100%",position:"relative"},this.styles.height=this.options.height?this.options.height+"px":"400px",this.chartContainerId="canvasjs-angular-chart-container-"+e._cjsChartContainerId++}ngDoCheck(){this.prevChartOptions!=this.options&&(this.shouldUpdateChart=!0)}ngOnChanges(){this.shouldUpdateChart&&this.chart&&(this.chart.options=this.options,this.chart.render(),this.shouldUpdateChart=!1,this.prevChartOptions=this.options)}ngAfterViewInit(){this.isDOMPresent&&(this.chart=new Yg.Chart(this.chartContainerId,this.options),this.chart.render(),this.prevChartOptions=this.options,this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&this.chart.destroy()}}return e._cjsChartContainerId=0,e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ds({type:e,selectors:[["canvasjs-chart"]],inputs:{options:"options",styles:"styles"},outputs:{chartInstance:"chartInstance"},features:[ms],decls:1,vars:1,consts:[[3,"id","ngStyle",4,"ngIf"],[3,"id","ngStyle"]],template:function(r,s){r&1&&ar(0,BC,1,2,"div",0),r&2&&bn("ngIf",s.isDOMPresent)},dependencies:[sa,Vf],encapsulation:2}),e})(),$g=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ps({type:e}),e.\u0275inj=us({imports:[[pr]]}),e})();function WC(e,t){if(e&1){let r=gf();lr(0,"button",5),cr("click",function(l){Dd(r);let d=Jo();return Sd(d.handleClick(l))}),yf(1,"Back"),ys()}e&2&&bn("ngClass","backButton")}var jC=()=>({width:"100%",height:"360px"}),Gg=(()=>{let t=class t{constructor(){this.isButtonVisible=!1,this.visitorsChartDrilldownHandler=s=>{this.chart.options=this.visitorsDrilldownedChartOptions,this.chart.options.data=this.options[s.dataPoint.name],this.chart.options.title={text:s.dataPoint.name},this.chart.render(),this.isButtonVisible=!0},this.visitorsDrilldownedChartOptions={animationEnabled:!0,theme:"light2",axisY:{gridThickness:0,lineThickness:1},data:[]},this.newVSReturningVisitorsOptions={animationEnabled:!0,theme:"light2",title:{text:"Monthly Energy Bill"},subtitles:[{text:"Click on Any Segment to Drilldown",backgroundColor:"#2eacd1",fontSize:16,fontColor:"white",padding:5}],data:[]},this.options={"New vs Returning Visitors":[{type:"column",name:"Monthly Energy Bill ",startAngle:90,cursor:"pointer",explodeOnClick:!1,showInLegend:!0,legendMarkerType:"square",click:this.visitorsChartDrilldownHandler,indexLabelPlacement:"inside",indexLabelFontColor:"white",dataPoints:[{label:"Feb-22",y:71.2,name:"February Energy Bill",color:"#058dc7",indexLabel:"$ 71.20"},{label:"Mar-22",y:78.3,name:"March Energy Bill",color:"#50b432",indexLabel:"$ 78.30"},{label:"Apr-22",y:85.9,name:"April Energy Bill",color:"#058dc7",indexLabel:"$ 85.90"},{label:"May-22",y:99.4,name:"May Energy Bill ",color:"#50b432",indexLabel:"$ 99.40"},{label:"Jun-22",y:154.2,name:"June Energy Bill",color:"#058dc7",indexLabel:"$ 154.20"},{label:"Jul-22",y:179.8,name:"July Energy Bill",color:"#50b432",indexLabel:"$ 179.80"},{label:"Aug-22",y:202.2,name:"August Energy Bill",color:"#058dc7",indexLabel:"$ 202.20"},{label:"Sep-22",y:164.9,name:"September Energy Bill",color:"#50b432",indexLabel:"$ 164.90"},{label:"Oct-22",y:101,name:"October Energy Bill",color:"#058dc7",indexLabel:"$ 101.00"},{label:"Nov-22",y:95.1,name:"November Energy Bill",color:"#50b432",indexLabel:"$ 95.10"},{label:"Dec-22",y:98.8,name:"December Energy Bill",color:"#058dc7",indexLabel:"$ 98.80"},{label:"Jan-22",y:71.2,name:"january Energy Bill",color:"#50b432",indexLabel:"$ 71.20"}]}],"February Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:43.23},{label:"Dryer",y:8.54},{label:"Range",y:4.27},{label:"Kitchen",y:3.56},{label:"BedRoom 1",y:4.27},{label:"Living Room",y:3.2},{label:"BedRoom 2",y:3.92}]}],"March Energy Bill":[{color:"#50b432",name:"Returning Visitors",type:"column",dataPoints:[{label:"HVAC",y:47.76},{label:"Dryer",y:9.4},{label:"Range",y:4.7},{label:"Kitchen",y:3.92},{label:"BedRoom 1",y:4.7},{label:"Living Room",y:3.52},{label:"BedRoom 2",y:4.31}]}],"April Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:53.26},{label:"Dryer",y:9.45},{label:"Range",y:5.15},{label:"Kitchen",y:4.3},{label:"BedRoom 1",y:5.15},{label:"Living Room",y:3.87},{label:"BedRoom 2",y:4.72}]}],"May Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:62.62},{label:"Dryer",y:9.94},{label:"Range",y:5.96},{label:"Kitchen",y:4.97},{label:"BedRoom 1",y:5.96},{label:"Living Room",y:4.47},{label:"BedRoom 2",y:5.47}]}],"June Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:102.54},{label:"Dryer",y:13.88},{label:"Range",y:7.71},{label:"Kitchen",y:6.17},{label:"BedRoom 1",y:9.25},{label:"Living Room",y:6.94},{label:"BedRoom 2",y:7.71}]}],"July Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:124.06},{label:"Dryer",y:16.18},{label:"Range",y:8.99},{label:"Kitchen",y:7.19},{label:"BedRoom 1",y:7.19},{label:"Living Room",y:7.19},{label:"BedRoom 2",y:8.99}]}],"August Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:137.43},{label:"Dryer",y:18.19},{label:"Range",y:10.11},{label:"Kitchen",y:8.08},{label:"BedRoom 1",y:10.11},{label:"Living Room",y:8.08},{label:"BedRoom 2",y:10.11}]}],"September Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:112.13},{label:"Dryer",y:14.84},{label:"Range",y:8.25},{label:"Kitchen",y:6.6},{label:"BedRoom 1",y:6.6},{label:"Living Room",y:7.42},{label:"BedRoom 2",y:9.07}]}],"October Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:62.62},{label:"Dryer",y:11.11},{label:"Range",y:6.06},{label:"Kitchen",y:5.05},{label:"BedRoom 1",y:6.06},{label:"Living Room",y:4.55},{label:"BedRoom 2",y:5.56}]}],"November Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:58.96},{label:"Dryer",y:10.46},{label:"Range",y:5.71},{label:"Kitchen",y:4.76},{label:"BedRoom 1",y:5.71},{label:"Living Room",y:4.28},{label:"BedRoom 2",y:5.23}]}],"December Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:60.27},{label:"Dryer",y:11.86},{label:"Range",y:5.93},{label:"Kitchen",y:4.94},{label:"BedRoom 1",y:5.93},{label:"Living Room",y:4.45},{label:"BedRoom 2",y:5.43}]}],"january Energy Bill":[{color:"#058dc7",name:"New Visitors",type:"column",dataPoints:[{label:"HVAC",y:43.23},{label:"Dryer",y:8.54},{label:"Range",y:4.27},{label:"Kitchen",y:3.56},{label:"BedRoom 1",y:4.27},{label:"Living Room",y:3.2},{label:"BedRoom 2",y:3.92}]}]}}handleClick(s){this.chart.options=this.newVSReturningVisitorsOptions,this.chart.options.data=this.options["New vs Returning Visitors"],this.chart.render(),this.isButtonVisible=!1}getChartInstance(s){this.chart=s,this.chart.options=this.newVSReturningVisitorsOptions,this.chart.options.data=this.options["New vs Returning Visitors"],this.chart.render()}};t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=ds({type:t,selectors:[["app-root"]],standalone:!0,features:[qo],decls:7,vars:4,consts:[[1,"container"],[1,"card"],[1,"card-body"],[3,"options","styles","chartInstance"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(l,d){l&1&&(lr(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"canvasjs-chart",3),cr("chartInstance",function(w){return d.getChartInstance(w)}),ys(),ar(5,WC,2,1,"button",4),ys()()()(),jn(6,"router-outlet")),l&2&&(gh(4),bn("options",d.chartOptions)("styles",bf(3,jC)),gh(),bn("ngIf",d.isButtonVisible))},dependencies:[pr,Bf,sa,bc,$g,Hg],styles:[".backButton[_ngcontent-%COMP%]{border-radius:4px;padding:8px;border:none;font-size:16px;background-color:#2eacd1;color:#fff;position:absolute;top:10px;right:10px;cursor:pointer}"]});let e=t;return e})();sg(Gg,Ug).catch(e=>console.error(e));
